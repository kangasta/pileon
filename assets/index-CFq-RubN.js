(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Or=!1;var vr=Array.isArray,ri=Array.prototype.indexOf,Kr=Array.from,qn=Object.defineProperty,St=Object.getOwnPropertyDescriptor,Vn=Object.getOwnPropertyDescriptors,ni=Object.prototype,ai=Array.prototype,zr=Object.getPrototypeOf,cn=Object.isExtensible;const Tt=()=>{};function ii(t){return t()}function Nr(t){for(var e=0;e<t.length;e++)t[e]()}function Bn(){var t,e,r=new Promise((n,a)=>{t=n,e=a});return{promise:r,resolve:t,reject:e}}function qr(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const n of t)if(r.push(n),r.length===e)break;return r}const ue=2,Vr=4,hr=8,oi=1<<24,Be=16,He=32,vt=64,pr=128,De=512,oe=1024,_e=2048,Ie=4096,Se=8192,ze=16384,Br=32768,lt=65536,dn=1<<17,Hn=1<<18,xt=1<<19,Wn=1<<20,ut=32768,Pr=1<<21,Hr=1<<22,Ze=1<<23,ot=Symbol("$state"),si=Symbol("legacy props"),li=Symbol(""),_t=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function gr(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ui(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function fi(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ci(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function di(t){throw new Error("https://svelte.dev/e/effect_orphan")}function vi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function hi(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function pi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function gi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function bi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function mi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Gn=1,Jn=2,Yn=4,_i=8,yi=16,wi=1,Si=2,Ti=4,ki=8,Ei=16,Ci=1,Ai=2,de=Symbol(),Oi="http://www.w3.org/1999/xhtml";function Ni(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Zn(t){return t===this.v}function Qn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Xn(t){return!Qn(t,this.v)}let Mt=!1,Pi=!1;function Di(){Mt=!0}let X=null;function Et(t){X=t}function ea(t){return ta().get(t)}function Fi(t,e){return ta().set(t,e),e}function fe(t,e=!1,r){X={p:X,i:!1,c:null,e:null,s:t,x:null,l:Mt&&!e?{s:null,u:null,$:[]}:null}}function ce(t){var e=X,r=e.e;if(r!==null){e.e=null;for(var n of r)pa(n)}return e.i=!0,X=e.p,{}}function Gt(){return!Mt||X!==null&&X.l===null}function ta(t){return X===null&&gr(),X.c??=new Map(xi(X)||void 0)}function xi(t){let e=t.p;for(;e!==null;){const r=e.c;if(r!==null)return r;e=e.p}return null}let yt=[];function Mi(){var t=yt;yt=[],Nr(t)}function Rt(t){if(yt.length===0){var e=yt;queueMicrotask(()=>{e===yt&&Mi()})}yt.push(t)}function ra(t){var e=Y;if(e===null)return J.f|=Ze,t;if((e.f&Br)===0){if((e.f&pr)===0)throw t;e.b.error(t)}else Ct(t,e)}function Ct(t,e){for(;e!==null;){if((e.f&pr)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw t}const Qt=new Set;let te=null,Ce=null,Fe=[],Wr=null,Dr=!1;class Me{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#i=[];#a=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(e){Fe=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const n of e)this.#o(n,r);this.is_fork||this.#f(),this.is_deferred()?(this.#s(r.effects),this.#s(r.render_effects),this.#s(r.block_effects)):(te=null,vn(r.render_effects),vn(r.effects),this.#l?.resolve()),Ce=null}#o(e,r){e.f^=oe;for(var n=e.first;n!==null;){var a=n.f,i=(a&(He|vt))!==0,o=i&&(a&oe)!==0,u=o||(a&Se)!==0||this.skipped_effects.has(n);if((n.f&pr)!==0&&n.b?.is_pending()&&(r={parent:r,effect:n,effects:[],render_effects:[],block_effects:[]}),!u&&n.fn!==null){i?n.f^=oe:(a&Vr)!==0?r.effects.push(n):Lt(n)&&((n.f&Be)!==0&&r.block_effects.push(n),Pt(n));var s=n.first;if(s!==null){n=s;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)l===r.effect&&(this.#s(r.effects),this.#s(r.render_effects),this.#s(r.block_effects),r=r.parent),n=l.next,l=l.parent}}#s(e){for(const r of e)((r.f&_e)!==0?this.#i:this.#a).push(r),this.#u(r.deps),le(r,oe)}#u(e){if(e!==null)for(const r of e)(r.f&ue)===0||(r.f&ut)===0||(r.f^=ut,this.#u(r.deps))}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&Ze)===0&&(this.current.set(e,e.v),Ce?.set(e,e.v))}activate(){te=this,this.apply()}deactivate(){te===this&&(te=null,Ce=null)}flush(){if(this.activate(),Fe.length>0){if(Ri(),te!==null&&te!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#f(){if(this.#n===0){for(const e of this.#e)e();this.#e.clear()}this.#r===0&&this.#c()}#c(){if(Qt.size>1){this.previous.clear();var e=Ce,r=!0,n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of Qt){if(i===this){r=!1;continue}const o=[];for(const[s,l]of this.current){if(i.current.has(s))if(r&&l!==i.current.get(s))i.current.set(s,l);else continue;o.push(s)}if(o.length===0)continue;const u=[...i.current.keys()].filter(s=>!this.current.has(s));if(u.length>0){var a=Fe;Fe=[];const s=new Set,l=new Map;for(const h of o)na(h,u,s,l);if(Fe.length>0){te=i,i.apply();for(const h of Fe)i.#o(h,n);i.deactivate()}Fe=a}}te=null,Ce=e}this.committed=!0,Qt.delete(this)}increment(e){this.#r+=1,e&&(this.#n+=1)}decrement(e){this.#r-=1,e&&(this.#n-=1),this.revive()}revive(){for(const e of this.#i)le(e,_e),ft(e);for(const e of this.#a)le(e,Ie),ft(e);this.#i=[],this.#a=[],this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=Bn()).promise}static ensure(){if(te===null){const e=te=new Me;Qt.add(te),Me.enqueue(()=>{te===e&&e.flush()})}return te}static enqueue(e){Rt(e)}apply(){}}function Ri(){var t=Xe;Dr=!0;var e=null;try{var r=0;for(nr(!0);Fe.length>0;){var n=Me.ensure();if(r++>1e3){var a,i;Li()}n.process(Fe),Qe.clear()}}finally{Dr=!1,nr(t),Wr=null}}function Li(){try{vi()}catch(t){Ct(t,Wr)}}let Ke=null;function vn(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var n=t[r++];if((n.f&(ze|Se))===0&&Lt(n)&&(Ke=new Set,Pt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?_a(n):n.fn=null),Ke?.size>0)){Qe.clear();for(const a of Ke){if((a.f&(ze|Se))!==0)continue;const i=[a];let o=a.parent;for(;o!==null;)Ke.has(o)&&(Ke.delete(o),i.push(o)),o=o.parent;for(let u=i.length-1;u>=0;u--){const s=i[u];(s.f&(ze|Se))===0&&Pt(s)}}Ke.clear()}}Ke=null}}function na(t,e,r,n){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const a of t.reactions){const i=a.f;(i&ue)!==0?na(a,e,r,n):(i&(Hr|Be))!==0&&(i&_e)===0&&aa(a,e,n)&&(le(a,_e),ft(a))}}function aa(t,e,r){const n=r.get(t);if(n!==void 0)return n;if(t.deps!==null)for(const a of t.deps){if(e.includes(a))return!0;if((a.f&ue)!==0&&aa(a,e,r))return r.set(a,!0),!0}return r.set(t,!1),!1}function ft(t){for(var e=Wr=t;e.parent!==null;){e=e.parent;var r=e.f;if(Dr&&e===Y&&(r&Be)!==0&&(r&Hn)===0)return;if((r&(vt|He))!==0){if((r&oe)===0)return;e.f^=oe}}Fe.push(e)}function Ii(t){let e=0,r=ct(0),n;return()=>{Vt()&&(c(r),br(()=>(e===0&&(n=Z(()=>t(()=>Kt(r)))),e+=1,()=>{Rt(()=>{e-=1,e===0&&(n?.(),n=void 0,Kt(r))})})))}}var $i=lt|xt|pr;function ji(t,e,r){new Ui(t,e,r)}class Ui{parent;#e=!1;#t;#r=null;#n;#l;#i;#a=null;#o=null;#s=null;#u=null;#f=null;#c=0;#d=0;#h=!1;#v=null;#_=Ii(()=>(this.#v=ct(this.#c),()=>{this.#v=null}));constructor(e,r,n){this.#t=e,this.#n=r,this.#l=n,this.parent=Y.b,this.#e=!!this.#n.pending,this.#i=mr(()=>{Y.b=this;{var a=this.#b();try{this.#a=Ee(()=>n(a))}catch(i){this.error(i)}this.#d>0?this.#g():this.#e=!1}return()=>{this.#f?.remove()}},$i)}#y(){try{this.#a=Ee(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#w(){const e=this.#n.pending;e&&(this.#o=Ee(()=>e(this.#t)),Me.enqueue(()=>{var r=this.#b();this.#a=this.#p(()=>(Me.ensure(),Ee(()=>this.#l(r)))),this.#d>0?this.#g():(kt(this.#o,()=>{this.#o=null}),this.#e=!1)}))}#b(){var e=this.#t;return this.#e&&(this.#f=Ve(),this.#t.before(this.#f),e=this.#f),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#p(e){var r=Y,n=J,a=X;Le(this.#i),ge(this.#i),Et(this.#i.ctx);try{return e()}catch(i){return ra(i),null}finally{Le(r),ge(n),Et(a)}}#g(){const e=this.#n.pending;this.#a!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#f),Sa(this.#a,this.#u)),this.#o===null&&(this.#o=Ee(()=>e(this.#t)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}this.#d+=e,this.#d===0&&(this.#e=!1,this.#o&&kt(this.#o,()=>{this.#o=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(e){this.#m(e),this.#c+=e,this.#v&&Ot(this.#v,this.#c)}get_effect_pending(){return this.#_(),c(this.#v)}error(e){var r=this.#n.onerror;let n=this.#n.failed;if(this.#h||!r&&!n)throw e;this.#a&&(me(this.#a),this.#a=null),this.#o&&(me(this.#o),this.#o=null),this.#s&&(me(this.#s),this.#s=null);var a=!1,i=!1;const o=()=>{if(a){Ni();return}a=!0,i&&mi(),Me.ensure(),this.#c=0,this.#s!==null&&kt(this.#s,()=>{this.#s=null}),this.#e=this.has_pending_snippet(),this.#a=this.#p(()=>(this.#h=!1,Ee(()=>this.#l(this.#t)))),this.#d>0?this.#g():this.#e=!1};var u=J;try{ge(null),i=!0,r?.(e,o),i=!1}catch(s){Ct(s,this.#i&&this.#i.parent)}finally{ge(u)}n&&Rt(()=>{this.#s=this.#p(()=>{Me.ensure(),this.#h=!0;try{return Ee(()=>{n(this.#t,()=>e,()=>o)})}catch(s){return Ct(s,this.#i.parent),null}finally{this.#h=!1}})})}}function qt(t,e){return e}function Ki(t,e,r){for(var n=[],a=e.length,i=0;i<a;i++)Zr(e[i].e,n,!0);ya(n,()=>{var o=n.length===0&&r!==null;if(o){var u=r,s=u.parentNode;Yi(s),s.append(u),t.items.clear(),Ne(t,e[0].prev,e[a-1].next)}for(var l=0;l<a;l++){var h=e[l];o||(t.items.delete(h.k),Ne(t,h.prev,h.next)),me(h.e,!o)}t.first===e[0]&&(t.first=e[0].prev)})}function At(t,e,r,n,a,i=null){var o=t,u=new Map,s=null,l=(e&Yn)!==0,h=(e&Gn)!==0,m=(e&Jn)!==0;if(l){var d=t;o=d.appendChild(Ve())}var b=null,A=Pe(()=>{var y=r();return vr(y)?y:y==null?[]:Kr(y)}),x,p=!0;function S(){zi(_,x,o,e,n),b!==null&&(x.length===0?(b.fragment?(o.before(b.fragment),b.fragment=null):Qr(b.effect),f.first=b.effect):kt(b.effect,()=>{b=null}))}var f=mr(()=>{x=c(A);for(var y=x.length,k=new Set,w=te,N=null,D=va(),$=0;$<y;$+=1){var z=x[$],q=n(z,$),L=p?null:u.get(q);L?(h&&Ot(L.v,z),m?Ot(L.i,$):L.i=$,D&&w.skipped_effects.delete(L.e)):(L=qi(p?o:null,N,z,q,$,a,e,r),p&&(L.o=!0,N===null?s=L:N.next=L,N=L),u.set(q,L)),k.add(q)}if(y===0&&i&&!b)if(p)b={fragment:null,effect:Ee(()=>i(o))};else{var T=document.createDocumentFragment(),P=Ve();T.append(P),b={fragment:T,effect:Ee(()=>i(P))}}if(!p)if(D){for(const[F,v]of u)k.has(F)||w.skipped_effects.add(v.e);w.oncommit(S),w.ondiscard(()=>{})}else S();c(A)}),_={effect:f,items:u,first:s};p=!1}function zi(t,e,r,n,a){var i=(n&_i)!==0,o=e.length,u=t.items,s=t.first,l,h=null,m,d=[],b=[],A,x,p,S;if(i)for(S=0;S<o;S+=1)A=e[S],x=a(A,S),p=u.get(x),p.o&&(p.a?.measure(),(m??=new Set).add(p));for(S=0;S<o;S+=1){if(A=e[S],x=a(A,S),p=u.get(x),t.first??=p,!p.o){p.o=!0;var f=h?h.next:s;Ne(t,h,p),Ne(t,p,f),Tr(p,f,r),h=p,d=[],b=[],s=h.next;continue}if((p.e.f&Se)!==0&&(Qr(p.e),i&&(p.a?.unfix(),(m??=new Set).delete(p))),p!==s){if(l!==void 0&&l.has(p)){if(d.length<b.length){var _=b[0],y;h=_.prev;var k=d[0],w=d[d.length-1];for(y=0;y<d.length;y+=1)Tr(d[y],_,r);for(y=0;y<b.length;y+=1)l.delete(b[y]);Ne(t,k.prev,w.next),Ne(t,h,k),Ne(t,w,_),s=_,h=w,S-=1,d=[],b=[]}else l.delete(p),Tr(p,s,r),Ne(t,p.prev,p.next),Ne(t,p,h===null?t.first:h.next),Ne(t,h,p),h=p;continue}for(d=[],b=[];s!==null&&s.k!==x;)(s.e.f&Se)===0&&(l??=new Set).add(s),b.push(s),s=s.next;if(s===null)continue;p=s}d.push(p),h=p,s=p.next}let N=u.size>o;if(s!==null||l!==void 0){for(var D=l===void 0?[]:Kr(l);s!==null;)(s.e.f&Se)===0&&D.push(s),s=s.next;var $=D.length;if(N=u.size-$>o,$>0){var z=(n&Yn)!==0&&o===0?r:null;if(i){for(S=0;S<$;S+=1)D[S].a?.measure();for(S=0;S<$;S+=1)D[S].a?.fix()}Ki(t,D,z)}}if(N)for(const q of u.values())q.o||(Ne(t,h,q),h=q);t.effect.last=h&&h.e,i&&Rt(()=>{if(m!==void 0)for(p of m)p.a?.apply()})}function qi(t,e,r,n,a,i,o,u){var s=(o&Gn)!==0,l=(o&yi)===0,h=s?l?j(r,!1,!1):ct(r):r,m=(o&Jn)===0?a:ct(a),d={i:m,v:h,k:n,a:null,e:null,o:!1,prev:e,next:null};try{if(t===null){var b=document.createDocumentFragment();b.append(t=Ve())}return d.e=Ee(()=>i(t,h,m,u)),e!==null&&(e.next=d),d}finally{}}function Tr(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,a=e?e.e.nodes_start:r,i=t.e.nodes_start;i!==null&&i!==n;){var o=Yt(i);a.before(i),i=o}}function Ne(t,e,r){e===null?(t.first=r,t.effect.first=r&&r.e):(e.e.next&&(e.e.next.prev=null),e.next=r,e.e.next=r&&r.e),r!==null&&(r.e.prev&&(r.e.prev.next=null),r.prev=e,r.e.prev=e&&e.e)}function Vi(t,e,r,n){const a=Gt()?Jt:Pe;if(r.length===0&&t.length===0){n(e.map(a));return}var i=te,o=Y,u=Bi();function s(){Promise.all(r.map(l=>Hi(l))).then(l=>{u();try{n([...e.map(a),...l])}catch(h){(o.f&ze)===0&&Ct(h,o)}i?.deactivate(),rr()}).catch(l=>{Ct(l,o)})}t.length>0?Promise.all(t).then(()=>{u();try{return s()}finally{i?.deactivate(),rr()}}):s()}function Bi(){var t=Y,e=J,r=X,n=te;return function(i=!0){Le(t),ge(e),Et(r),i&&n?.activate()}}function rr(){Le(null),ge(null),Et(null)}function Jt(t){var e=ue|_e,r=J!==null&&(J.f&ue)!==0?J:null;return Y!==null&&(Y.f|=xt),{ctx:X,deps:null,effects:null,equals:Zn,f:e,fn:t,reactions:null,rv:0,v:de,wv:0,parent:r??Y,ac:null}}function Hi(t,e){let r=Y;r===null&&ui();var n=r.b,a=void 0,i=ct(de),o=!J,u=new Map;return eo(()=>{var s=Bn();a=s.promise;try{Promise.resolve(t()).then(s.resolve,s.reject).then(()=>{l===te&&l.committed&&l.deactivate(),rr()})}catch(d){s.reject(d),rr()}var l=te;if(o){var h=!n.is_pending();n.update_pending_count(1),l.increment(h),u.get(l)?.reject(_t),u.delete(l),u.set(l,s)}const m=(d,b=void 0)=>{if(l.activate(),b)b!==_t&&(i.f|=Ze,Ot(i,b));else{(i.f&Ze)!==0&&(i.f^=Ze),Ot(i,d);for(const[A,x]of u){if(u.delete(A),A===l)break;x.reject(_t)}}o&&(n.update_pending_count(-1),l.decrement(h))};s.promise.then(m,d=>m(null,d||"unknown"))}),Yr(()=>{for(const s of u.values())s.reject(_t)}),new Promise(s=>{function l(h){function m(){h===a?s(i):l(a)}h.then(m,m)}l(a)})}function xe(t){const e=Jt(t);return Ta(e),e}function Pe(t){const e=Jt(t);return e.equals=Xn,e}function ia(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)me(e[r])}}function Wi(t){for(var e=t.parent;e!==null;){if((e.f&ue)===0)return(e.f&ze)===0?e:null;e=e.parent}return null}function Gr(t){var e,r=Y;Le(Wi(t));try{t.f&=~ut,ia(t),e=Aa(t)}finally{Le(r)}return e}function oa(t){var e=Gr(t);if(t.equals(e)||(te?.is_fork||(t.v=e),t.wv=Ea()),!ht)if(Ce!==null)(Vt()||te?.is_fork)&&Ce.set(t,e);else{var r=(t.f&De)===0?Ie:oe;le(t,r)}}let Fr=new Set;const Qe=new Map;let sa=!1;function ct(t,e){var r={f:0,v:t,reactions:null,equals:Zn,rv:0,wv:0};return r}function Je(t,e){const r=ct(t);return Ta(r),r}function j(t,e=!1,r=!0){const n=ct(t);return e||(n.equals=Xn),Mt&&r&&X!==null&&X.l!==null&&(X.l.s??=[]).push(n),n}function M(t,e,r=!1){J!==null&&(!Re||(J.f&dn)!==0)&&Gt()&&(J.f&(ue|Be|Hr|dn))!==0&&!qe?.includes(t)&&bi();let n=r?wt(e):e;return Ot(t,n)}function Ot(t,e){if(!t.equals(e)){var r=t.v;ht?Qe.set(t,e):Qe.set(t,r),t.v=e;var n=Me.ensure();n.capture(t,r),(t.f&ue)!==0&&((t.f&_e)!==0&&Gr(t),le(t,(t.f&De)!==0?oe:Ie)),t.wv=Ea(),la(t,_e),Gt()&&Y!==null&&(Y.f&oe)!==0&&(Y.f&(He|vt))===0&&(ke===null?no([t]):ke.push(t)),!n.is_fork&&Fr.size>0&&!sa&&Gi()}return e}function Gi(){sa=!1;var t=Xe;nr(!0);const e=Array.from(Fr);try{for(const r of e)(r.f&oe)!==0&&le(r,Ie),Lt(r)&&Pt(r)}finally{nr(t)}Fr.clear()}function Kt(t){M(t,t.v+1)}function la(t,e){var r=t.reactions;if(r!==null)for(var n=Gt(),a=r.length,i=0;i<a;i++){var o=r[i],u=o.f;if(!(!n&&o===Y)){var s=(u&_e)===0;if(s&&le(o,e),(u&ue)!==0){var l=o;Ce?.delete(l),(u&ut)===0&&(u&De&&(o.f|=ut),la(l,Ie))}else s&&((u&Be)!==0&&Ke!==null&&Ke.add(o),ft(o))}}}function wt(t){if(typeof t!="object"||t===null||ot in t)return t;const e=zr(t);if(e!==ni&&e!==ai)return t;var r=new Map,n=vr(t),a=Je(0),i=st,o=u=>{if(st===i)return u();var s=J,l=st;ge(null),pn(i);var h=u();return ge(s),pn(l),h};return n&&r.set("length",Je(t.length)),new Proxy(t,{defineProperty(u,s,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&pi();var h=r.get(s);return h===void 0?h=o(()=>{var m=Je(l.value);return r.set(s,m),m}):M(h,l.value,!0),!0},deleteProperty(u,s){var l=r.get(s);if(l===void 0){if(s in u){const h=o(()=>Je(de));r.set(s,h),Kt(a)}}else M(l,de),Kt(a);return!0},get(u,s,l){if(s===ot)return t;var h=r.get(s),m=s in u;if(h===void 0&&(!m||St(u,s)?.writable)&&(h=o(()=>{var b=wt(m?u[s]:de),A=Je(b);return A}),r.set(s,h)),h!==void 0){var d=c(h);return d===de?void 0:d}return Reflect.get(u,s,l)},getOwnPropertyDescriptor(u,s){var l=Reflect.getOwnPropertyDescriptor(u,s);if(l&&"value"in l){var h=r.get(s);h&&(l.value=c(h))}else if(l===void 0){var m=r.get(s),d=m?.v;if(m!==void 0&&d!==de)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return l},has(u,s){if(s===ot)return!0;var l=r.get(s),h=l!==void 0&&l.v!==de||Reflect.has(u,s);if(l!==void 0||Y!==null&&(!h||St(u,s)?.writable)){l===void 0&&(l=o(()=>{var d=h?wt(u[s]):de,b=Je(d);return b}),r.set(s,l));var m=c(l);if(m===de)return!1}return h},set(u,s,l,h){var m=r.get(s),d=s in u;if(n&&s==="length")for(var b=l;b<m.v;b+=1){var A=r.get(b+"");A!==void 0?M(A,de):b in u&&(A=o(()=>Je(de)),r.set(b+"",A))}if(m===void 0)(!d||St(u,s)?.writable)&&(m=o(()=>Je(void 0)),M(m,wt(l)),r.set(s,m));else{d=m.v!==de;var x=o(()=>wt(l));M(m,x)}var p=Reflect.getOwnPropertyDescriptor(u,s);if(p?.set&&p.set.call(h,l),!d){if(n&&typeof s=="string"){var S=r.get("length"),f=Number(s);Number.isInteger(f)&&f>=S.v&&M(S,f+1)}Kt(a)}return!0},ownKeys(u){c(a);var s=Reflect.ownKeys(u).filter(m=>{var d=r.get(m);return d===void 0||d.v!==de});for(var[l,h]of r)h.v!==de&&!(l in u)&&s.push(l);return s},setPrototypeOf(){gi()}})}var xr,ua,fa,ca,da;function Ji(){if(xr===void 0){xr=window,ua=document,fa=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;ca=St(e,"firstChild").get,da=St(e,"nextSibling").get,cn(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),cn(r)&&(r.__t=void 0)}}function Ve(t=""){return document.createTextNode(t)}function Nt(t){return ca.call(t)}function Yt(t){return da.call(t)}function I(t,e){return Nt(t)}function Te(t,e=!1){{var r=Nt(t);return r instanceof Comment&&r.data===""?Yt(r):r}}function K(t,e=1,r=!1){let n=t;for(;e--;)n=Yt(n);return n}function Yi(t){t.textContent=""}function va(){return!1}function Jr(t){var e=J,r=Y;ge(null),Le(null);try{return t()}finally{ge(e),Le(r)}}function ha(t){Y===null&&(J===null&&di(),ci()),ht&&fi()}function Zi(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function $e(t,e,r){var n=Y;n!==null&&(n.f&Se)!==0&&(t|=Se);var a={ctx:X,deps:null,nodes_start:null,nodes_end:null,f:t|_e|De,first:null,fn:e,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Pt(a),a.f|=Br}catch(u){throw me(a),u}else e!==null&&ft(a);var i=a;if(r&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&xt)===0&&(i=i.first,(t&Be)!==0&&(t&lt)!==0&&i!==null&&(i.f|=lt)),i!==null&&(i.parent=n,n!==null&&Zi(i,n),J!==null&&(J.f&ue)!==0&&(t&vt)===0)){var o=J;(o.effects??=[]).push(i)}return a}function Vt(){return J!==null&&!Re}function Yr(t){const e=$e(hr,null,!1);return le(e,oe),e.teardown=t,e}function Mr(t){ha();var e=Y.f,r=!J&&(e&He)!==0&&(e&Br)===0;if(r){var n=X;(n.e??=[]).push(t)}else return pa(t)}function pa(t){return $e(Vr|Wn,t,!1)}function Qi(t){return ha(),$e(hr|Wn,t,!0)}function Xi(t){Me.ensure();const e=$e(vt|xt,t,!0);return(r={})=>new Promise(n=>{r.outro?kt(e,()=>{me(e),n(void 0)}):(me(e),n(void 0))})}function ga(t){return $e(Vr,t,!1)}function W(t,e){var r=X,n={effect:null,ran:!1,deps:t};r.l.$.push(n),n.effect=br(()=>{t(),!n.ran&&(n.ran=!0,Z(e))})}function We(){var t=X;br(()=>{for(var e of t.l.$){e.deps();var r=e.effect;(r.f&oe)!==0&&le(r,Ie),Lt(r)&&Pt(r),e.ran=!1}})}function eo(t){return $e(Hr|xt,t,!0)}function br(t,e=0){return $e(hr|e,t,!0)}function re(t,e=[],r=[],n=[]){Vi(n,e,r,a=>{$e(hr,()=>t(...a.map(c)),!0)})}function mr(t,e=0){var r=$e(Be|e,t,!0);return r}function Ee(t){return $e(He|xt,t,!0)}function ba(t){var e=t.teardown;if(e!==null){const r=ht,n=J;hn(!0),ge(null);try{e.call(null)}finally{hn(r),ge(n)}}}function ma(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const a=r.ac;a!==null&&Jr(()=>{a.abort(_t)});var n=r.next;(r.f&vt)!==0?r.parent=null:me(r,e),r=n}}function to(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&He)===0&&me(e),e=r}}function me(t,e=!0){var r=!1;(e||(t.f&Hn)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(ro(t.nodes_start,t.nodes_end),r=!0),ma(t,e&&!r),ar(t,0),le(t,ze);var n=t.transitions;if(n!==null)for(const i of n)i.stop();ba(t);var a=t.parent;a!==null&&a.first!==null&&_a(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function ro(t,e){for(;t!==null;){var r=t===e?null:Yt(t);t.remove(),t=r}}function _a(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function kt(t,e,r=!0){var n=[];Zr(t,n,!0),ya(n,()=>{r&&me(t),e&&e()})}function ya(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var a of t)a.out(n)}else e()}function Zr(t,e,r){if((t.f&Se)===0){if(t.f^=Se,t.transitions!==null)for(const o of t.transitions)(o.is_global||r)&&e.push(o);for(var n=t.first;n!==null;){var a=n.next,i=(n.f&lt)!==0||(n.f&He)!==0&&(t.f&Be)!==0;Zr(n,e,i?r:!1),n=a}}}function Qr(t){wa(t,!0)}function wa(t,e){if((t.f&Se)!==0){t.f^=Se,(t.f&oe)===0&&(le(t,_e),ft(t));for(var r=t.first;r!==null;){var n=r.next,a=(r.f&lt)!==0||(r.f&He)!==0;wa(r,a?e:!1),r=n}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}function Sa(t,e){for(var r=t.nodes_start,n=t.nodes_end;r!==null;){var a=r===n?null:Yt(r);e.append(r),r=a}}let Xe=!1;function nr(t){Xe=t}let ht=!1;function hn(t){ht=t}let J=null,Re=!1;function ge(t){J=t}let Y=null;function Le(t){Y=t}let qe=null;function Ta(t){J!==null&&(qe===null?qe=[t]:qe.push(t))}let ve=null,we=0,ke=null;function no(t){ke=t}let ka=1,Bt=0,st=Bt;function pn(t){st=t}function Ea(){return++ka}function Lt(t){var e=t.f;if((e&_e)!==0)return!0;if(e&ue&&(t.f&=~ut),(e&Ie)!==0){var r=t.deps;if(r!==null)for(var n=r.length,a=0;a<n;a++){var i=r[a];if(Lt(i)&&oa(i),i.wv>t.wv)return!0}(e&De)!==0&&Ce===null&&le(t,oe)}return!1}function Ca(t,e,r=!0){var n=t.reactions;if(n!==null&&!qe?.includes(t))for(var a=0;a<n.length;a++){var i=n[a];(i.f&ue)!==0?Ca(i,e,!1):e===i&&(r?le(i,_e):(i.f&oe)!==0&&le(i,Ie),ft(i))}}function Aa(t){var e=ve,r=we,n=ke,a=J,i=qe,o=X,u=Re,s=st,l=t.f;ve=null,we=0,ke=null,J=(l&(He|vt))===0?t:null,qe=null,Et(t.ctx),Re=!1,st=++Bt,t.ac!==null&&(Jr(()=>{t.ac.abort(_t)}),t.ac=null);try{t.f|=Pr;var h=t.fn,m=h(),d=t.deps;if(ve!==null){var b;if(ar(t,we),d!==null&&we>0)for(d.length=we+ve.length,b=0;b<ve.length;b++)d[we+b]=ve[b];else t.deps=d=ve;if(Xe&&Vt()&&(t.f&De)!==0)for(b=we;b<d.length;b++)(d[b].reactions??=[]).push(t)}else d!==null&&we<d.length&&(ar(t,we),d.length=we);if(Gt()&&ke!==null&&!Re&&d!==null&&(t.f&(ue|Ie|_e))===0)for(b=0;b<ke.length;b++)Ca(ke[b],t);return a!==null&&a!==t&&(Bt++,ke!==null&&(n===null?n=ke:n.push(...ke))),(t.f&Ze)!==0&&(t.f^=Ze),m}catch(A){return ra(A)}finally{t.f^=Pr,ve=e,we=r,ke=n,J=a,qe=i,Et(o),Re=u,st=s}}function ao(t,e){let r=e.reactions;if(r!==null){var n=ri.call(r,t);if(n!==-1){var a=r.length-1;a===0?r=e.reactions=null:(r[n]=r[a],r.pop())}}r===null&&(e.f&ue)!==0&&(ve===null||!ve.includes(e))&&(le(e,Ie),(e.f&De)!==0&&(e.f^=De,e.f&=~ut),ia(e),ar(e,0))}function ar(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)ao(t,r[n])}function Pt(t){var e=t.f;if((e&ze)===0){le(t,oe);var r=Y,n=Xe;Y=t,Xe=!0;try{(e&(Be|oi))!==0?to(t):ma(t),ba(t);var a=Aa(t);t.teardown=typeof a=="function"?a:null,t.wv=ka;var i;Or&&Pi&&(t.f&_e)!==0&&t.deps}finally{Xe=n,Y=r}}}function c(t){var e=t.f,r=(e&ue)!==0;if(J!==null&&!Re){var n=Y!==null&&(Y.f&ze)!==0;if(!n&&!qe?.includes(t)){var a=J.deps;if((J.f&Pr)!==0)t.rv<Bt&&(t.rv=Bt,ve===null&&a!==null&&a[we]===t?we++:ve===null?ve=[t]:ve.includes(t)||ve.push(t));else{(J.deps??=[]).push(t);var i=t.reactions;i===null?t.reactions=[J]:i.includes(J)||i.push(J)}}}if(ht){if(Qe.has(t))return Qe.get(t);if(r){var o=t,u=o.v;return((o.f&oe)===0&&o.reactions!==null||Na(o))&&(u=Gr(o)),Qe.set(o,u),u}}else r&&(!Ce?.has(t)||te?.is_fork&&!Vt())&&(o=t,Lt(o)&&oa(o),Xe&&Vt()&&(o.f&De)===0&&Oa(o));if(Ce?.has(t))return Ce.get(t);if((t.f&Ze)!==0)throw t.v;return t.v}function Oa(t){if(t.deps!==null){t.f^=De;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&ue)!==0&&(e.f&De)===0&&Oa(e)}}function Na(t){if(t.v===de)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Qe.has(e)||(e.f&ue)!==0&&Na(e))return!0;return!1}function Z(t){var e=Re;try{return Re=!0,t()}finally{Re=e}}const io=-7169;function le(t,e){t.f=t.f&io|e}function U(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(ot in t)Rr(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&ot in r&&Rr(r)}}}function Rr(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{Rr(t[n],e)}catch{}const r=zr(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Vn(r);for(let a in n){const i=n[a].get;if(i)try{i.call(t)}catch{}}}}}const oo=["touchstart","touchmove"];function so(t){return oo.includes(t)}const lo=new Set,gn=new Set;function uo(t,e,r,n={}){function a(i){if(n.capture||Ut.call(e,i),!i.cancelBubble)return Jr(()=>r?.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Rt(()=>{e.addEventListener(t,a,n)}):e.addEventListener(t,a,n),a}function pe(t,e,r,n,a){var i={capture:n,passive:a},o=uo(t,e,r,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Yr(()=>{e.removeEventListener(t,o,i)})}let bn=null;function Ut(t){var e=this,r=e.ownerDocument,n=t.type,a=t.composedPath?.()||[],i=a[0]||t.target;bn=t;var o=0,u=bn===t&&t.__root;if(u){var s=a.indexOf(u);if(s!==-1&&(e===document||e===window)){t.__root=e;return}var l=a.indexOf(e);if(l===-1)return;s<=l&&(o=s)}if(i=a[o]||t.target,i!==e){qn(t,"currentTarget",{configurable:!0,get(){return i||r}});var h=J,m=Y;ge(null),Le(null);try{for(var d,b=[];i!==null;){var A=i.assignedSlot||i.parentNode||i.host||null;try{var x=i["__"+n];x!=null&&(!i.disabled||t.target===i)&&x.call(i,t)}catch(p){d?b.push(p):d=p}if(t.cancelBubble||A===e||A===null)break;i=A}if(d){for(let p of b)queueMicrotask(()=>{throw p});throw d}}finally{t.__root=e,delete t.currentTarget,ge(h),Le(m)}}}function Pa(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Ht(t,e){var r=Y;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function Q(t,e){var r=(e&Ci)!==0,n=(e&Ai)!==0,a,i=!t.startsWith("<!>");return()=>{a===void 0&&(a=Pa(i?t:"<!>"+t),r||(a=Nt(a)));var o=n||fa?document.importNode(a,!0):a.cloneNode(!0);if(r){var u=Nt(o),s=o.lastChild;Ht(u,s)}else Ht(o,o);return o}}function fo(t,e,r="svg"){var n=!t.startsWith("<!>"),a=`<${r}>${n?t:"<!>"+t}</${r}>`,i;return()=>{if(!i){var o=Pa(a),u=Nt(o);i=Nt(u)}var s=i.cloneNode(!0);return Ht(s,s),s}}function Da(t,e){return fo(t,e,"svg")}function ir(t=""){{var e=Ve(t+"");return Ht(e,e),e}}function _r(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Ve();return t.append(e,r),Ht(e,r),t}function B(t,e){t!==null&&t.before(e)}function Ae(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function co(t,e){return vo(t,e)}const gt=new Map;function vo(t,{target:e,anchor:r,props:n={},events:a,context:i,intro:o=!0}){Ji();var u=new Set,s=m=>{for(var d=0;d<m.length;d++){var b=m[d];if(!u.has(b)){u.add(b);var A=so(b);e.addEventListener(b,Ut,{passive:A});var x=gt.get(b);x===void 0?(document.addEventListener(b,Ut,{passive:A}),gt.set(b,1)):gt.set(b,x+1)}}};s(Kr(lo)),gn.add(s);var l=void 0,h=Xi(()=>{var m=r??e.appendChild(Ve());return ji(m,{pending:()=>{}},d=>{if(i){fe({});var b=X;b.c=i}a&&(n.$$events=a),l=t(d,n)||{},i&&ce()}),()=>{for(var d of u){e.removeEventListener(d,Ut);var b=gt.get(d);--b===0?(document.removeEventListener(d,Ut),gt.delete(d)):gt.set(d,b)}gn.delete(s),m!==r&&m.parentNode?.removeChild(m)}});return ho.set(l,h),l}let ho=new WeakMap;class Fa{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(e,r=!0){this.anchor=e,this.#l=r}#i=()=>{var e=te;if(this.#e.has(e)){var r=this.#e.get(e),n=this.#t.get(r);if(n)Qr(n),this.#n.delete(r);else{var a=this.#r.get(r);a&&(this.#t.set(r,a.effect),this.#r.delete(r),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),n=a.effect)}for(const[i,o]of this.#e){if(this.#e.delete(i),i===e)break;const u=this.#r.get(o);u&&(me(u.effect),this.#r.delete(o))}for(const[i,o]of this.#t){if(i===r||this.#n.has(i))continue;const u=()=>{if(Array.from(this.#e.values()).includes(i)){var l=document.createDocumentFragment();Sa(o,l),l.append(Ve()),this.#r.set(i,{effect:o,fragment:l})}else me(o);this.#n.delete(i),this.#t.delete(i)};this.#l||!n?(this.#n.add(i),kt(o,u,!1)):u()}}};#a=e=>{this.#e.delete(e);const r=Array.from(this.#e.values());for(const[n,a]of this.#r)r.includes(n)||(me(a.effect),this.#r.delete(n))};ensure(e,r){var n=te,a=va();if(r&&!this.#t.has(e)&&!this.#r.has(e))if(a){var i=document.createDocumentFragment(),o=Ve();i.append(o),this.#r.set(e,{effect:Ee(()=>r(o)),fragment:i})}else this.#t.set(e,Ee(()=>r(this.anchor)));if(this.#e.set(n,e),a){for(const[u,s]of this.#t)u===e?n.skipped_effects.delete(s):n.skipped_effects.add(s);for(const[u,s]of this.#r)u===e?n.skipped_effects.delete(s.effect):n.skipped_effects.add(s.effect);n.oncommit(this.#i),n.ondiscard(this.#a)}else this.#i()}}function se(t,e,r=!1){var n=new Fa(t),a=r?lt:0;function i(o,u){n.ensure(o,u)}mr(()=>{var o=!1;e((u,s=!0)=>{o=!0,i(s,u)}),o||i(!1,null)},a)}function yr(t,e,r,n,a){var i=e.$$slots?.[r],o=!1;i===!0&&(i=e.children,o=!0),i===void 0?a!==null&&a(t):i(t,o?()=>n:n)}function po(t,e,r){var n=new Fa(t);mr(()=>{var a=e()??null;n.ensure(a,a&&(i=>r(i,a)))},lt)}const mn=[...` 	
\r\fÂ \v\uFEFF`];function go(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var a in r)if(r[a])n=n?n+" "+a:a;else if(n.length)for(var i=a.length,o=0;(o=n.indexOf(a,o))>=0;){var u=o+i;(o===0||mn.includes(n[o-1]))&&(u===n.length||mn.includes(n[u]))?n=(o===0?"":n.substring(0,o))+n.substring(u+1):o=u}}return n===""?null:n}function _n(t,e=!1){var r=e?" !important;":";",n="";for(var a in t){var i=t[a];i!=null&&i!==""&&(n+=" "+a+": "+i+r)}return n}function kr(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function bo(t,e){if(e){var r="",n,a;if(Array.isArray(e)?(n=e[0],a=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,o=0,u=!1,s=[];n&&s.push(...Object.keys(n).map(kr)),a&&s.push(...Object.keys(a).map(kr));var l=0,h=-1;const x=t.length;for(var m=0;m<x;m++){var d=t[m];if(u?d==="/"&&t[m-1]==="*"&&(u=!1):i?i===d&&(i=!1):d==="/"&&t[m+1]==="*"?u=!0:d==='"'||d==="'"?i=d:d==="("?o++:d===")"&&o--,!u&&i===!1&&o===0){if(d===":"&&h===-1)h=m;else if(d===";"||m===x-1){if(h!==-1){var b=kr(t.substring(l,h).trim());if(!s.includes(b)){d!==";"&&m++;var A=t.substring(l,m).trim();r+=" "+A+";"}}l=m+1,h=-1}}}}return n&&(r+=_n(n)),a&&(r+=_n(a,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function he(t,e,r,n,a,i){var o=t.__className;if(o!==r||o===void 0){var u=go(r,n,i);u==null?t.removeAttribute("class"):e?t.className=u:t.setAttribute("class",u),t.__className=r}else if(i&&a!==i)for(var s in i){var l=!!i[s];(a==null||l!==!!a[s])&&t.classList.toggle(s,l)}return i}function Er(t,e={},r,n){for(var a in r){var i=r[a];e[a]!==i&&(r[a]==null?t.style.removeProperty(a):t.style.setProperty(a,i,n))}}function or(t,e,r,n){var a=t.__style;if(a!==e){var i=bo(e,n);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else n&&(Array.isArray(n)?(Er(t,r?.[0],n[0]),Er(t,r?.[1],n[1],"important")):Er(t,r,n));return n}const mo=Symbol("is custom element"),_o=Symbol("is html");function be(t,e,r,n){var a=yo(t);a[e]!==(a[e]=r)&&(e==="loading"&&(t[li]=r),r==null?t.removeAttribute(e):typeof r!="string"&&wo(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function yo(t){return t.__attributes??={[mo]:t.nodeName.includes("-"),[_o]:t.namespaceURI===Oi}}var yn=new Map;function wo(t){var e=t.getAttribute("is")||t.nodeName,r=yn.get(e);if(r)return r;yn.set(e,r=[]);for(var n,a=t,i=Element.prototype;i!==a;){n=Vn(a);for(var o in n)n[o].set&&r.push(o);a=zr(a)}return r}class Xr{#e=new WeakMap;#t;#r;static entries=new WeakMap;constructor(e){this.#r=e}observe(e,r){var n=this.#e.get(e)||new Set;return n.add(r),this.#e.set(e,n),this.#n().observe(e,this.#r),()=>{var a=this.#e.get(e);a.delete(r),a.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#n(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var r of e){Xr.entries.set(r.target,r);for(var n of this.#e.get(r.target)||[])n(r)}}))}}var So=new Xr({box:"border-box"});function wn(t,e,r){var n=So.observe(t,()=>r(t[e]));ga(()=>(Z(()=>r(t[e])),n))}function Sn(t,e){return t===e||t?.[ot]===e}function To(t={},e,r,n){return ga(()=>{var a,i;return br(()=>{a=i,i=[],Z(()=>{t!==r(...i)&&(e(t,...i),a&&Sn(r(...a),t)&&e(null,...a))})}),()=>{Rt(()=>{i&&Sn(r(...i),t)&&e(null,...i)})}}),t}function ye(t=!1){const e=X,r=e.l.u;if(!r)return;let n=()=>U(e.s);if(t){let a=0,i={};const o=Jt(()=>{let u=!1;const s=e.s;for(const l in s)s[l]!==i[l]&&(i[l]=s[l],u=!0);return u&&a++,a});n=()=>c(o)}r.b.length&&Qi(()=>{Tn(e,n),Nr(r.b)}),Mr(()=>{const a=Z(()=>r.m.map(ii));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&Mr(()=>{Tn(e,n),Nr(r.a)})}function Tn(t,e){if(t.l.s)for(const r of t.l.s)c(r);e()}function Lr(t,e){var r=t.$$events?.[e.type],n=vr(r)?r.slice():r==null?[]:[r];for(var a of n)a.call(this,e)}function xa(t,e,r){if(t==null)return e(void 0),Tt;const n=Z(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}const bt=[];function en(t,e=Tt){let r=null;const n=new Set;function a(u){if(Qn(t,u)&&(t=u,r)){const s=!bt.length;for(const l of n)l[1](),bt.push(l,t);if(s){for(let l=0;l<bt.length;l+=2)bt[l][0](bt[l+1]);bt.length=0}}}function i(u){a(u(t))}function o(u,s=Tt){const l=[u,s];return n.add(l),n.size===1&&(r=e(a,i)||Tt),u(t),()=>{n.delete(l),n.size===0&&r&&(r(),r=null)}}return{set:a,update:i,subscribe:o}}function Ma(t){let e;return xa(t,r=>e=r)(),e}let Xt=!1,Ir=Symbol();function et(t,e,r){const n=r[e]??={store:null,source:j(void 0),unsubscribe:Tt};if(n.store!==t&&!(Ir in r))if(n.unsubscribe(),n.store=t??null,t==null)n.source.v=void 0,n.unsubscribe=Tt;else{var a=!0;n.unsubscribe=xa(t,i=>{a?n.source.v=i:M(n.source,i)}),a=!1}return t&&Ir in r?Ma(t):c(n.source)}function pt(){const t={};function e(){Yr(()=>{for(var r in t)t[r].unsubscribe();qn(t,Ir,{enumerable:!1,value:!0})})}return[t,e]}function ko(t){var e=Xt;try{return Xt=!1,[t(),Xt]}finally{Xt=e}}function H(t,e,r,n){var a=!Mt||(r&Si)!==0,i=(r&ki)!==0,o=(r&Ei)!==0,u=n,s=!0,l=()=>(s&&(s=!1,u=o?Z(n):n),u),h;if(i){var m=ot in t||si in t;h=St(t,e)?.set??(m&&e in t?_=>t[e]=_:void 0)}var d,b=!1;i?[d,b]=ko(()=>t[e]):d=t[e],d===void 0&&n!==void 0&&(d=l(),h&&(a&&hi(),h(d)));var A;if(a?A=()=>{var _=t[e];return _===void 0?l():(s=!0,_)}:A=()=>{var _=t[e];return _!==void 0&&(u=void 0),_===void 0?u:_},a&&(r&Ti)===0)return A;if(h){var x=t.$$legacy;return(function(_,y){return arguments.length>0?((!a||!y||x||b)&&h(y?A():_),_):A()})}var p=!1,S=((r&wi)!==0?Jt:Pe)(()=>(p=!1,A()));i&&c(S);var f=Y;return(function(_,y){if(arguments.length>0){const k=y?c(S):a&&i?wt(_):_;return M(S,k),p=!0,u!==void 0&&(u=k),_}return ht&&p||(f.f&ze)!==0?S.v:c(S)})}function Zt(t){X===null&&gr(),Mt&&X.l!==null?Co(X).m.push(t):Mr(()=>{const e=Z(t);if(typeof e=="function")return e})}function Ra(t){X===null&&gr(),Zt(()=>()=>Z(t))}function Eo(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}function tn(){const t=X;return t===null&&gr(),(e,r,n)=>{const a=t.s.$$events?.[e];if(a){const i=vr(a)?a.slice():[a],o=Eo(e,r,n);for(const u of i)u.call(t.x,o);return!o.defaultPrevented}return!0}}function Co(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const Ao="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ao);Di();var Oo=Q("<span> </span>"),No=Q('<footer class="svelte-1sr6y3t"><a href="https://github.com/kangasta/pileon.git" target="_blank">kangasta / pileon</a> <!></footer>');function Po(t,e){fe(e,!1);const r="",n="1d4319889235078cd632e0fa1585e7eab8589a41".slice(0,8);ye();var a=No(),i=K(I(a),2);{var o=u=>{var s=Oo(),l=I(s);re(()=>Ae(l,`at ${r} ${n??""}`)),B(u,s)};se(i,u=>{(n||r)&&u(o)})}B(t,a),ce()}const La="settings",Do={game:"pileon",colors:"default",size:"default"},Fo=JSON.parse(localStorage.getItem(La)??"null"),Dt=en(Fo??Do);Dt.subscribe(t=>localStorage.setItem(La,JSON.stringify(t)));const xo={},Ft=en(xo);var Ia=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],sr=Ia.join(","),$a=typeof Element>"u",dt=$a?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,lr=!$a&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Wt=function(e,r){var n;r===void 0&&(r=!0);var a=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),i=a===""||a==="true",o=i||r&&e&&Wt(e.parentNode);return o},Mo=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},ja=function(e,r,n){if(Wt(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(sr));return r&&dt.call(e,sr)&&a.unshift(e),a=a.filter(n),a},ur=function(e,r,n){for(var a=[],i=Array.from(e);i.length;){var o=i.shift();if(!Wt(o,!1))if(o.tagName==="SLOT"){var u=o.assignedElements(),s=u.length?u:o.children,l=ur(s,!0,n);n.flatten?a.push.apply(a,l):a.push({scopeParent:o,candidates:l})}else{var h=dt.call(o,sr);h&&n.filter(o)&&(r||!e.includes(o))&&a.push(o);var m=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),d=!Wt(m,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(m&&d){var b=ur(m===!0?o.children:m.children,!0,n);n.flatten?a.push.apply(a,b):a.push({scopeParent:o,candidates:b})}else i.unshift.apply(i,o.children)}}return a},Ua=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},it=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Mo(e))&&!Ua(e)?0:e.tabIndex},Ro=function(e,r){var n=it(e);return n<0&&r&&!Ua(e)?0:n},Lo=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Ka=function(e){return e.tagName==="INPUT"},Io=function(e){return Ka(e)&&e.type==="hidden"},$o=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},jo=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},Uo=function(e){if(!e.name)return!0;var r=e.form||lr(e),n=function(u){return r.querySelectorAll('input[type="radio"][name="'+u+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(e.name));else try{a=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=jo(a,e.form);return!i||i===e},Ko=function(e){return Ka(e)&&e.type==="radio"},zo=function(e){return Ko(e)&&!Uo(e)},qo=function(e){var r,n=e&&lr(e),a=(r=n)===null||r===void 0?void 0:r.host,i=!1;if(n&&n!==e){var o,u,s;for(i=!!((o=a)!==null&&o!==void 0&&(u=o.ownerDocument)!==null&&u!==void 0&&u.contains(a)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!i&&a;){var l,h,m;n=lr(a),a=(l=n)===null||l===void 0?void 0:l.host,i=!!((h=a)!==null&&h!==void 0&&(m=h.ownerDocument)!==null&&m!==void 0&&m.contains(a))}}return i},kn=function(e){var r=e.getBoundingClientRect(),n=r.width,a=r.height;return n===0&&a===0},Vo=function(e,r){var n=r.displayCheck,a=r.getShadowRoot;if(n==="full-native"&&"checkVisibility"in e){var i=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(e).visibility==="hidden")return!0;var o=dt.call(e,"details>summary:first-of-type"),u=o?e.parentElement:e;if(dt.call(u,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof a=="function"){for(var s=e;e;){var l=e.parentElement,h=lr(e);if(l&&!l.shadowRoot&&a(l)===!0)return kn(e);e.assignedSlot?e=e.assignedSlot:!l&&h!==e.ownerDocument?e=h.host:e=l}e=s}if(qo(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return kn(e);return!1},Bo=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var a=r.children.item(n);if(a.tagName==="LEGEND")return dt.call(r,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}r=r.parentElement}return!1},fr=function(e,r){return!(r.disabled||Wt(r)||Io(r)||Vo(r,e)||$o(r)||Bo(r))},$r=function(e,r){return!(zo(r)||it(r)<0||!fr(e,r))},Ho=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},za=function(e){var r=[],n=[];return e.forEach(function(a,i){var o=!!a.scopeParent,u=o?a.scopeParent:a,s=Ro(u,o),l=o?za(a.candidates):u;s===0?o?r.push.apply(r,l):r.push(u):n.push({documentOrder:i,tabIndex:s,item:a,isScope:o,content:l})}),n.sort(Lo).reduce(function(a,i){return i.isScope?a.push.apply(a,i.content):a.push(i.content),a},[]).concat(r)},Wo=function(e,r){r=r||{};var n;return r.getShadowRoot?n=ur([e],r.includeContainer,{filter:$r.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Ho}):n=ja(e,r.includeContainer,$r.bind(null,r)),za(n)},Go=function(e,r){r=r||{};var n;return r.getShadowRoot?n=ur([e],r.includeContainer,{filter:fr.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=ja(e,r.includeContainer,fr.bind(null,r)),n},mt=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return dt.call(e,sr)===!1?!1:$r(r,e)},Jo=Ia.concat("iframe").join(","),Cr=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return dt.call(e,Jo)===!1?!1:fr(r,e)};function jr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Yo(t){if(Array.isArray(t))return jr(t)}function Zo(t,e,r){return(e=rs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qo(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function En(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?En(Object(r),!0).forEach(function(n){Zo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):En(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function es(t){return Yo(t)||Qo(t)||ns(t)||Xo()}function ts(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rs(t){var e=ts(t,"string");return typeof e=="symbol"?e:e+""}function ns(t,e){if(t){if(typeof t=="string")return jr(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jr(t,e):void 0}}var An={activateTrap:function(e,r){if(e.length>0){var n=e[e.length-1];n!==r&&n._setPausedState(!0)}var a=e.indexOf(r);a===-1||e.splice(a,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},as=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},is=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},zt=function(e){return e?.key==="Tab"||e?.keyCode===9},os=function(e){return zt(e)&&!e.shiftKey},ss=function(e){return zt(e)&&e.shiftKey},On=function(e){return setTimeout(e,0)},It=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,n):e},er=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ls=[],us=function(e,r){var n=r?.document||document,a=r?.trapStack||ls,i=Cn({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:os,isKeyBackward:ss},r),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},u,s=function(T,P,F){return T&&T[P]!==void 0?T[P]:i[F||P]},l=function(T,P){var F=typeof P?.composedPath=="function"?P.composedPath():void 0;return o.containerGroups.findIndex(function(v){var g=v.container,E=v.tabbableNodes;return g.contains(T)||F?.includes(g)||E.find(function(O){return O===T})})},h=function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=P.hasFallback,v=F===void 0?!1:F,g=P.params,E=g===void 0?[]:g,O=i[T];if(typeof O=="function"&&(O=O.apply(void 0,es(E))),O===!0&&(O=void 0),!O){if(O===void 0||O===!1)return O;throw new Error("`".concat(T,"` was specified but was not a node, or did not return a node"))}var C=O;if(typeof O=="string"){try{C=n.querySelector(O)}catch(R){throw new Error("`".concat(T,'` appears to be an invalid selector; error="').concat(R.message,'"'))}if(!C&&!v)throw new Error("`".concat(T,"` as selector refers to no known node"))}return C},m=function(){var T=h("initialFocus",{hasFallback:!0});if(T===!1)return!1;if(T===void 0||T&&!Cr(T,i.tabbableOptions))if(l(n.activeElement)>=0)T=n.activeElement;else{var P=o.tabbableGroups[0],F=P&&P.firstTabbableNode;T=F||h("fallbackFocus")}else T===null&&(T=h("fallbackFocus"));if(!T)throw new Error("Your focus-trap needs to have at least one focusable element");return T},d=function(){if(o.containerGroups=o.containers.map(function(T){var P=Wo(T,i.tabbableOptions),F=Go(T,i.tabbableOptions),v=P.length>0?P[0]:void 0,g=P.length>0?P[P.length-1]:void 0,E=F.find(function(R){return mt(R)}),O=F.slice().reverse().find(function(R){return mt(R)}),C=!!P.find(function(R){return it(R)>0});return{container:T,tabbableNodes:P,focusableNodes:F,posTabIndexesFound:C,firstTabbableNode:v,lastTabbableNode:g,firstDomTabbableNode:E,lastDomTabbableNode:O,nextTabbableNode:function(V){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ee=P.indexOf(V);return ee<0?G?F.slice(F.indexOf(V)+1).find(function(ne){return mt(ne)}):F.slice(0,F.indexOf(V)).reverse().find(function(ne){return mt(ne)}):P[ee+(G?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(T){return T.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(T){return T.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},b=function(T){var P=T.activeElement;if(P)return P.shadowRoot&&P.shadowRoot.activeElement!==null?b(P.shadowRoot):P},A=function(T){if(T!==!1&&T!==b(document)){if(!T||!T.focus){A(m());return}T.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=T,as(T)&&T.select()}},x=function(T){var P=h("setReturnFocus",{params:[T]});return P||(P===!1?!1:T)},p=function(T){var P=T.target,F=T.event,v=T.isBackward,g=v===void 0?!1:v;P=P||er(F),d();var E=null;if(o.tabbableGroups.length>0){var O=l(P,F),C=O>=0?o.containerGroups[O]:void 0;if(O<0)g?E=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:E=o.tabbableGroups[0].firstTabbableNode;else if(g){var R=o.tabbableGroups.findIndex(function(Ge){var tt=Ge.firstTabbableNode;return P===tt});if(R<0&&(C.container===P||Cr(P,i.tabbableOptions)&&!mt(P,i.tabbableOptions)&&!C.nextTabbableNode(P,!1))&&(R=O),R>=0){var V=R===0?o.tabbableGroups.length-1:R-1,G=o.tabbableGroups[V];E=it(P)>=0?G.lastTabbableNode:G.lastDomTabbableNode}else zt(F)||(E=C.nextTabbableNode(P,!1))}else{var ee=o.tabbableGroups.findIndex(function(Ge){var tt=Ge.lastTabbableNode;return P===tt});if(ee<0&&(C.container===P||Cr(P,i.tabbableOptions)&&!mt(P,i.tabbableOptions)&&!C.nextTabbableNode(P))&&(ee=O),ee>=0){var ne=ee===o.tabbableGroups.length-1?0:ee+1,je=o.tabbableGroups[ne];E=it(P)>=0?je.firstTabbableNode:je.firstDomTabbableNode}else zt(F)||(E=C.nextTabbableNode(P))}}else E=h("fallbackFocus");return E},S=function(T){var P=er(T);if(!(l(P,T)>=0)){if(It(i.clickOutsideDeactivates,T)){u.deactivate({returnFocus:i.returnFocusOnDeactivate});return}It(i.allowOutsideClick,T)||T.preventDefault()}},f=function(T){var P=er(T),F=l(P,T)>=0;if(F||P instanceof Document)F&&(o.mostRecentlyFocusedNode=P);else{T.stopImmediatePropagation();var v,g=!0;if(o.mostRecentlyFocusedNode)if(it(o.mostRecentlyFocusedNode)>0){var E=l(o.mostRecentlyFocusedNode),O=o.containerGroups[E].tabbableNodes;if(O.length>0){var C=O.findIndex(function(R){return R===o.mostRecentlyFocusedNode});C>=0&&(i.isKeyForward(o.recentNavEvent)?C+1<O.length&&(v=O[C+1],g=!1):C-1>=0&&(v=O[C-1],g=!1))}}else o.containerGroups.some(function(R){return R.tabbableNodes.some(function(V){return it(V)>0})})||(g=!1);else g=!1;g&&(v=p({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),A(v||o.mostRecentlyFocusedNode||m())}o.recentNavEvent=void 0},_=function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=T;var F=p({event:T,isBackward:P});F&&(zt(T)&&T.preventDefault(),A(F))},y=function(T){(i.isKeyForward(T)||i.isKeyBackward(T))&&_(T,i.isKeyBackward(T))},k=function(T){is(T)&&It(i.escapeDeactivates,T)!==!1&&(T.preventDefault(),u.deactivate())},w=function(T){var P=er(T);l(P,T)>=0||It(i.clickOutsideDeactivates,T)||It(i.allowOutsideClick,T)||(T.preventDefault(),T.stopImmediatePropagation())},N=function(){if(o.active)return An.activateTrap(a,u),o.delayInitialFocusTimer=i.delayInitialFocus?On(function(){A(m())}):A(m()),n.addEventListener("focusin",f,!0),n.addEventListener("mousedown",S,{capture:!0,passive:!1}),n.addEventListener("touchstart",S,{capture:!0,passive:!1}),n.addEventListener("click",w,{capture:!0,passive:!1}),n.addEventListener("keydown",y,{capture:!0,passive:!1}),n.addEventListener("keydown",k),u},D=function(){if(o.active)return n.removeEventListener("focusin",f,!0),n.removeEventListener("mousedown",S,!0),n.removeEventListener("touchstart",S,!0),n.removeEventListener("click",w,!0),n.removeEventListener("keydown",y,!0),n.removeEventListener("keydown",k),u},$=function(T){var P=T.some(function(F){var v=Array.from(F.removedNodes);return v.some(function(g){return g===o.mostRecentlyFocusedNode})});P&&A(m())},z=typeof window<"u"&&"MutationObserver"in window?new MutationObserver($):void 0,q=function(){z&&(z.disconnect(),o.active&&!o.paused&&o.containers.map(function(T){z.observe(T,{subtree:!0,childList:!0})}))};return u={get active(){return o.active},get paused(){return o.paused},activate:function(T){if(o.active)return this;var P=s(T,"onActivate"),F=s(T,"onPostActivate"),v=s(T,"checkCanFocusTrap");v||d(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=b(n),P?.();var g=function(){v&&d(),N(),q(),F?.()};return v?(v(o.containers.concat()).then(g,g),this):(g(),this)},deactivate:function(T){if(!o.active)return this;var P=Cn({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},T);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,D(),o.active=!1,o.paused=!1,q(),An.deactivateTrap(a,u);var F=s(P,"onDeactivate"),v=s(P,"onPostDeactivate"),g=s(P,"checkCanReturnFocus"),E=s(P,"returnFocus","returnFocusOnDeactivate");F?.();var O=function(){On(function(){E&&A(x(o.nodeFocusedBeforeActivation)),v?.()})};return E&&g?(g(x(o.nodeFocusedBeforeActivation)).then(O,O),this):(O(),this)},pause:function(T){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,T)):this},unpause:function(T){return o.active?(o.manuallyPaused=!1,a[a.length-1]!==this?this:this._setPausedState(!1,T)):this},updateContainerElements:function(T){var P=[].concat(T).filter(Boolean);return o.containers=P.map(function(F){return typeof F=="string"?n.querySelector(F):F}),o.active&&d(),q(),this}},Object.defineProperties(u,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(T,P){if(o.paused===T)return this;if(o.paused=T,T){var F=s(P,"onPause"),v=s(P,"onPostPause");F?.(),D(),q(),v?.()}else{var g=s(P,"onUnpause"),E=s(P,"onPostUnpause");g?.(),d(),N(),q(),E?.()}return this}}}),u.updateContainerElements(e),u};const qa=()=>(Math.random()+1).toString(36).substring(5),Nn={Close:{path:"M 3 3 L 13 13 M 3 13 L 13 3"},Help:{path:"M 8 12 L 8 12 M 8 10 L 8 9 C 8 7 10 8 10 6 A 2 2 0 1 0 6 6 M 8 1.5 A 6.5 6.5 0 0 1 8 14.5 A 6.5 6.5 0 0 1 8 1.5"},Menu:{path:"M 2 4 L 14 4 M 2 8 L 14 8 M 2 12 L 14 12"},Minimize:{path:"M 11 13 L 6.75 13 M 11 11 L 6.75 11 M 11 11 L 11 6.75 M 11 11 L 3 3"},OpenModal:{path:"M 3 3 L 7.25 3 M 3 3 L 3 7.25 M 3 3 L 10 10 M 3 11 A 2 2 0 0 0 5 13 L 11 13 A 2 2 0 0 0 13 11 L 13 5 A 2 2 0 0 0 11 3 L 11 3"},Shuffle:{path:"M 5 2 L 2 5 L 5 8 M 2 5 L 12 5 M 11 14 L 14 11 L 11 8 M 14 11 L 4 11"},Undo:{path:"M 5 3 L 2 6 L 5 9 M 2 6 L 10 6 A 3 3 0 1 1 10 13 L 8 13"}};var fs=Da('<svg viewBox="0 0 16 16"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"></path></svg>');function Va(t,e){fe(e,!1);let r=H(e,"icon",8);ye();var n=fs(),a=I(n);re(()=>be(a,"d",(U(Nn),U(r()),Z(()=>Nn[r()].path)))),B(t,n),ce()}var cs=Q('<div class="icon-button clickable svelte-1882mcx"><div class="content svelte-1882mcx"><button><div class="icon svelte-1882mcx"><!></div></button> <div class="label svelte-1882mcx"> </div></div></div>');function Ye(t,e){fe(e,!1);let r=H(e,"icon",8),n=H(e,"label",8),a=H(e,"onClick",8);const i=`${qa()}-label`;ye();var o=cs(),u=I(o),s=I(u);he(s,1,"clickable svelte-1882mcx",null,{},{open});var l=I(s),h=I(l);Va(h,{get icon(){return r()}});var m=K(s,2),d=I(m);re(()=>{be(s,"aria-labelledby",i),be(m,"id",i),Ae(d,n())}),pe("click",s,function(...b){a()?.apply(this,b)}),pe("click",o,function(...b){a()?.apply(this,b)}),B(t,o),ce()}var ds=Q('<div></div> <div role="dialog"><div class="header svelte-1bxxaoh"><h2 class="svelte-1bxxaoh"> </h2> <!></div> <div class="content svelte-1bxxaoh"><!></div></div>',1);function rn(t,e){fe(e,!1);let r=H(e,"title",8),n=H(e,"position",8,"center"),a=H(e,"closeIcon",8,"Close");const i=`modal-${qa()}`,o=`${i}-title`;let u=j(!1);Zt(()=>{const w=us(`#${i}`,{clickOutsideDeactivates:!0,onDeactivate:()=>l()});w.activate();const N=document.body.style.overflow;return document.body.style.overflow="hidden",setTimeout(()=>{M(u,!0)},0),()=>{w.deactivate(),document.body.style.overflow=N}});const s=tn(),l=()=>{M(u,!1),setTimeout(()=>s("close"),125)};let h=navigator.windowControlsOverlay?.visible&&navigator.windowControlsOverlay?.getTitlebarAreaRect().left>0;ye();var m=ds(),d=Te(m);let b;var A=K(d,2);let x;var p=I(A),S=I(p),f=I(S),_=K(S,2);Ye(_,{get icon(){return a()},label:"Close",onClick:l});var y=K(p,2),k=I(y);yr(k,e,"default",{},null),re(()=>{b=he(d,1,"backdrop svelte-1bxxaoh",null,b,{open:c(u)}),x=he(A,1,`modal ${n()??""} ${h?"window-controls-on-left":""}`,"svelte-1bxxaoh",x,{open:c(u)}),be(A,"aria-labelledby",o),be(A,"id",i),be(S,"id",o),Ae(f,r())}),B(t,m),ce()}var vs=Q("<button><!></button>");function Ue(t,e){fe(e,!1);const r=()=>et(Dt,"$settings",n),[n,a]=pt(),i=j(),o=j();let u=H(e,"target",8),s=H(e,"value",8);const{update:l}=Dt,h=()=>{};W(()=>(r(),U(u()),U(s())),()=>{M(o,r()[u()]===s())}),W(()=>(c(o),U(u()),U(s())),()=>{M(i,c(o)?h:()=>l(A=>({...A,[u()]:s()})))}),We(),ye();var m=vs();let d;var b=I(m);yr(b,e,"default",{},A=>{var x=ir();re(()=>Ae(x,s())),B(A,x)}),re(()=>{be(m,"aria-pressed",c(o)?"true":"false"),m.disabled=c(o),d=he(m,1,"svelte-1s00cb8",null,d,{pressed:c(o)})}),pe("click",m,function(...A){c(i)?.apply(this,A)}),B(t,m),ce(),a()}var hs=Q('<div class="drawer svelte-oa8ggr"><ul class="svelte-oa8ggr"><li class="svelte-oa8ggr"><!></li> <li class="svelte-oa8ggr"><!></li></ul> <div class="whitespace svelte-oa8ggr"></div> <h3>Settings</h3> <table class="svelte-oa8ggr"><tbody><tr><th class="svelte-oa8ggr">Colors:</th><td class="svelte-oa8ggr"><!> / <!> / <!></td></tr><tr><th class="svelte-oa8ggr">Size:</th><td class="svelte-oa8ggr"><!> / <!> / <!> / <!></td></tr></tbody></table></div>'),ps=Q('<div class="titlebar svelte-oa8ggr"><div class="window-controls svelte-oa8ggr"></div> <div><!> <!> <!> <!></div> <div class="window-controls svelte-oa8ggr"></div></div> <!>',1);function gs(t,e){fe(e,!1);const r=()=>et(Ft,"$actions",n),[n,a]=pt();let i=j(!1);const o=w=>N=>{M(i,w==="open"),N.stopPropagation()};let u=j(),s=j("");const l=()=>{if(!navigator.windowControlsOverlay?.visible)return;const w=c(u).getBoundingClientRect(),N=navigator.windowControlsOverlay?.getTitlebarAreaRect();N.left>w.left||N.right<w.right?M(s,"below-titlebar"):M(s,"")};Zt(l),ye();var h=ps();pe("resize",xr,l);var m=Te(h),d=K(I(m),2),b=I(d);{let w=Pe(()=>o("open"));Ye(b,{icon:"Menu",label:"Menu",get onClick(){return c(w)}})}var A=K(b,2);{var x=w=>{Ye(w,{icon:"Help",label:"Help",get onClick(){return r().help}})};se(A,w=>{r().help!==void 0&&w(x)})}var p=K(A,2);{var S=w=>{Ye(w,{icon:"Shuffle",label:"Shuffle",get onClick(){return r().shuffle}})};se(p,w=>{r().shuffle!==void 0&&w(S)})}var f=K(p,2);{var _=w=>{Ye(w,{icon:"Undo",label:"Undo",get onClick(){return r().undo}})};se(f,w=>{r().undo!==void 0&&w(_)})}To(d,w=>M(u,w),()=>c(u));var y=K(m,2);{var k=w=>{var N=xe(()=>o("close"));rn(w,{position:"left",title:"Menu",$$events:{close(...D){c(N)?.apply(this,D)}},children:(D,$)=>{var z=hs(),q=I(z),L=I(q),T=I(L);Ue(T,{target:"game",value:"pileon",children:(rt,ti)=>{var Sr=ir("Pileon solitaire");B(rt,Sr)},$$slots:{default:!0}});var P=K(L,2),F=I(P);Ue(F,{target:"game",value:"deck",children:(rt,ti)=>{var Sr=ir("Deck of cards");B(rt,Sr)},$$slots:{default:!0}});var v=K(q,6),g=I(v),E=I(g),O=K(I(E)),C=I(O);Ue(C,{target:"colors",value:"default"});var R=K(C,2);Ue(R,{target:"colors",value:"standard"});var V=K(R,2);Ue(V,{target:"colors",value:"four-color"});var G=K(E),ee=K(I(G)),ne=I(ee);Ue(ne,{target:"size",value:"default"});var je=K(ne,2);Ue(je,{target:"size",value:"bridge"});var Ge=K(je,2);Ue(Ge,{target:"size",value:"poker"});var tt=K(Ge,2);Ue(tt,{target:"size",value:"small"}),B(D,z)},$$slots:{default:!0}})};se(y,w=>{c(i)&&w(k)})}re(()=>he(d,1,`menu ${c(s)??""}`,"svelte-oa8ggr")),B(t,h),ce(),a()}var Ar={},Oe={},Pn;function wr(){if(Pn)return Oe;Pn=1;function t(v){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(v)}Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Cards=Oe.CardSuits=Oe.CardStringType=Oe.Card=void 0;function e(v,g,E){return g=i(g),g in v?Object.defineProperty(v,g,{value:E,enumerable:!0,configurable:!0,writable:!0}):v[g]=E,v}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function n(v,g){for(var E=0;E<g.length;E++){var O=g[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,i(O.key),O)}}function a(v,g,E){return g&&n(v.prototype,g),E&&n(v,E),Object.defineProperty(v,"prototype",{writable:!1}),v}function i(v){var g=o(v,"string");return t(g)==="symbol"?g:String(g)}function o(v,g){if(t(v)!=="object"||v===null)return v;var E=v[Symbol.toPrimitive];if(E!==void 0){var O=E.call(v,g);if(t(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(v)}function u(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),g&&x(v,g)}function s(v){var g=b();return function(){var O=p(v),C;if(g){var R=p(this).constructor;C=Reflect.construct(O,arguments,R)}else C=O.apply(this,arguments);return l(this,C)}}function l(v,g){if(g&&(t(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(v)}function h(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function m(v){var g=typeof Map=="function"?new Map:void 0;return m=function(O){if(O===null||!A(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(typeof g<"u"){if(g.has(O))return g.get(O);g.set(O,C)}function C(){return d(O,arguments,p(this).constructor)}return C.prototype=Object.create(O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),x(C,O)},m(v)}function d(v,g,E){return b()?d=Reflect.construct.bind():d=function(C,R,V){var G=[null];G.push.apply(G,R);var ee=Function.bind.apply(C,G),ne=new ee;return V&&x(ne,V.prototype),ne},d.apply(null,arguments)}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(v){return Function.toString.call(v).indexOf("[native code]")!==-1}function x(v,g){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,C){return O.__proto__=C,O},x(v,g)}function p(v){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},p(v)}function S(v,g){return w(v)||k(v,g)||_(v,g)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(v,g){if(v){if(typeof v=="string")return y(v,g);var E=Object.prototype.toString.call(v).slice(8,-1);if(E==="Object"&&v.constructor&&(E=v.constructor.name),E==="Map"||E==="Set")return Array.from(v);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return y(v,g)}}function y(v,g){(g==null||g>v.length)&&(g=v.length);for(var E=0,O=new Array(g);E<g;E++)O[E]=v[E];return O}function k(v,g){var E=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(E!=null){var O,C,R,V,G=[],ee=!0,ne=!1;try{if(R=(E=E.call(v)).next,g!==0)for(;!(ee=(O=R.call(E)).done)&&(G.push(O.value),G.length!==g);ee=!0);}catch(je){ne=!0,C=je}finally{try{if(!ee&&E.return!=null&&(V=E.return(),Object(V)!==V))return}finally{if(ne)throw C}}return G}}function w(v){if(Array.isArray(v))return v}var N=(function(v){return v[v.Hearts=0]="Hearts",v[v.Spades=1]="Spades",v[v.Diamonds=2]="Diamonds",v[v.Clubs=3]="Clubs",v})({});Oe.CardSuits=N;var D=(function(v){return v.Char="CHAR",v.Short="SHORT",v.Long="LONG",v.ShortEmoji="SHORT_EMOJI",v.ShortSuit="SHORT_SUIT",v.LongSuit="LONG_SUIT",v.EmojiSuit="EMOJI_SUIT",v.ShortValue="SHORT_VALUE",v.LongValue="LONG_VALUE",v})({});Oe.CardStringType=D;var $={"â¥":0,"â ":1,"â¦":2,"â£":3,h:0,s:1,d:2,c:3},z={A:1,T:10,J:11,Q:12,K:13},q=function(g){var E=/^([2-9ATJQK]{1}|10)([â¥â â¦â£hsdc]{1})$/,O=g.match(E);if(!O)throw new Error('Could not parse card from "'.concat(g,'". Input should match ').concat(E,"."));var C=S(O,3);C[0];var R=C[1],V=C[2],G=Number(R),ee=(Number.isNaN(G)?z[R]:G)-1;return $[V]*13+ee},L=function(g){var E=/^_[a-z]+$/i;if(g.match(E)){var O=Array.from(g.slice(1));return O.map(function(C){var R=C.charCodeAt(0);return R<91?R-65:R-97+26})}return g.split(/[\s,]+/)},T=(function(v){u(E,v);var g=s(E);function E(O){var C;if(r(this,E),typeof O=="number")C=g.call(this,O);else{C=g.call(this);var R=Array.isArray(O)?O:L(O);R.forEach(function(V){return C.push(new F(V))})}return l(C)}return a(E,[{key:"toString",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F.StringType.Short;return C===D.Char?"_"+this.map(function(R){return R.toString(C)}).join(""):this.map(function(R){return R.toString(C)}).join(", ")}}]),E})(m(Array));Oe.Cards=T;var P=function(g){return typeof g=="string"?q(g):g instanceof F?g.num:g},F=(function(){function v(g){r(this,v),e(this,"num",void 0),this.num=P(g)}return a(v,[{key:"suit",get:function(){return v.getSuit(this.num)}},{key:"value",get:function(){return v.getValue(this.num)}},{key:"toString",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.StringType.Long;switch(E){case v.StringType.Short:return this.toString(v.StringType.ShortValue)+this.toString(v.StringType.ShortSuit);case v.StringType.ShortEmoji:return this.toString(v.StringType.ShortValue)+this.toString(v.StringType.EmojiSuit);case v.StringType.Long:return this.toString(v.StringType.LongValue)+" of "+this.toString(v.StringType.LongSuit);case v.StringType.Char:return v.chars[this.num];case v.StringType.ShortSuit:return v.shortSuits[this.suit];case v.StringType.LongSuit:return v.longSuits[this.suit];case v.StringType.EmojiSuit:return v.emojiSuits[this.suit];case v.StringType.ShortValue:return v.shortValues[this.value===13?0:this.value];case v.StringType.LongValue:return v.longValues[this.value===13?0:this.value]}throw new Error("Unsupported output type")}}],[{key:"fromJSON",value:function(E){var O=E.num;return new v(O)}},{key:"getSuit",value:function(E){return Math.floor(E/13)%4}},{key:"getValue",value:function(E){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return E%13||O?E%13:13}},{key:"compare",value:function(E,O){return O.value-E.value}}]),v})();return Oe.Card=F,e(F,"Suits",N),e(F,"StringType",D),e(F,"chars","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),e(F,"emojiSuits",["â¥","â ","â¦","â£"]),e(F,"shortSuits",["h","s","d","c"]),e(F,"longSuits",["hearts","spades","diamonds","clubs"]),e(F,"shortValues",["A","2","3","4","5","6","7","8","9","T","J","Q","K"]),e(F,"longValues",["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"]),Oe}var $t={},ae={},Dn;function Ba(){if(Dn)return ae;Dn=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.uniqueFilter=ae.shuffle=ae.last=ae.isSorted=ae.getCombinationsHelper=ae.getCombinations=ae.arraySubtraction=void 0;var t=function(s,l){return s.filter(function(h){return!l.includes(h)})};ae.arraySubtraction=t;var e=function u(s,l,h,m,d){if(m.length>=l)d.push(m);else for(var b=h;b<s.length;b++)u(s,l,b+1,m.concat(s[b]),d)};ae.getCombinationsHelper=e;var r=function(s,l){var h=[];return e(s,l,0,[],h),h};ae.getCombinations=r;var n=function(s,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=h?-1:1;try{return s.reduce(function(d,b){if(m*l(d,b)<=0)return b;throw new Error}),!0}catch{return!1}};ae.isSorted=n;var a=function(s){return s[s.length-1]};ae.last=a;var i=function(s){for(var l=s.length-1;l>0;l--){var h=Math.floor(Math.random()*(l+1)),m=[s[h],s[l]];s[l]=m[0],s[h]=m[1]}return s};ae.shuffle=i;var o=function(s,l,h){return h.indexOf(s)===l};return ae.uniqueFilter=o,ae}var Fn;function bs(){if(Fn)return $t;Fn=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.Deck=void 0;var t=Ba(),e=wr();function r(p){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},r(p)}function n(p){return u(p)||o(p)||i(p)||a()}function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(p,S){if(p){if(typeof p=="string")return s(p,S);var f=Object.prototype.toString.call(p).slice(8,-1);if(f==="Object"&&p.constructor&&(f=p.constructor.name),f==="Map"||f==="Set")return Array.from(p);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return s(p,S)}}function o(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}function u(p){if(Array.isArray(p))return s(p)}function s(p,S){(S==null||S>p.length)&&(S=p.length);for(var f=0,_=new Array(S);f<S;f++)_[f]=p[f];return _}function l(p,S){if(!(p instanceof S))throw new TypeError("Cannot call a class as a function")}function h(p,S){for(var f=0;f<S.length;f++){var _=S[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,b(_.key),_)}}function m(p,S,f){return S&&h(p.prototype,S),f&&h(p,f),Object.defineProperty(p,"prototype",{writable:!1}),p}function d(p,S,f){return S=b(S),S in p?Object.defineProperty(p,S,{value:f,enumerable:!0,configurable:!0,writable:!0}):p[S]=f,p}function b(p){var S=A(p,"string");return r(S)==="symbol"?S:String(S)}function A(p,S){if(r(p)!=="object"||p===null)return p;var f=p[Symbol.toPrimitive];if(f!==void 0){var _=f.call(p,S);if(r(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(p)}var x=(function(){function p(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;l(this,p),d(this,"cards",void 0),this.cards=n(Array(52*f).keys()).map(function(_){return new e.Card(_)}),S&&this.shuffle()}return m(p,[{key:"shuffle",value:function(){(0,t.shuffle)(this.cards)}},{key:"isShuffled",value:function(){return!(0,t.isSorted)(this.cards,function(f,_){return f.num-_.num})}},{key:"cardsRemaining",get:function(){return this.cards.length}},{key:"pop",value:function(){return this.cards.pop()}},{key:"popN",value:function(f){for(var _=[],y,k=0;k<f&&(y=this.pop());k++)_.push(y);return _}},{key:"toString",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Char;return new e.Cards(this.cards).toString(f)}}],[{key:"fromJSON",value:function(f){var _=f.cards,y=new p(!1,0);return y.cards=_.map(function(k){return e.Card.fromJSON(k)}),y}},{key:"fromString",value:function(f){var _=new p(!1,0);return _.cards=new e.Cards(f),_}}]),p})();return $t.Deck=x,$t}var nt={},jt={},xn;function ms(){if(xn)return jt;xn=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.uuid4=void 0;var t=function(n){var a;do a=Math.random().toString(16).slice(2,n+2);while(a.length<n&&n<=12);return a},e=function(){var n=[8,4,4,4,12],a=n.map(t).join("-").split("");return a[14]="4",a[19]=(Math.floor(Math.random()*64)%4+8).toString(16),a.join("")};return jt.uuid4=e,jt}var Mn;function _s(){if(Mn)return nt;Mn=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.HandRank=nt.Hand=void 0;var t=Ba(),e=wr(),r=ms();function n(f){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},n(f)}function a(f){return s(f)||u(f)||o(f)||i()}function i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(f,_){if(f){if(typeof f=="string")return l(f,_);var y=Object.prototype.toString.call(f).slice(8,-1);if(y==="Object"&&f.constructor&&(y=f.constructor.name),y==="Map"||y==="Set")return Array.from(f);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return l(f,_)}}function u(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function s(f){if(Array.isArray(f))return l(f)}function l(f,_){(_==null||_>f.length)&&(_=f.length);for(var y=0,k=new Array(_);y<_;y++)k[y]=f[y];return k}function h(f,_){if(!(f instanceof _))throw new TypeError("Cannot call a class as a function")}function m(f,_){for(var y=0;y<_.length;y++){var k=_[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(f,A(k.key),k)}}function d(f,_,y){return _&&m(f.prototype,_),y&&m(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function b(f,_,y){return _=A(_),_ in f?Object.defineProperty(f,_,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[_]=y,f}function A(f){var _=x(f,"string");return n(_)==="symbol"?_:String(_)}function x(f,_){if(n(f)!=="object"||f===null)return f;var y=f[Symbol.toPrimitive];if(y!==void 0){var k=y.call(f,_);if(n(k)!=="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(f)}var p=(function(f){return f[f.High=0]="High",f[f.Pair=5]="Pair",f[f.TwoPairs=10]="TwoPairs",f[f.ThreeOfAKind=15]="ThreeOfAKind",f[f.Straight=20]="Straight",f[f.Flush=25]="Flush",f[f.FullHouse=30]="FullHouse",f[f.FourOfAKind=35]="FourOfAKind",f[f.StraightFlush=40]="StraightFlush",f[f.FiveOfAKind=45]="FiveOfAKind",f})({});nt.HandRank=p;var S=(function(){function f(_,y,k){h(this,f),b(this,"uuid",void 0),b(this,"rank",void 0),b(this,"cards",void 0),this.rank=_,this.cards=y,this.uuid=k||(0,r.uuid4)()}return d(f,[{key:"getCardsString",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Short;return new e.Cards(this.cards).toString(y)}},{key:"toString",value:function(){var y=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Short,w=e.Card.StringType.LongValue,N=function(z){return y.cards[z].toString(w)},D=this.getCardsString(k);switch(this.rank){case f.Rank.FiveOfAKind:return"Five of a kind, ".concat(N(0),"s (").concat(D,")");case f.Rank.StraightFlush:return"Straigth flush, ".concat(N(0)," high (").concat(D,")");case f.Rank.FourOfAKind:return"Four of a kind, ".concat(N(0),"s (").concat(D,")");case f.Rank.FullHouse:return"Full house, ".concat(N(0),"s over ").concat(N(3),"s (").concat(D,")");case f.Rank.Flush:return"Flush, ".concat(N(0)," high (").concat(D,")");case f.Rank.Straight:return"Straigth, ".concat(N(0)," high (").concat(D,")");case f.Rank.ThreeOfAKind:return"Three of a kind, ".concat(N(0),"s (").concat(D,")");case f.Rank.TwoPairs:return"Two pairs, ".concat(N(0),"s and ").concat(N(2),"s (").concat(D,")");case f.Rank.Pair:return"Pair, ".concat(N(0),"s (").concat(D,")");case f.Rank.High:return"".concat(N(0).replace(/^\w/,function($){return $.toUpperCase()})," high (").concat(D,")")}throw new Error("Unsupported rank value")}}],[{key:"fromJSON",value:function(y){var k=y.rank,w=y.cards,N=y.uuid;return new f(k,w.map(e.Card.fromJSON),N)}},{key:"solve",value:function(y){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w,N;return(w=f.isNumOfAKind(5,y))?N=f.Rank.FiveOfAKind:(w=f.isStraightFlush(y,k))?N=f.Rank.StraightFlush:(w=f.isNumOfAKind(4,y))?N=f.Rank.FourOfAKind:(w=f.isFullHouse(y))?N=f.Rank.FullHouse:(w=f.isFlush(y,k))?N=f.Rank.Flush:(w=f.isStraight(y,k))?N=f.Rank.Straight:(w=f.isNumOfAKind(3,y))?N=f.Rank.ThreeOfAKind:(w=f.isTwoPairs(y))?N=f.Rank.TwoPairs:(w=f.isNumOfAKind(2,y))?N=f.Rank.Pair:(w=[],N=f.Rank.High),w=f.fillWithKickers(w,y),new f(N,w)}},{key:"solveHoldEm",value:function(y,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(w===0)return f.solve([].concat(a(y),a(k)));for(var N=(0,t.getCombinations)(y,y.length-w),D=(0,t.getCombinations)(k,Math.min(k.length,w)),$=[],z=0;z<N.length;z++)for(var q=0;q<D.length;q++)$.push(f.solve([].concat(a(N[z]),a(D[q]))));return f.max.apply(f,$)}},{key:"compare",value:function(y,k){var w;if(y.cards.length!==k.cards.length)throw new Error("Comparing hands with different number of cards");if((w=k.rank-y.rank)!==0)return w;for(var N=0;N<y.cards.length;N++)if((w=e.Card.compare(y.cards[N],k.cards[N]))!==0)return w;return 0}},{key:"winners",value:function(){for(var y=arguments.length,k=new Array(y),w=0;w<y;w++)k[w]=arguments[w];var N=f.max.apply(f,k);return k.filter(function(D){return!f.compare(D,N)})}},{key:"max",value:function(){for(var y=function($,z){return f.compare($,z)<0?$:z},k=arguments.length,w=new Array(k),N=0;N<k;N++)w[N]=arguments[N];return w.reduce(function(D,$){return y(D,$)})}},{key:"fillWithKickers",value:function(y,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;return k=(0,t.arraySubtraction)(k,y).sort(e.Card.compare),[].concat(a(y),a(k)).slice(0,w)}},{key:"getUniqueValues",value:function(y){return y.map(function(k){return k.value}).filter(t.uniqueFilter).sort(function(k,w){return w-k})}},{key:"isNumOfAKind",value:function(y,k){for(var w=f.getUniqueValues(k),N,D=function(L){if(N=k.filter(function(T){return T.value==w[L]}),N.length>=y)return{v:N}},$=0;$<w.length;$++){var z=D($);if(n(z)==="object")return z.v}return!1}},{key:"isNumOfAKindCombination",value:function(y,k){for(var w=[],N=0;N<y.length;N++){var D=f.isNumOfAKind(y[N],(0,t.arraySubtraction)(k,w));if(D===!1)return!1;D=D,w.push.apply(w,a(D))}return w}},{key:"isStraightFlush",value:function(y){for(var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=[],N=function(q){if(w=y.filter(function(T){return T.suit===q}),w.length<k)return"continue";var L=f.isStraight(w,k);if(L)return{v:L}},D=0;D<4;D++){var $=N(D);if($!=="continue"&&n($)==="object")return $.v}return!1}},{key:"isFullHouse",value:function(y){return f.isNumOfAKindCombination([3,2],y)}},{key:"isFlush",value:function(y){for(var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=function(z){var q=y.filter(function(L){return L.suit==z});if(q.length>=k)return{v:q.sort(e.Card.compare).slice(0,k)}},N=0;N<4;N++){var D=w(N);if(n(D)==="object")return D.v}return!1}},{key:"isStraight",value:function(y){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=f.getUniqueValues(y);if(w.length<k)return!1;w.includes(13)&&w.push(0);for(var N=[w[0]],D=1;D<w.length&&N.length<k;D++)(0,t.last)(N)-w[D]===1?N.push(w[D]):N=[w[D]];return N.length==k?N.map(function($){return y.find(function(z){return z.value===($||13)})}):!1}},{key:"isTwoPairs",value:function(y){return f.isNumOfAKindCombination([2,2],y)}}]),f})();return nt.Hand=S,b(S,"Rank",p),nt}var Rn;function ys(){return Rn||(Rn=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Card",{enumerable:!0,get:function(){return e.Card}}),Object.defineProperty(t,"CardStringType",{enumerable:!0,get:function(){return e.CardStringType}}),Object.defineProperty(t,"Cards",{enumerable:!0,get:function(){return e.Cards}}),Object.defineProperty(t,"Deck",{enumerable:!0,get:function(){return r.Deck}}),Object.defineProperty(t,"Hand",{enumerable:!0,get:function(){return n.Hand}});var e=wr(),r=bs(),n=_s()})(Ar)),Ar}var ie=ys();const ws=4.5,Ss=5,Ts=3,Ln=7,ks=5,Ha=t=>{switch(t){case"bridge":return{height:Ln,width:ws};case"poker":return{height:Ln,width:Ss};case"small":return{height:ks,width:Ts}}},nn="card-appearance",Es={size:"bridge",fourColor:!1},Cs=({size:t,colors:e})=>({size:t==="default"?"poker":t,fourColor:e==="four-color"}),Wa=t=>{const e=en(Es,r=>(Dt.subscribe(n=>r(t(n))),()=>{}));return Fi(nn,e),e},an=()=>ea(nn),In=t=>{const e=ea(nn);if(e){const r=Ma(Dt);e.set(t(r))}},Ga=(t,e,r={})=>n=>{(Array.isArray(t)?t:[t]).includes(n.code)&&e!==void 0&&(r.preventDefault&&n.preventDefault(),e())};var As=Da('<svg viewBox="0 0 16 20"><path fill="CurrentColor"></path></svg>');function Ja(t,e){fe(e,!1);const r=j();let n=H(e,"suit",8,null),a=H(e,"flip",8,!1);const i=l=>{switch(l){case"hearts":return"M 8 2 C 9 0 11 0 12 0 C 13 0 16 1 16 6 C 16 8 15.5 10 14 12 L 8 20 L 2 12 C 0.5 10 0 8 0 6 C 0 1 3 0 4 0 C 5 0 7 0 8 2";case"spades":return"M 8 0 L 13 5 C 16 8 16 10 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 10 0 8 3 5 L 8 0";case"diamonds":return"M 8 0 L 16 10 L 8 20 L 0 10 L 8 0";case"clubs":return"M 8 0 C 10 0 12 2 12 4 C 12 6 11 8 8 10 C 9 8 10 7 12 7 C 14 7 16 9 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 9 2 7 4 7 C 6 7 7 8 8 10 C 5 8 4 6 4 4 C 4 2 6 0 8 0";default:return null}};W(()=>U(n()),()=>{M(r,i(n()))}),We();var o=_r(),u=Te(o);{var s=l=>{var h=As();let m;var d=I(h);re(()=>{m=he(h,0,"svelte-1izrtb7",null,m,{flip:a()}),be(d,"d",c(r))}),B(l,h)};se(u,l=>{c(r)&&l(s)})}B(t,o),ce()}var Os=Q('<span class="svelte-1hnfbft"><!></span>'),Ns=Q("<div></div>"),Ps=Q('<div class="center-pattern svelte-1hnfbft"></div>');function Ds(t,e){let r=H(e,"suit",8),n=H(e,"rank",8);const a={A:["U"],2:["U","D"],3:["U","U","D"],4:["UU","DD"],5:["UU","U","DD"],6:["UU","UU","DD"],7:["UU","u","UU","DD"],8:["UU","UU","DD","DD"],9:["UU","u","UU","DD","DD"],10:["UU","u","UU","DD","d","DD"]},i=s=>a[s]??[],o=s=>s.toUpperCase()===s?"grow":"";var u=Ps();At(u,5,()=>(U(n()),Z(()=>i(n()))),qt,(s,l)=>{var h=Ns();At(h,5,()=>(c(l),Z(()=>c(l).split(""))),qt,(m,d,b,A)=>{var x=Os(),p=I(x);{let S=Pe(()=>(c(d),Z(()=>c(d).toLowerCase()==="d")));Ja(p,{get suit(){return r()},get flip(){return c(S)}})}B(m,x)}),re(m=>he(h,1,`row ${m??""}`,"svelte-1hnfbft"),[()=>(c(l),Z(()=>o(c(l))))]),B(s,h)}),B(t,u)}var Fs=Q('<span class="screen-reader-only svelte-1on3xvn"><!></span>');function xs(t,e){var r=Fs(),n=I(r);yr(n,e,"default",{},null),B(t,r)}var Ms=Q('<div aria-hidden="true"><div> </div> <div class="suit svelte-1s7zazm"><!></div></div> <div><!></div>',1),Rs=Q("<div><!> <!></div>");function cr(t,e){fe(e,!1);const r=()=>et(A,"$cardAppearance",n),[n,a]=pt(),i=j(),o=j(),u=j(),s=j(),l=j(),h=j(),m=j(),d=j(),b=j(),A=an();let x=H(e,"card",8,null),p=H(e,"empty",8,!1),S=H(e,"shadow",8,!1),f=H(e,"stack",8,void 0);const _=["top","bottom"];W(()=>r(),()=>{M(i,r().size==="bridge")}),W(()=>r(),()=>{M(o,r().size==="small")}),W(()=>r(),()=>{M(u,r().fourColor)}),W(()=>(U(x()),U(S())),()=>{M(s,x()===null&&!S())}),W(()=>(U(p()),c(s),U(S())),()=>{M(l,!(p()||c(s)||S()))}),W(()=>(c(l),U(x()),ie.Card),()=>{M(h,c(l)&&x()?.toString(ie.Card.StringType.ShortValue).replace("T","10")||"")}),W(()=>(c(l),U(x()),ie.Card),()=>{M(m,c(l)&&x()?.toString(ie.Card.StringType.LongSuit)||"")}),W(()=>(c(l),U(x())),()=>{M(d,c(l)&&(x()?.num??0)%13>9)}),W(()=>(c(l),U(x()),ie.Card),()=>{M(b,c(l)&&x()?.toString(ie.Card.StringType.Long)||"")}),We(),ye();var y=Rs();let k;var w=I(y);{var N=$=>{xs($,{children:(z,q)=>{var L=ir();re(()=>Ae(L,c(b))),B(z,L)},$$slots:{default:!0}})};se(w,$=>{c(l)&&$(N)})}var D=K(w,2);At(D,1,()=>_,$=>$,($,z)=>{var q=Ms(),L=Te(q),T=I(L),P=I(T),F=K(T,2),v=I(F);Ja(v,{get suit(){return c(m)}});var g=K(L,2);let E;var O=I(g);{var C=R=>{Ds(R,{get suit(){return c(m)},get rank(){return c(h)}})};se(O,R=>{c(o)||R(C)})}re(()=>{he(L,1,`${c(z)??""} label`,"svelte-1s7zazm"),he(T,1,`rank rank-${c(h)??""}`,"svelte-1s7zazm"),Ae(P,c(h)),E=he(g,1,"center svelte-1s7zazm",null,E,{face:c(d)})}),B($,q)}),re(()=>k=he(y,1,`card ${c(m)??""} stack-${f()??""}`,"svelte-1s7zazm",k,{bridge:c(i),small:c(o),fourColor:c(u),empty:p(),hidden:c(s),shadow:S(),visible:c(l)})),B(t,y),ce(),a()}var Ls=Q('<div class="shadow-container svelte-98hjjr"><!></div>'),Is=Q('<div role="button" tabindex="0"><div aria-atomic="true" aria-live="polite"><!> <!></div></div>');function $s(t,e){fe(e,!1);const r=()=>et(h,"$cardAppearance",n),[n,a]=pt(),i=j(),o=j(),u=j(),s=j(),l=j(),h=an();let m=H(e,"numCards",8,52),d=H(e,"numDecks",8,1),b=H(e,"topCard",8,null),A=H(e,"numShadows",8,10),x=H(e,"shuffleAnimationSteps",8,4),p=H(e,"shuffleAnimationMaxDistanceEm",8,.8),S=H(e,"shuffleAnimationMaxRotateDeg",8,7),f=H(e,"onClick",8,()=>{}),_=j(0);function y(F,v,g,E){const O=F/E*v,C=.5*O/(g*52),R=1*O/(g*52);return`translate(${C}em , ${R}em)`}function k(F,v){const g=R=>[1,v+2].includes(F)?0:(Math.random()*2-1)*R,E=g(p()),O=g(p()),C=g(S());return`translate(${E}em, ${O}em) rotate(${C}deg)`}function w(){c(_)>0&&setTimeout(()=>{M(_,c(_)-1),w()},250)}function N(){if(!c(s))return f()()}W(()=>r(),()=>{M(i,r()?.size==="bridge")}),W(()=>r(),()=>{M(o,r()?.size==="small")}),W(()=>(U(b()),U(m()),U(d()),U(x())),()=>{b()===null&&m()===52*d()&&x()>0&&(M(_,x()+2),w())}),W(()=>c(_),()=>{M(s,c(_)>0)}),W(()=>(U(b()),c(s),U(A()),c(_),U(x()),U(m()),U(d())),()=>{M(u,b()===void 0?[]:c(s)?[...Array(A())].map(()=>({card:null,shadow:!1,transform:k(c(_),x())})):[...Array(A())].map((F,v)=>({card:void 0,shadow:!0,transform:y(v,m(),d(),A())})))}),W(()=>U(b()),()=>{M(l,b()===void 0?"Shuffle the deck":"Draw a card")}),We(),ye();var D=Is(),$=xe(()=>Ga(["Space","Enter"],N,{preventDefault:!0}));let z;var q=I(D),L=I(q);{var T=F=>{{let v=Pe(()=>b()===void 0);cr(F,{get card(){return b()},get empty(){return c(v)}})}};se(L,F=>{c(s)||F(T)})}var P=K(L,2);At(P,1,()=>c(u),qt,(F,v)=>{let g=()=>c(v).card,E=()=>c(v).shadow,O=()=>c(v).transform;var C=Ls(),R=I(C);cr(R,{get card(){return g()},get shadow(){return E()}}),re(()=>or(C,`transform: ${O()??""}`)),B(F,C)}),re(()=>{be(D,"aria-label",c(l)),be(D,"aria-disabled",c(s)),z=he(D,1,"deck svelte-98hjjr",null,z,{bridge:c(i),small:c(o),shuffling:c(s)})}),pe("keydown",D,function(...F){c($)?.apply(this,F)}),pe("click",D,N),B(t,D),ce(),a()}var js=Q('<main class="svelte-kd00ed"><!></main>');function Us(t,e){fe(e,!1),Wa(Cs);let r=new ie.Deck,n=j(r.cardsRemaining),a=j(null);function i(){c(a)!==void 0?M(a,r.pop()):(r=new ie.Deck,M(a,null)),M(n,r.cardsRemaining)}const o=l=>{l.stopPropagation(),r=new ie.Deck,M(a,null),M(n,r.cardsRemaining)};Zt(()=>{Ft.update(l=>({...l,shuffle:o}))}),Ra(()=>{Ft.update(l=>({...l,shuffle:void 0}))}),ye();var u=js(),s=I(u);$s(s,{onClick:i,get topCard(){return c(a)},get numCards(){return c(n)}}),B(t,u),ce()}const dr=(t,e)=>Ha(e).width+(t-1)*1.125,Ks=(t,e,r)=>t.length===0?"empty":e?`closed${r==="rank"?`, ${t[0].toString(ie.CardStringType.LongValue)}s`:""}`:t.toString(ie.CardStringType.Long),zs=(t,e,r,n,a=!1)=>{const i=Ks(new ie.Cards(e),n,a),o=r>0?` ${r} cards selected: ${new ie.Cards(e.slice(e.length-r)).toString(ie.CardStringType.Long)}`:"";return`${t}: ${i}.${o}`},qs=(t,e,r)=>{const n={sourceStack:e,cards:r};t.dataTransfer&&(t.dataTransfer.setData("application/json",JSON.stringify(n)),t.dataTransfer.effectAllowed="move")},Vs=t=>{const{sourceStack:e,cards:r}=JSON.parse(t.dataTransfer?.getData("application/json")??"");return{sourceStack:e,cards:r.map(ie.Card.fromJSON)}};var Bs=Q('<div class="nested svelte-1vimvv4"><!></div>'),Hs=Q('<div role="button"><div><!> <!></div></div>');function Ya(t,e){fe(e,!1);const r=()=>et(m,"$cardAppearance",n),[n,a]=pt(),i=j(),o=j(),u=j(),s=j(),l=j(),h=j(),m=an();let d=H(e,"cards",24,()=>[]),b=H(e,"capacity",8,4),A=H(e,"closed",8,!1),x=H(e,"index",8,0),p=H(e,"isDraggableFn",8,()=>!1),S=H(e,"selectedCardsN",8,0),f=H(e,"labelOptions",24,()=>({title:"Stack"})),_=H(e,"nested",8,!1);const y=g=>{g.stopPropagation(),qs(g,x(),d())},k=g=>{g.preventDefault()},w=tn(),N=()=>{_()||w("select",{index:x()})};W(()=>r(),()=>{M(i,r().size)}),W(()=>(U(b()),c(i)),()=>{M(o,`width: ${dr(b(),c(i))}em`)}),W(()=>(U(A()),U(p()),U(d())),()=>{M(u,!A()&&p()(d()))}),W(()=>(U(S()),U(d())),()=>{M(s,S()>0&&S()===d().length)}),W(()=>(U(A()),U(d())),()=>{M(l,A()&&d().length===1)}),W(()=>(U(_()),U(f()),U(d()),U(S()),U(A())),()=>{M(h,_()?void 0:zs(f().title,d(),S(),A(),f().closed))}),We(),ye();var D=Hs(),$=xe(()=>Ga(["Enter","Space"],N,{preventDefault:!0}));let z;var q=I(D),L=I(q);{var T=g=>{cr(g,{empty:!0})},P=g=>{{let E=Pe(()=>(c(l),U(d()),Z(()=>c(l)?null:d()[0])));cr(g,{get card(){return c(E)},stack:"left"})}};se(L,g=>{U(d()),Z(()=>d().length===0)?g(T):g(P,!1)})}var F=K(L,2);{var v=g=>{var E=Bs(),O=I(E);{let C=Pe(()=>(U(d()),Z(()=>d().slice(1)))),R=Pe(()=>b()-1);Ya(O,{get cards(){return c(C)},get capacity(){return c(R)},nested:!0,get closed(){return A()},get index(){return x()},get isDraggableFn(){return p()},get selectedCardsN(){return S()}})}B(g,E)};se(F,g=>{U(d()),Z(()=>d().length>1)&&g(v)})}re(()=>{be(D,"aria-label",c(h)),z=he(D,1,"stack svelte-1vimvv4",null,z,{selected:c(s)}),or(D,c(o)),be(D,"draggable",c(u)),be(D,"tabindex",_()?void 0:0),be(q,"aria-hidden",_()?void 0:"true")}),pe("dblclick",D,function(g){Lr.call(this,e,g)}),pe("dragstart",D,y),pe("dragover",D,k),pe("drop",D,function(g){Lr.call(this,e,g)}),pe("click",D,N),pe("keydown",D,function(...g){c($)?.apply(this,g)}),B(t,D),ce(),a()}var Ur=wr();const Ws=(t,e)=>{const r=t/e;return r<3/4?[3,5]:r<4/3?[4,4]:[5,3]},$n=(t,e)=>({length:t*e-15}),Za=(t,e,r)=>{const n=dr(4,t)*e+(e-1),a=Ha(t).height*r+(r-1);return[n,a]},Gs=(t,e,r)=>{const n=Math.min(e,r*2.3333333333333335),[a,i]=Ws(n,r),[o,u]=Za(t,a,i),s=n*.95/o,l=r*.95/u;return{fontSize:Math.max(Math.min(s,l),10),columns:a,rows:i,tableWidthEm:o,tableHeightEm:u}},jn=()=>{const t=new ie.Deck;return[...Array(13)].map(()=>t.popN(4)).concat([[],[]])},on=t=>{const[e,...r]=t;return r.every(n=>n.value===e.value)},Js=t=>t.length===0?!1:t.length===1?!0:on(t),sn=(t,e)=>t.length+e.length>4?!1:e.length===0||e[e.length-1].value===t[0].value,ln=(t,e,r,n)=>{const a=t.map(i=>[...i]);if(!sn(n,a[r]))throw new Error(`Can not move cards ${n.map(i=>i.toString(Ur.CardStringType.ShortEmoji))} from pile ${e} to pile ${r}`);return a[e]=a[e].slice(0,a[e].length-n.length),a[r]=[...a[r],...n],a},un=t=>t.length===1||on(t)?t:un(t.slice(1)),Ys=(t,e)=>{if(t[e].length===0)throw new Error("Cannot move cards from an empty pile.");if(fn(t[e]))throw new Error("Cannot move cards from a completed pile.");const r=un(t[e]),n=t.reduce((o,u,s)=>s!==e&&sn(r,u)?[...o,s]:o,[]);if(n.length===0)throw new Error(`Cannot move cards from pile ${e} to any other pile`);const a=n.filter(o=>t[o].length>0),i=a.length>0?a[0]:n[0];return ln(t,e,i,r)},Zs=(t,e)=>{const r=t[e].slice(-1);return r.length===0?[[],r]:[t.reduce((a,i,o)=>o!==e&&sn(r,i)?[...a,o]:a,[]),r]},Qa=t=>t.reduce((e,r,n)=>{const[a,i]=Zs(t,n);return a.length===0?e:[...e,[n,a,i]]},[]),Qs=(t,e)=>{if(t[0]!==e[0]||t[1].length!==e[1].length)return!1;for(let r=0;r<t[1].length;r++)if(t[1][r]!==e[1][r])return!1;return new Ur.Cards(t[2]).toString()===new Ur.Cards(e[2]).toString()},Xs=t=>(e,r,n)=>{const[a,i,o]=e,u=[...o];if(i.length>1)return[!1,[]];const s=i[0],l=ln(t,a,s,o),h=Qa(l),m=n.filter(([d])=>d!==s).map(d=>d[0]===a?[s,[a],o]:d).sort((d,b)=>d[0]-b[0]);if(h.length-m.length===1){const d=l[a].slice(-2);if(l[s][0]?.value!==o[0].value&&d.length===2&&d.every(b=>b.value===o[0].value))m.push([a,i,[d[1]]]),m.sort((b,A)=>b[0]-A[0]),u.push(d[1]);else return[!1,[]]}return h.length!==m.length?[!1,[]]:[m.every((d,b)=>Qs(d,h[b])),u]},el=t=>{const e=Qa(t);if(e.length===0)return["dead-end",[]];const r=e.map(Xs(t));return r.every(([n])=>n)&&r.length>0?["infinite-loop",r.reduce((a,i)=>[...a,...i[1]],[])]:[!1,[]]},fn=t=>t.length===4&&on(t),Xa=t=>t.every(e=>fn(e)||e.length===0),tl=t=>t.reduce((e,r,n)=>fn(r)?[...e,n]:e,[]),at=t=>({type:t,timestamp:Date.now()}),rl=t=>{const e={};return t.forEach(({type:r})=>e[r]=(e[r]??0)+1),e},Un=t=>t.reduce((e,r)=>e+r,0),nl=t=>{const e=t.filter(a=>a.type==="start").map(a=>a.timestamp),r=t.filter(a=>a.type==="stop").map(a=>a.timestamp);if(e.length===0)return[null,null];const n=(r[r.length-1]??Date.now())-e[0];return e.length!==r.length?[null,n]:[Un(r)-Un(e),n]},tr=(t,e)=>t>0?`${t}â¯${e}`:"",Kn=t=>{if(t===null)return"N/A";if(t<1e3)return tr(t,"ms");const e=Math.floor(t/36e5),r=Math.floor(t/6e4-e*60),n=Math.floor(t/1e3-r*60-e*3600);return[tr(e,"h"),tr(r,"min"),tr(n,"s")].join(" ").trim()};var al=Q('<!> <button><!> <span class="title"> </span></button>',1);function ei(t,e){let r=H(e,"title",8),n=H(e,"position",8,"center"),a=j(!0);const i=()=>{M(a,!1)},o=()=>{M(a,!0)};var u=al(),s=Te(u);{var l=A=>{rn(A,{get title(){return r()},get position(){return n()},closeIcon:"Minimize",$$events:{close:i},children:(x,p)=>{var S=_r(),f=Te(S);yr(f,e,"default",{},null),B(x,S)},$$slots:{default:!0}})};se(s,A=>{c(a)&&A(l)})}var h=K(s,2),m=I(h);Va(m,{icon:"OpenModal"});var d=K(m,2),b=I(d);re(()=>{he(h,1,`minimized-modal ${c(a)?"":"open"}`,"svelte-1ynejnl"),Ae(b,r())}),pe("click",h,o),B(t,u)}var il=Q(`<p>Here are statistics about the completed game. Undo and undone moves are
  excluded from <i>Significant moves</i> but included in <i>Total moves</i>.</p> <table class="svelte-1vplsp7"><tbody><tr><th class="svelte-1vplsp7">Elapsed time:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Significant moves:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Total moves:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Undone moves:</th><td class="svelte-1vplsp7"> </td></tr></tbody></table>`,1);function ol(t,e){fe(e,!1);const r=j(),n=j(),a=j();let i=H(e,"events",8);W(()=>U(i()),()=>{M(r,rl(i()))}),W(()=>(c(n),c(a),U(i())),()=>{(k=>{var w=qr(k,2);M(n,w[0]),M(a,w[1])})(nl(i()))}),We(),ye();var o=il(),u=K(Te(o),2),s=I(u),l=I(s),h=K(I(l)),m=I(h),d=K(l),b=K(I(d)),A=I(b),x=K(d),p=K(I(x)),S=I(p),f=K(x),_=K(I(f)),y=I(_);re(k=>{Ae(m,k),Ae(A,(c(r),Z(()=>(c(r).move??0)-(c(r).undo??0)))),Ae(S,(c(r),Z(()=>(c(r).move??0)+(c(r).undo??0)))),Ae(y,(c(r),Z(()=>c(r).undo??0)))},[()=>(U(Kn),c(a),Z(()=>Kn(c(a))))]),B(t,o),ce()}var sl=Q('<!> <div class="actions svelte-1gnlsyg"><!></div>',1);function ll(t,e){fe(e,!1);const r=j();let n=H(e,"events",8),a=H(e,"piles",8);const i=tn();W(()=>U(a()),()=>{M(r,Xa(a()))}),We(),ye();var o=_r(),u=Te(o);{var s=l=>{ei(l,{title:"Completed",children:(h,m)=>{var d=sl(),b=Te(d);ol(b,{get events(){return n()}});var A=K(b,2),x=I(A);Ye(x,{icon:"Shuffle",label:"Shuffle",onClick:()=>i("shuffle")}),B(h,d)},$$slots:{default:!0}})};se(u,l=>{c(r)&&l(s)})}B(t,o),ce()}const ul=(t,e=ie.CardStringType.Long)=>{const r=t.map(a=>a.toString(e)),n=[r.slice(0,-1).join(", "),...r.slice(-1)].filter(a=>a).join(" and ");return n.charAt(0).toUpperCase()+n.slice(1)};var fl=Q("<p>No more possible moves. Undo the last move or start a new game.</p>"),cl=Q("<p> </p>"),dl=Q('<!> <!> <div class="actions svelte-1o3xc0i"><!> <!></div>',1);function vl(t,e){fe(e,!0);const r=xe(()=>el(e.piles)),n=xe(()=>qr(c(r),2)),a=xe(()=>c(n)[0]),i=xe(()=>c(n)[1]),o=xe(()=>ul(c(i)));var u=_r(),s=Te(u);{var l=h=>{ei(h,{title:"Dead end",children:(m,d)=>{var b=dl(),A=Te(b);{var x=k=>{var w=fl();B(k,w)};se(A,k=>{c(a)==="dead-end"&&k(x)})}var p=K(A,2);{var S=k=>{var w=cl(),N=I(w);re(()=>Ae(N,`${c(o)??""} can be moved back and forth between two piles. There are no
        other possible moves. Undo the last move or start a new game.`)),B(k,w)};se(p,k=>{c(a)==="infinite-loop"&&k(S)})}var f=K(p,2),_=I(f);Ye(_,{icon:"Shuffle",label:"Shuffle",get onClick(){return e.shuffle}});var y=K(_,2);Ye(y,{icon:"Undo",label:"Undo",get onClick(){return e.undo}}),B(m,b)},$$slots:{default:!0}})};se(s,h=>{c(a)&&h(l)})}B(t,u),ce()}var hl=Q(`<p>The goal of the pileon solitaire is to rearrange a deck of cards into piles
    of equal ranks from thirteen random piles of four using fifteen piles.</p> <h3>Rules</h3> <ul><li>Each pile can contain up to four cards.</li> <li>Cards can be moved from top of the pile into a pile where the top card is
      of the same rank as the card that is moved.</li> <li>Cards of any rank can be moved into an empty pile.</li> <li>Multiple cards with the same rank can be moved at once.</li> <li>Pile is complete when it contains all four cards with the same rank.</li></ul> <h3>Moving cards</h3> <ol><li>Select the source pile by clicking a pile. Cards to be moved are
      highlighted. Click the source pile again to reduce the amount of selected
      cards.</li> <li>Move cards by clicking the target pile. If the move is valid, the cards
      are moved from the source pile into the target pile.</li></ol> <p>If your device supports drag-and-drop, you can also drag the cards you want
    to move from the source pile into the target pile. Double-clicking the
    source pile automatically moves cards from the pile to an available target
    pile.</p>`,1);function pl(t,e){rn(t,{title:"How to play?",$$events:{close(r){Lr.call(this,e,r)}},children:(r,n)=>{var a=hl();B(r,a)},$$slots:{default:!0}})}var gl=Q('<div class="pile svelte-17eyygh"><!></div>'),bl=Q('<div class="pile svelte-17eyygh"></div>'),ml=Q("<main><!> <!></main> <!> <!> <!>",1);function zn(t,e){fe(e,!1);const r=()=>et(x,"$appearance",n),[n,a]=pt(),i=j(),o=j(),u=j(),s=j(),l=j(),h=j(),m=j(),d=j();let b=j(),A=j(),x=Wa(C=>({size:C.size==="default"?"bridge":C.size,fourColor:C.colors==="four-color"})),p=j([jn()]),S=j([at("start")]),f=j(!1);const _=C=>{C.stopPropagation(),M(f,!0)},y=C=>{C.stopPropagation(),M(w,[void 0,[]]),M(p,[jn()]),M(S,[at("start")])},k=C=>{C.stopPropagation(),c(p).length>1&&(M(w,[void 0,[]]),M(p,c(p).slice(0,c(p).length-1)),M(S,[...c(S),at("undo")]))};let w=j([void 0,[]]);const N=(C,R,V)=>{try{M(w,[void 0,[]]);const G=ln(c(p)[c(p).length-1],C,R,V);M(p,[...c(p),G]),M(S,[...c(S),at("move")])}catch{}},D=C=>{const[R,V]=c(w),G=C.detail.index;c(o).includes(G)||(R===void 0||V.length===0?M(w,[G,un(c(i)[G])]):R===G?M(w,[G,V.slice(1)]):R!==G&&(N(R,G,V),M(w,[void 0,[]])))},$=C=>R=>{R.preventDefault();const{sourceStack:V,cards:G}=Vs(R);V!==C&&N(V,C,G)},z=C=>R=>{R.preventDefault();try{M(w,[void 0,[]]);const V=Ys(c(p)[c(p).length-1],C);M(p,[...c(p),V]),M(S,[...c(S),at("move")])}catch{}};Zt(()=>{Ft.update(C=>({...C,help:_,shuffle:y,undo:k}))}),Ra(()=>{Ft.update(C=>({...C,help:void 0,shuffle:void 0,undo:void 0}))}),W(()=>(c(b),c(A),In),()=>{const C=c(b)<800||c(A)<400?"small":"bridge";In(R=>({size:R.size==="default"?C:R.size,fourColor:R.colors==="four-color"}))}),W(()=>c(p),()=>{M(i,c(p)[c(p).length-1])}),W(()=>c(i),()=>{M(o,tl(c(i)))}),W(()=>(c(i),c(S),at),()=>{Xa(c(i))&&c(S).push(at("stop"))}),W(()=>c(w),()=>{M(u,c(w)[0])}),W(()=>c(w),()=>{M(s,c(w)[1])}),W(()=>r(),()=>{M(l,r().size)}),W(()=>(c(l),c(b),c(A)),()=>{M(h,Gs(c(l),c(b),c(A)))}),W(()=>(c(m),c(d),c(l)),()=>{(C=>{var R=qr(C,2);M(m,R[0]),M(d,R[1])})(Za(c(l),5,3))}),We(),ye();var q=ml(),L=Te(q);let T;var P=I(L);At(P,1,()=>c(i),qt,(C,R,V)=>{var G=gl(),ee=I(G),ne=xe(()=>$(V)),je=xe(()=>z(V));{let Ge=Pe(()=>(c(o),Z(()=>c(o).includes(V)))),tt=Pe(()=>(c(u),c(s),Z(()=>c(u)===V?c(s).length:0)));Ya(ee,{get cards(){return c(R)},get closed(){return c(Ge)},get selectedCardsN(){return c(tt)},labelOptions:{title:`Stack ${V+1}`,closed:"rank"},index:V,get isDraggableFn(){return Js},$$events:{drop(...rt){c(ne)?.apply(this,rt)},dblclick(...rt){c(je)?.apply(this,rt)},select:D}})}B(C,G)});var F=K(P,2);At(F,1,()=>(U($n),c(h),Z(()=>$n(c(h).columns,c(h).rows))),qt,(C,R,V,G)=>{var ee=bl();re(ne=>or(ee,ne),[()=>(U(dr),c(l),Z(()=>`min-width: ${dr(4,c(l))}em`))]),B(C,ee)});var v=K(L,2);{var g=C=>{pl(C,{$$events:{close:()=>{M(f,!1)}}})};se(v,C=>{c(f)&&C(g)})}var E=K(v,2);ll(E,{get events(){return c(S)},get piles(){return c(i)},$$events:{shuffle:y}});var O=K(E,2);vl(O,{get piles(){return c(i)},shuffle:y,undo:k}),re(()=>{he(L,1,`pileon deal-${c(h),Z(()=>c(h).columns)??""}x${c(h),Z(()=>c(h).rows)??""}`,"svelte-17eyygh"),T=or(L,"",T,{"font-size":`${c(h),Z(()=>c(h).fontSize)??""}px`,"max-width":`${c(m)*1.25}em`})}),wn(L,"clientHeight",C=>M(A,C)),wn(L,"clientWidth",C=>M(b,C)),B(t,q),ce(),a()}var _l=Q("<!> <!> <!>",1);function yl(t,e){fe(e,!1);const r=()=>et(Dt,"$settings",a),n=()=>et(Ft,"$actions",a),[a,i]=pt(),o=j(),u=d=>{d.key==="z"&&(d.ctrlKey||d.metaKey)&&n().undo!==void 0&&n().undo(d),d.key==="F1"&&n().help!==void 0&&n().help(d)};W(()=>(r(),zn),()=>{M(o,r().game==="deck"?Us:zn)}),We(),ye();var s=_l();pe("keydown",ua.body,u);var l=Te(s);gs(l,{});var h=K(l,2);po(h,()=>c(o),(d,b)=>{b(d,{})});var m=K(h,2);Po(m,{}),B(t,s),ce(),i()}co(yl,{target:document.body});
