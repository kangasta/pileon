(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Dr=!1;var gr=Array.isArray,ai=Array.prototype.indexOf,br=Array.from,Hn=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyDescriptors,ii=Object.prototype,oi=Array.prototype,Br=Object.getPrototypeOf,vn=Object.isExtensible;const Ct=()=>{};function si(t){return t()}function Fr(t){for(var e=0;e<t.length;e++)t[e]()}function Gn(){var t,e,r=new Promise((n,a)=>{t=n,e=a});return{promise:r,resolve:t,reject:e}}function Hr(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const n of t)if(r.push(n),r.length===e)break;return r}const ue=2,Wr=4,mr=8,li=1<<24,Ge=16,Je=32,gt=64,yr=128,xe=512,oe=1024,_e=2048,Re=4096,Ee=8192,Be=16384,Gr=32768,ct=65536,hn=1<<17,Jn=1<<18,It=1<<19,Yn=1<<20,Ve=1<<25,dt=32768,xr=1<<21,Jr=1<<22,et=1<<23,st=Symbol("$state"),ui=Symbol("legacy props"),fi=Symbol(""),St=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function _r(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ci(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function di(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function vi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function hi(t){throw new Error("https://svelte.dev/e/effect_orphan")}function pi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function gi(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function bi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function mi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function yi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function _i(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const wi=1,Si=2,Zn=4,Ti=8,Ei=16,ki=1,Ci=2,Ai=4,Oi=8,Ni=16,Pi=1,Di=2,de=Symbol(),Fi="http://www.w3.org/1999/xhtml";function xi(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Qn(t){return t===this.v}function Xn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ea(t){return!Xn(t,this.v)}let Mt=!1,Ri=!1;function Ii(){Mt=!0}let X=null;function At(t){X=t}function ta(t){return ra().get(t)}function Mi(t,e){return ra().set(t,e),e}function fe(t,e=!1,r){X={p:X,i:!1,c:null,e:null,s:t,x:null,l:Mt&&!e?{s:null,u:null,$:[]}:null}}function ce(t){var e=X,r=e.e;if(r!==null){e.e=null;for(var n of r)ga(n)}return e.i=!0,X=e.p,{}}function Zt(){return!Mt||X!==null&&X.l===null}function ra(t){return X===null&&_r(),X.c??=new Map(Li(X)||void 0)}function Li(t){let e=t.p;for(;e!==null;){const r=e.c;if(r!==null)return r;e=e.p}return null}let Tt=[];function $i(){var t=Tt;Tt=[],Fr(t)}function Lt(t){if(Tt.length===0){var e=Tt;queueMicrotask(()=>{e===Tt&&$i()})}Tt.push(t)}function na(t){var e=Y;if(e===null)return G.f|=et,t;if((e.f&Gr)===0){if((e.f&yr)===0)throw t;e.b.error(t)}else Ot(t,e)}function Ot(t,e){for(;e!==null;){if((e.f&yr)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw t}const tr=new Set;let re=null,Oe=null,Ie=[],Yr=null,Rr=!1;class Le{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#i=new Set;#a=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(e){Ie=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const n of e)this.#o(n,r);this.is_fork||this.#f(),this.is_deferred()?(this.#s(r.effects),this.#s(r.render_effects)):(re=null,pn(r.render_effects),pn(r.effects),this.#l?.resolve()),Oe=null}#o(e,r){e.f^=oe;for(var n=e.first;n!==null;){var a=n.f,i=(a&(Je|gt))!==0,o=i&&(a&oe)!==0,u=o||(a&Ee)!==0||this.skipped_effects.has(n);if((n.f&yr)!==0&&n.b?.is_pending()&&(r={parent:r,effect:n,effects:[],render_effects:[]}),!u&&n.fn!==null){i?n.f^=oe:(a&Wr)!==0?r.effects.push(n):$t(n)&&((n.f&Ge)!==0&&this.#i.add(n),Dt(n));var s=n.first;if(s!==null){n=s;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)l===r.effect&&(this.#s(r.effects),this.#s(r.render_effects),r=r.parent),n=l.next,l=l.parent}}#s(e){for(const r of e)(r.f&_e)!==0?this.#i.add(r):(r.f&Re)!==0&&this.#a.add(r),this.#u(r.deps),le(r,oe)}#u(e){if(e!==null)for(const r of e)(r.f&ue)===0||(r.f&dt)===0||(r.f^=dt,this.#u(r.deps))}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&et)===0&&(this.current.set(e,e.v),Oe?.set(e,e.v))}activate(){re=this,this.apply()}deactivate(){re===this&&(re=null,Oe=null)}flush(){if(this.activate(),Ie.length>0){if(ji(),re!==null&&re!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#f(){if(this.#n===0){for(const e of this.#e)e();this.#e.clear()}this.#r===0&&this.#c()}#c(){if(tr.size>1){this.previous.clear();var e=Oe,r=!0,n={parent:null,effect:null,effects:[],render_effects:[]};for(const i of tr){if(i===this){r=!1;continue}const o=[];for(const[s,l]of this.current){if(i.current.has(s))if(r&&l!==i.current.get(s))i.current.set(s,l);else continue;o.push(s)}if(o.length===0)continue;const u=[...i.current.keys()].filter(s=>!this.current.has(s));if(u.length>0){var a=Ie;Ie=[];const s=new Set,l=new Map;for(const h of o)aa(h,u,s,l);if(Ie.length>0){re=i,i.apply();for(const h of Ie)i.#o(h,n);i.deactivate()}Ie=a}}re=null,Oe=e}this.committed=!0,tr.delete(this)}increment(e){this.#r+=1,e&&(this.#n+=1)}decrement(e){this.#r-=1,e&&(this.#n-=1),this.revive()}revive(){for(const e of this.#i)this.#a.delete(e),le(e,_e),vt(e);for(const e of this.#a)le(e,Re),vt(e);this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=Gn()).promise}static ensure(){if(re===null){const e=re=new Le;tr.add(re),Le.enqueue(()=>{re===e&&e.flush()})}return re}static enqueue(e){Lt(e)}apply(){}}function ji(){var t=ut;Rr=!0;var e=null;try{var r=0;for(or(!0);Ie.length>0;){var n=Le.ensure();if(r++>1e3){var a,i;Ui()}n.process(Ie),tt.clear()}}finally{Rr=!1,or(t),Yr=null}}function Ui(){try{pi()}catch(t){Ot(t,Yr)}}let ze=null;function pn(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var n=t[r++];if((n.f&(Be|Ee))===0&&$t(n)&&(ze=new Set,Dt(n),n.deps===null&&n.first===null&&n.nodes===null&&(n.teardown===null&&n.ac===null?_a(n):n.fn=null),ze?.size>0)){tt.clear();for(const a of ze){if((a.f&(Be|Ee))!==0)continue;const i=[a];let o=a.parent;for(;o!==null;)ze.has(o)&&(ze.delete(o),i.push(o)),o=o.parent;for(let u=i.length-1;u>=0;u--){const s=i[u];(s.f&(Be|Ee))===0&&Dt(s)}}ze.clear()}}ze=null}}function aa(t,e,r,n){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const a of t.reactions){const i=a.f;(i&ue)!==0?aa(a,e,r,n):(i&(Jr|Ge))!==0&&(i&_e)===0&&ia(a,e,n)&&(le(a,_e),vt(a))}}function ia(t,e,r){const n=r.get(t);if(n!==void 0)return n;if(t.deps!==null)for(const a of t.deps){if(e.includes(a))return!0;if((a.f&ue)!==0&&ia(a,e,r))return r.set(a,!0),!0}return r.set(t,!1),!1}function vt(t){for(var e=Yr=t;e.parent!==null;){e=e.parent;var r=e.f;if(Rr&&e===Y&&(r&Ge)!==0&&(r&Jn)===0)return;if((r&(gt|Je))!==0){if((r&oe)===0)return;e.f^=oe}}Ie.push(e)}function Ki(t){let e=0,r=ht(0),n;return()=>{Ht()&&(d(r),wr(()=>(e===0&&(n=Z(()=>t(()=>Vt(r)))),e+=1,()=>{Lt(()=>{e-=1,e===0&&(n?.(),n=void 0,Vt(r))})})))}}var zi=ct|It|yr;function qi(t,e,r){new Vi(t,e,r)}class Vi{parent;#e=!1;#t;#r=null;#n;#l;#i;#a=null;#o=null;#s=null;#u=null;#f=null;#c=0;#d=0;#h=!1;#v=null;#y=Ki(()=>(this.#v=ht(this.#c),()=>{this.#v=null}));constructor(e,r,n){this.#t=e,this.#n=r,this.#l=n,this.parent=Y.b,this.#e=!!this.#n.pending,this.#i=Sr(()=>{Y.b=this;{var a=this.#b();try{this.#a=Ae(()=>n(a))}catch(i){this.error(i)}this.#d>0?this.#g():this.#e=!1}return()=>{this.#f?.remove()}},zi)}#_(){try{this.#a=Ae(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#w(){const e=this.#n.pending;e&&(this.#o=Ae(()=>e(this.#t)),Le.enqueue(()=>{var r=this.#b();this.#a=this.#p(()=>(Le.ensure(),Ae(()=>this.#l(r)))),this.#d>0?this.#g():(lt(this.#o,()=>{this.#o=null}),this.#e=!1)}))}#b(){var e=this.#t;return this.#e&&(this.#f=He(),this.#t.before(this.#f),e=this.#f),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#p(e){var r=Y,n=G,a=X;je(this.#i),be(this.#i),At(this.#i.ctx);try{return e()}catch(i){return na(i),null}finally{je(r),be(n),At(a)}}#g(){const e=this.#n.pending;this.#a!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#f),Ta(this.#a,this.#u)),this.#o===null&&(this.#o=Ae(()=>e(this.#t)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}this.#d+=e,this.#d===0&&(this.#e=!1,this.#o&&lt(this.#o,()=>{this.#o=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(e){this.#m(e),this.#c+=e,this.#v&&Nt(this.#v,this.#c)}get_effect_pending(){return this.#y(),d(this.#v)}error(e){var r=this.#n.onerror;let n=this.#n.failed;if(this.#h||!r&&!n)throw e;this.#a&&(ye(this.#a),this.#a=null),this.#o&&(ye(this.#o),this.#o=null),this.#s&&(ye(this.#s),this.#s=null);var a=!1,i=!1;const o=()=>{if(a){xi();return}a=!0,i&&_i(),Le.ensure(),this.#c=0,this.#s!==null&&lt(this.#s,()=>{this.#s=null}),this.#e=this.has_pending_snippet(),this.#a=this.#p(()=>(this.#h=!1,Ae(()=>this.#l(this.#t)))),this.#d>0?this.#g():this.#e=!1};var u=G;try{be(null),i=!0,r?.(e,o),i=!1}catch(s){Ot(s,this.#i&&this.#i.parent)}finally{be(u)}n&&Lt(()=>{this.#s=this.#p(()=>{Le.ensure(),this.#h=!0;try{return Ae(()=>{n(this.#t,()=>e,()=>o)})}catch(s){return Ot(s,this.#i.parent),null}finally{this.#h=!1}})})}}function Bi(t,e,r,n){const a=Zt()?Qt:Fe;if(r.length===0&&t.length===0){n(e.map(a));return}var i=re,o=Y,u=Hi();function s(){Promise.all(r.map(l=>Wi(l))).then(l=>{u();try{n([...e.map(a),...l])}catch(h){(o.f&Be)===0&&Ot(h,o)}i?.deactivate(),ir()}).catch(l=>{Ot(l,o)})}t.length>0?Promise.all(t).then(()=>{u();try{return s()}finally{i?.deactivate(),ir()}}):s()}function Hi(){var t=Y,e=G,r=X,n=re;return function(i=!0){je(t),be(e),At(r),i&&n?.activate()}}function ir(){je(null),be(null),At(null)}function Qt(t){var e=ue|_e,r=G!==null&&(G.f&ue)!==0?G:null;return Y!==null&&(Y.f|=It),{ctx:X,deps:null,effects:null,equals:Qn,f:e,fn:t,reactions:null,rv:0,v:de,wv:0,parent:r??Y,ac:null}}function Wi(t,e){let r=Y;r===null&&ci();var n=r.b,a=void 0,i=ht(de),o=!G,u=new Map;return to(()=>{var s=Gn();a=s.promise;try{Promise.resolve(t()).then(s.resolve,s.reject).then(()=>{l===re&&l.committed&&l.deactivate(),ir()})}catch(v){s.reject(v),ir()}var l=re;if(o){var h=!n.is_pending();n.update_pending_count(1),l.increment(h),u.get(l)?.reject(St),u.delete(l),u.set(l,s)}const b=(v,m=void 0)=>{if(l.activate(),m)m!==St&&(i.f|=et,Nt(i,m));else{(i.f&et)!==0&&(i.f^=et),Nt(i,v);for(const[N,R]of u){if(u.delete(N),N===l)break;R.reject(St)}}o&&(n.update_pending_count(-1),l.decrement(h))};s.promise.then(b,v=>b(null,v||"unknown"))}),Xr(()=>{for(const s of u.values())s.reject(St)}),new Promise(s=>{function l(h){function b(){h===a?s(i):l(a)}h.then(b,b)}l(a)})}function Me(t){const e=Qt(t);return Ea(e),e}function Fe(t){const e=Qt(t);return e.equals=ea,e}function oa(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)ye(e[r])}}function Gi(t){for(var e=t.parent;e!==null;){if((e.f&ue)===0)return(e.f&Be)===0?e:null;e=e.parent}return null}function Zr(t){var e,r=Y;je(Gi(t));try{t.f&=~dt,oa(t),e=Oa(t)}finally{je(r)}return e}function sa(t){var e=Zr(t);if(t.equals(e)||(re?.is_fork||(t.v=e),t.wv=Ca()),!bt)if(Oe!==null)(Ht()||re?.is_fork)&&Oe.set(t,e);else{var r=(t.f&xe)===0?Re:oe;le(t,r)}}let Ir=new Set;const tt=new Map;let la=!1;function ht(t,e){var r={f:0,v:t,reactions:null,equals:Qn,rv:0,wv:0};return r}function Ze(t,e){const r=ht(t);return Ea(r),r}function L(t,e=!1,r=!0){const n=ht(t);return e||(n.equals=ea),Mt&&r&&X!==null&&X.l!==null&&(X.l.s??=[]).push(n),n}function x(t,e,r=!1){G!==null&&(!$e||(G.f&hn)!==0)&&Zt()&&(G.f&(ue|Ge|Jr|hn))!==0&&!We?.includes(t)&&yi();let n=r?Et(e):e;return Nt(t,n)}function Nt(t,e){if(!t.equals(e)){var r=t.v;bt?tt.set(t,e):tt.set(t,r),t.v=e;var n=Le.ensure();n.capture(t,r),(t.f&ue)!==0&&((t.f&_e)!==0&&Zr(t),le(t,(t.f&xe)!==0?oe:Re)),t.wv=Ca(),ua(t,_e),Zt()&&Y!==null&&(Y.f&oe)!==0&&(Y.f&(Je|gt))===0&&(Ce===null?ao([t]):Ce.push(t)),!n.is_fork&&Ir.size>0&&!la&&Ji()}return e}function Ji(){la=!1;var t=ut;or(!0);const e=Array.from(Ir);try{for(const r of e)(r.f&oe)!==0&&le(r,Re),$t(r)&&Dt(r)}finally{or(t)}Ir.clear()}function Vt(t){x(t,t.v+1)}function ua(t,e){var r=t.reactions;if(r!==null)for(var n=Zt(),a=r.length,i=0;i<a;i++){var o=r[i],u=o.f;if(!(!n&&o===Y)){var s=(u&_e)===0;if(s&&le(o,e),(u&ue)!==0){var l=o;Oe?.delete(l),(u&dt)===0&&(u&xe&&(o.f|=dt),ua(l,Re))}else s&&((u&Ge)!==0&&ze!==null&&ze.add(o),vt(o))}}}function Et(t){if(typeof t!="object"||t===null||st in t)return t;const e=Br(t);if(e!==ii&&e!==oi)return t;var r=new Map,n=gr(t),a=Ze(0),i=ft,o=u=>{if(ft===i)return u();var s=G,l=ft;be(null),bn(i);var h=u();return be(s),bn(l),h};return n&&r.set("length",Ze(t.length)),new Proxy(t,{defineProperty(u,s,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&bi();var h=r.get(s);return h===void 0?h=o(()=>{var b=Ze(l.value);return r.set(s,b),b}):x(h,l.value,!0),!0},deleteProperty(u,s){var l=r.get(s);if(l===void 0){if(s in u){const h=o(()=>Ze(de));r.set(s,h),Vt(a)}}else x(l,de),Vt(a);return!0},get(u,s,l){if(s===st)return t;var h=r.get(s),b=s in u;if(h===void 0&&(!b||kt(u,s)?.writable)&&(h=o(()=>{var m=Et(b?u[s]:de),N=Ze(m);return N}),r.set(s,h)),h!==void 0){var v=d(h);return v===de?void 0:v}return Reflect.get(u,s,l)},getOwnPropertyDescriptor(u,s){var l=Reflect.getOwnPropertyDescriptor(u,s);if(l&&"value"in l){var h=r.get(s);h&&(l.value=d(h))}else if(l===void 0){var b=r.get(s),v=b?.v;if(b!==void 0&&v!==de)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return l},has(u,s){if(s===st)return!0;var l=r.get(s),h=l!==void 0&&l.v!==de||Reflect.has(u,s);if(l!==void 0||Y!==null&&(!h||kt(u,s)?.writable)){l===void 0&&(l=o(()=>{var v=h?Et(u[s]):de,m=Ze(v);return m}),r.set(s,l));var b=d(l);if(b===de)return!1}return h},set(u,s,l,h){var b=r.get(s),v=s in u;if(n&&s==="length")for(var m=l;m<b.v;m+=1){var N=r.get(m+"");N!==void 0?x(N,de):m in u&&(N=o(()=>Ze(de)),r.set(m+"",N))}if(b===void 0)(!v||kt(u,s)?.writable)&&(b=o(()=>Ze(void 0)),x(b,Et(l)),r.set(s,b));else{v=b.v!==de;var R=o(()=>Et(l));x(b,R)}var p=Reflect.getOwnPropertyDescriptor(u,s);if(p?.set&&p.set.call(h,l),!v){if(n&&typeof s=="string"){var _=r.get("length"),c=Number(s);Number.isInteger(c)&&c>=_.v&&x(_,c+1)}Vt(a)}return!0},ownKeys(u){d(a);var s=Reflect.ownKeys(u).filter(b=>{var v=r.get(b);return v===void 0||v.v!==de});for(var[l,h]of r)h.v!==de&&!(l in u)&&s.push(l);return s},setPrototypeOf(){mi()}})}var Mr,fa,ca,da,va;function Yi(){if(Mr===void 0){Mr=window,fa=document,ca=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;da=kt(e,"firstChild").get,va=kt(e,"nextSibling").get,vn(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),vn(r)&&(r.__t=void 0)}}function He(t=""){return document.createTextNode(t)}function Pt(t){return da.call(t)}function Xt(t){return va.call(t)}function M(t,e){return Pt(t)}function ke(t,e=!1){{var r=Pt(t);return r instanceof Comment&&r.data===""?Xt(r):r}}function K(t,e=1,r=!1){let n=t;for(;e--;)n=Xt(n);return n}function Zi(t){t.textContent=""}function ha(){return!1}function Qr(t){var e=G,r=Y;be(null),je(null);try{return t()}finally{be(e),je(r)}}function pa(t){Y===null&&(G===null&&hi(),vi()),bt&&di()}function Qi(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Ue(t,e,r){var n=Y;n!==null&&(n.f&Ee)!==0&&(t|=Ee);var a={ctx:X,deps:null,nodes:null,f:t|_e|xe,first:null,fn:e,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{Dt(a),a.f|=Gr}catch(u){throw ye(a),u}else e!==null&&vt(a);var i=a;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&It)===0&&(i=i.first,(t&Ge)!==0&&(t&ct)!==0&&i!==null&&(i.f|=ct)),i!==null&&(i.parent=n,n!==null&&Qi(i,n),G!==null&&(G.f&ue)!==0&&(t&gt)===0)){var o=G;(o.effects??=[]).push(i)}return a}function Ht(){return G!==null&&!$e}function Xr(t){const e=Ue(mr,null,!1);return le(e,oe),e.teardown=t,e}function Lr(t){pa();var e=Y.f,r=!G&&(e&Je)!==0&&(e&Gr)===0;if(r){var n=X;(n.e??=[]).push(t)}else return ga(t)}function ga(t){return Ue(Wr|Yn,t,!1)}function Xi(t){return pa(),Ue(mr|Yn,t,!0)}function eo(t){Le.ensure();const e=Ue(gt|It,t,!0);return(r={})=>new Promise(n=>{r.outro?lt(e,()=>{ye(e),n(void 0)}):(ye(e),n(void 0))})}function ba(t){return Ue(Wr,t,!1)}function W(t,e){var r=X,n={effect:null,ran:!1,deps:t};r.l.$.push(n),n.effect=wr(()=>{t(),!n.ran&&(n.ran=!0,Z(e))})}function Ye(){var t=X;wr(()=>{for(var e of t.l.$){e.deps();var r=e.effect;(r.f&oe)!==0&&le(r,Re),$t(r)&&Dt(r),e.ran=!1}})}function to(t){return Ue(Jr|It,t,!0)}function wr(t,e=0){return Ue(mr|e,t,!0)}function ne(t,e=[],r=[],n=[]){Bi(n,e,r,a=>{Ue(mr,()=>t(...a.map(d)),!0)})}function Sr(t,e=0){var r=Ue(Ge|e,t,!0);return r}function Ae(t){return Ue(Je|It,t,!0)}function ma(t){var e=t.teardown;if(e!==null){const r=bt,n=G;gn(!0),be(null);try{e.call(null)}finally{gn(r),be(n)}}}function ya(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const a=r.ac;a!==null&&Qr(()=>{a.abort(St)});var n=r.next;(r.f&gt)!==0?r.parent=null:ye(r,e),r=n}}function ro(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Je)===0&&ye(e),e=r}}function ye(t,e=!0){var r=!1;(e||(t.f&Jn)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(no(t.nodes.start,t.nodes.end),r=!0),ya(t,e&&!r),sr(t,0),le(t,Be);var n=t.nodes&&t.nodes.t;if(n!==null)for(const i of n)i.stop();ma(t);var a=t.parent;a!==null&&a.first!==null&&_a(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function no(t,e){for(;t!==null;){var r=t===e?null:Xt(t);t.remove(),t=r}}function _a(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function lt(t,e,r=!0){var n=[];wa(t,n,!0);var a=()=>{r&&ye(t),e&&e()},i=n.length;if(i>0){var o=()=>--i||a();for(var u of n)u.out(o)}else a()}function wa(t,e,r){if((t.f&Ee)===0){t.f^=Ee;var n=t.nodes&&t.nodes.t;if(n!==null)for(const u of n)(u.is_global||r)&&e.push(u);for(var a=t.first;a!==null;){var i=a.next,o=(a.f&ct)!==0||(a.f&Je)!==0&&(t.f&Ge)!==0;wa(a,e,o?r:!1),a=i}}}function en(t){Sa(t,!0)}function Sa(t,e){if((t.f&Ee)!==0){t.f^=Ee,(t.f&oe)===0&&(le(t,_e),vt(t));for(var r=t.first;r!==null;){var n=r.next,a=(r.f&ct)!==0||(r.f&Je)!==0;Sa(r,a?e:!1),r=n}var i=t.nodes&&t.nodes.t;if(i!==null)for(const o of i)(o.is_global||e)&&o.in()}}function Ta(t,e){if(t.nodes)for(var r=t.nodes.start,n=t.nodes.end;r!==null;){var a=r===n?null:Xt(r);e.append(r),r=a}}let ut=!1;function or(t){ut=t}let bt=!1;function gn(t){bt=t}let G=null,$e=!1;function be(t){G=t}let Y=null;function je(t){Y=t}let We=null;function Ea(t){G!==null&&(We===null?We=[t]:We.push(t))}let ve=null,Te=0,Ce=null;function ao(t){Ce=t}let ka=1,Wt=0,ft=Wt;function bn(t){ft=t}function Ca(){return++ka}function $t(t){var e=t.f;if((e&_e)!==0)return!0;if(e&ue&&(t.f&=~dt),(e&Re)!==0){var r=t.deps;if(r!==null)for(var n=r.length,a=0;a<n;a++){var i=r[a];if($t(i)&&sa(i),i.wv>t.wv)return!0}(e&xe)!==0&&Oe===null&&le(t,oe)}return!1}function Aa(t,e,r=!0){var n=t.reactions;if(n!==null&&!We?.includes(t))for(var a=0;a<n.length;a++){var i=n[a];(i.f&ue)!==0?Aa(i,e,!1):e===i&&(r?le(i,_e):(i.f&oe)!==0&&le(i,Re),vt(i))}}function Oa(t){var e=ve,r=Te,n=Ce,a=G,i=We,o=X,u=$e,s=ft,l=t.f;ve=null,Te=0,Ce=null,G=(l&(Je|gt))===0?t:null,We=null,At(t.ctx),$e=!1,ft=++Wt,t.ac!==null&&(Qr(()=>{t.ac.abort(St)}),t.ac=null);try{t.f|=xr;var h=t.fn,b=h(),v=t.deps;if(ve!==null){var m;if(sr(t,Te),v!==null&&Te>0)for(v.length=Te+ve.length,m=0;m<ve.length;m++)v[Te+m]=ve[m];else t.deps=v=ve;if(Ht()&&(t.f&xe)!==0)for(m=Te;m<v.length;m++)(v[m].reactions??=[]).push(t)}else v!==null&&Te<v.length&&(sr(t,Te),v.length=Te);if(Zt()&&Ce!==null&&!$e&&v!==null&&(t.f&(ue|Re|_e))===0)for(m=0;m<Ce.length;m++)Aa(Ce[m],t);return a!==null&&a!==t&&(Wt++,Ce!==null&&(n===null?n=Ce:n.push(...Ce))),(t.f&et)!==0&&(t.f^=et),b}catch(N){return na(N)}finally{t.f^=xr,ve=e,Te=r,Ce=n,G=a,We=i,At(o),$e=u,ft=s}}function io(t,e){let r=e.reactions;if(r!==null){var n=ai.call(r,t);if(n!==-1){var a=r.length-1;a===0?r=e.reactions=null:(r[n]=r[a],r.pop())}}r===null&&(e.f&ue)!==0&&(ve===null||!ve.includes(e))&&(le(e,Re),(e.f&xe)!==0&&(e.f^=xe,e.f&=~dt),oa(e),sr(e,0))}function sr(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)io(t,r[n])}function Dt(t){var e=t.f;if((e&Be)===0){le(t,oe);var r=Y,n=ut;Y=t,ut=!0;try{(e&(Ge|li))!==0?ro(t):ya(t),ma(t);var a=Oa(t);t.teardown=typeof a=="function"?a:null,t.wv=ka;var i;Dr&&Ri&&(t.f&_e)!==0&&t.deps}finally{ut=n,Y=r}}}function d(t){var e=t.f,r=(e&ue)!==0;if(G!==null&&!$e){var n=Y!==null&&(Y.f&Be)!==0;if(!n&&!We?.includes(t)){var a=G.deps;if((G.f&xr)!==0)t.rv<Wt&&(t.rv=Wt,ve===null&&a!==null&&a[Te]===t?Te++:ve===null?ve=[t]:ve.includes(t)||ve.push(t));else{(G.deps??=[]).push(t);var i=t.reactions;i===null?t.reactions=[G]:i.includes(G)||i.push(G)}}}if(bt){if(tt.has(t))return tt.get(t);if(r){var o=t,u=o.v;return((o.f&oe)===0&&o.reactions!==null||Pa(o))&&(u=Zr(o)),tt.set(o,u),u}}else r&&(!Oe?.has(t)||re?.is_fork&&!Ht())&&(o=t,$t(o)&&sa(o),ut&&Ht()&&(o.f&xe)===0&&Na(o));if(Oe?.has(t))return Oe.get(t);if((t.f&et)!==0)throw t.v;return t.v}function Na(t){if(t.deps!==null){t.f^=xe;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&ue)!==0&&(e.f&xe)===0&&Na(e)}}function Pa(t){if(t.v===de)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(tt.has(e)||(e.f&ue)!==0&&Pa(e))return!0;return!1}function Z(t){var e=$e;try{return $e=!0,t()}finally{$e=e}}const oo=-7169;function le(t,e){t.f=t.f&oo|e}function $(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(st in t)$r(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&st in r&&$r(r)}}}function $r(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{$r(t[n],e)}catch{}const r=Br(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Wn(r);for(let a in n){const i=n[a].get;if(i)try{i.call(t)}catch{}}}}}const so=["touchstart","touchmove"];function lo(t){return so.includes(t)}const uo=new Set,mn=new Set;function fo(t,e,r,n={}){function a(i){if(n.capture||zt.call(e,i),!i.cancelBubble)return Qr(()=>r?.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Lt(()=>{e.addEventListener(t,a,n)}):e.addEventListener(t,a,n),a}function ge(t,e,r,n,a){var i={capture:n,passive:a},o=fo(t,e,r,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Xr(()=>{e.removeEventListener(t,o,i)})}let yn=null;function zt(t){var e=this,r=e.ownerDocument,n=t.type,a=t.composedPath?.()||[],i=a[0]||t.target;yn=t;var o=0,u=yn===t&&t.__root;if(u){var s=a.indexOf(u);if(s!==-1&&(e===document||e===window)){t.__root=e;return}var l=a.indexOf(e);if(l===-1)return;s<=l&&(o=s)}if(i=a[o]||t.target,i!==e){Hn(t,"currentTarget",{configurable:!0,get(){return i||r}});var h=G,b=Y;be(null),je(null);try{for(var v,m=[];i!==null;){var N=i.assignedSlot||i.parentNode||i.host||null;try{var R=i["__"+n];R!=null&&(!i.disabled||t.target===i)&&R.call(i,t)}catch(p){v?m.push(p):v=p}if(t.cancelBubble||N===e||N===null)break;i=N}if(v){for(let p of m)queueMicrotask(()=>{throw p});throw v}}finally{t.__root=e,delete t.currentTarget,be(h),je(b)}}}function Da(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Gt(t,e){var r=Y;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function Q(t,e){var r=(e&Pi)!==0,n=(e&Di)!==0,a,i=!t.startsWith("<!>");return()=>{a===void 0&&(a=Da(i?t:"<!>"+t),r||(a=Pt(a)));var o=n||ca?document.importNode(a,!0):a.cloneNode(!0);if(r){var u=Pt(o),s=o.lastChild;Gt(u,s)}else Gt(o,o);return o}}function co(t,e,r="svg"){var n=!t.startsWith("<!>"),a=`<${r}>${n?t:"<!>"+t}</${r}>`,i;return()=>{if(!i){var o=Da(a),u=Pt(o);i=Pt(u)}var s=i.cloneNode(!0);return Gt(s,s),s}}function Fa(t,e){return co(t,e,"svg")}function lr(t=""){{var e=He(t+"");return Gt(e,e),e}}function Tr(){var t=document.createDocumentFragment(),e=document.createComment(""),r=He();return t.append(e,r),Gt(e,r),t}function V(t,e){t!==null&&t.before(e)}function Ne(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function vo(t,e){return ho(t,e)}const yt=new Map;function ho(t,{target:e,anchor:r,props:n={},events:a,context:i,intro:o=!0}){Yi();var u=new Set,s=b=>{for(var v=0;v<b.length;v++){var m=b[v];if(!u.has(m)){u.add(m);var N=lo(m);e.addEventListener(m,zt,{passive:N});var R=yt.get(m);R===void 0?(document.addEventListener(m,zt,{passive:N}),yt.set(m,1)):yt.set(m,R+1)}}};s(br(uo)),mn.add(s);var l=void 0,h=eo(()=>{var b=r??e.appendChild(He());return qi(b,{pending:()=>{}},v=>{if(i){fe({});var m=X;m.c=i}a&&(n.$$events=a),l=t(v,n)||{},i&&ce()}),()=>{for(var v of u){e.removeEventListener(v,zt);var m=yt.get(v);--m===0?(document.removeEventListener(v,zt),yt.delete(v)):yt.set(v,m)}mn.delete(s),b!==r&&b.parentNode?.removeChild(b)}});return po.set(l,h),l}let po=new WeakMap;class xa{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(e,r=!0){this.anchor=e,this.#l=r}#i=()=>{var e=re;if(this.#e.has(e)){var r=this.#e.get(e),n=this.#t.get(r);if(n)en(n),this.#n.delete(r);else{var a=this.#r.get(r);a&&(this.#t.set(r,a.effect),this.#r.delete(r),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),n=a.effect)}for(const[i,o]of this.#e){if(this.#e.delete(i),i===e)break;const u=this.#r.get(o);u&&(ye(u.effect),this.#r.delete(o))}for(const[i,o]of this.#t){if(i===r||this.#n.has(i))continue;const u=()=>{if(Array.from(this.#e.values()).includes(i)){var l=document.createDocumentFragment();Ta(o,l),l.append(He()),this.#r.set(i,{effect:o,fragment:l})}else ye(o);this.#n.delete(i),this.#t.delete(i)};this.#l||!n?(this.#n.add(i),lt(o,u,!1)):u()}}};#a=e=>{this.#e.delete(e);const r=Array.from(this.#e.values());for(const[n,a]of this.#r)r.includes(n)||(ye(a.effect),this.#r.delete(n))};ensure(e,r){var n=re,a=ha();if(r&&!this.#t.has(e)&&!this.#r.has(e))if(a){var i=document.createDocumentFragment(),o=He();i.append(o),this.#r.set(e,{effect:Ae(()=>r(o)),fragment:i})}else this.#t.set(e,Ae(()=>r(this.anchor)));if(this.#e.set(n,e),a){for(const[u,s]of this.#t)u===e?n.skipped_effects.delete(s):n.skipped_effects.add(s);for(const[u,s]of this.#r)u===e?n.skipped_effects.delete(s.effect):n.skipped_effects.add(s.effect);n.oncommit(this.#i),n.ondiscard(this.#a)}else this.#i()}}function se(t,e,r=!1){var n=new xa(t),a=r?ct:0;function i(o,u){n.ensure(o,u)}Sr(()=>{var o=!1;e((u,s=!0)=>{o=!0,i(s,u)}),o||i(!1,null)},a)}function Jt(t,e){return e}function go(t,e,r){for(var n=[],a=e.length,i,o=e.length,u=0;u<a;u++){let b=e[u];lt(b,()=>{if(i){if(i.pending.delete(b),i.done.add(b),i.pending.size===0){var v=t.outrogroups;jr(br(i.done)),v.delete(i),v.size===0&&(t.outrogroups=null)}}else o-=1},!1)}if(o===0){var s=n.length===0&&r!==null;if(s){var l=r,h=l.parentNode;Zi(h),h.append(l),t.items.clear()}jr(e,!s)}else i={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(i)}function jr(t,e=!0){for(var r=0;r<t.length;r++)ye(t[r],e)}var _n;function Ft(t,e,r,n,a,i=null){var o=t,u=new Map,s=(e&Zn)!==0;if(s){var l=t;o=l.appendChild(He())}var h=null,b=Fe(()=>{var _=r();return gr(_)?_:_==null?[]:br(_)}),v,m=!0;function N(){p.fallback=h,bo(p,v,o,e,n),h!==null&&(v.length===0?(h.f&Ve)===0?en(h):(h.f^=Ve,qt(h,null,o)):lt(h,()=>{h=null}))}var R=Sr(()=>{v=d(b);for(var _=v.length,c=new Set,y=re,S=ha(),A=0;A<_;A+=1){var w=v[A],O=n(w,A),D=m?null:u.get(O);D?(D.v&&Nt(D.v,w),D.i&&Nt(D.i,A),S&&y.skipped_effects.delete(D.e)):(D=mo(u,m?o:_n??=He(),w,O,A,a,e,r),m||(D.e.f|=Ve),u.set(O,D)),c.add(O)}if(_===0&&i&&!h&&(m?h=Ae(()=>i(o)):(h=Ae(()=>i(_n??=He())),h.f|=Ve)),!m)if(S){for(const[j,z]of u)c.has(j)||y.skipped_effects.add(z.e);y.oncommit(N),y.ondiscard(()=>{})}else N();d(b)}),p={effect:R,items:u,outrogroups:null,fallback:h};m=!1}function bo(t,e,r,n,a){var i=(n&Ti)!==0,o=e.length,u=t.items,s=t.effect.first,l,h=null,b,v=[],m=[],N,R,p,_;if(i)for(_=0;_<o;_+=1)N=e[_],R=a(N,_),p=u.get(R).e,(p.f&Ve)===0&&(p.nodes?.a?.measure(),(b??=new Set).add(p));for(_=0;_<o;_+=1){if(N=e[_],R=a(N,_),p=u.get(R).e,t.outrogroups!==null)for(const z of t.outrogroups)z.pending.delete(p),z.done.delete(p);if((p.f&Ve)!==0)if(p.f^=Ve,p===s)qt(p,null,r);else{var c=h?h.next:s;p===t.effect.last&&(t.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),Qe(t,h,p),Qe(t,p,c),qt(p,c,r),h=p,v=[],m=[],s=h.next;continue}if((p.f&Ee)!==0&&(en(p),i&&(p.nodes?.a?.unfix(),(b??=new Set).delete(p))),p!==s){if(l!==void 0&&l.has(p)){if(v.length<m.length){var y=m[0],S;h=y.prev;var A=v[0],w=v[v.length-1];for(S=0;S<v.length;S+=1)qt(v[S],y,r);for(S=0;S<m.length;S+=1)l.delete(m[S]);Qe(t,A.prev,w.next),Qe(t,h,A),Qe(t,w,y),s=y,h=w,_-=1,v=[],m=[]}else l.delete(p),qt(p,s,r),Qe(t,p.prev,p.next),Qe(t,p,h===null?t.effect.first:h.next),Qe(t,h,p),h=p;continue}for(v=[],m=[];s!==null&&s!==p;)(l??=new Set).add(s),m.push(s),s=s.next;if(s===null)continue}(p.f&Ve)===0&&v.push(p),h=p,s=p.next}if(t.outrogroups!==null){for(const z of t.outrogroups)z.pending.size===0&&(jr(br(z.done)),t.outrogroups?.delete(z));t.outrogroups.size===0&&(t.outrogroups=null)}if(s!==null||l!==void 0){var O=[];if(l!==void 0)for(p of l)(p.f&Ee)===0&&O.push(p);for(;s!==null;)(s.f&Ee)===0&&s!==t.fallback&&O.push(s),s=s.next;var D=O.length;if(D>0){var j=(n&Zn)!==0&&o===0?r:null;if(i){for(_=0;_<D;_+=1)O[_].nodes?.a?.measure();for(_=0;_<D;_+=1)O[_].nodes?.a?.fix()}go(t,O,j)}}i&&Lt(()=>{if(b!==void 0)for(p of b)p.nodes?.a?.apply()})}function mo(t,e,r,n,a,i,o,u){var s=(o&wi)!==0?(o&Ei)===0?L(r,!1,!1):ht(r):null,l=(o&Si)!==0?ht(a):null;return{v:s,i:l,e:Ae(()=>(i(e,s??r,l??a,u),()=>{t.delete(n)}))}}function qt(t,e,r){if(t.nodes)for(var n=t.nodes.start,a=t.nodes.end,i=e&&(e.f&Ve)===0?e.nodes.start:r;n!==null;){var o=Xt(n);if(i.before(n),n===a)return;n=o}}function Qe(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function Er(t,e,r,n,a){var i=e.$$slots?.[r],o=!1;i===!0&&(i=e.children,o=!0),i===void 0?a!==null&&a(t):i(t,o?()=>n:n)}function yo(t,e,r){var n=new xa(t);Sr(()=>{var a=e()??null;n.ensure(a,a&&(i=>r(i,a)))},ct)}const wn=[...` 	
\r\fÂ \v\uFEFF`];function _o(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var a in r)if(r[a])n=n?n+" "+a:a;else if(n.length)for(var i=a.length,o=0;(o=n.indexOf(a,o))>=0;){var u=o+i;(o===0||wn.includes(n[o-1]))&&(u===n.length||wn.includes(n[u]))?n=(o===0?"":n.substring(0,o))+n.substring(u+1):o=u}}return n===""?null:n}function Sn(t,e=!1){var r=e?" !important;":";",n="";for(var a in t){var i=t[a];i!=null&&i!==""&&(n+=" "+a+": "+i+r)}return n}function Ar(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function wo(t,e){if(e){var r="",n,a;if(Array.isArray(e)?(n=e[0],a=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,o=0,u=!1,s=[];n&&s.push(...Object.keys(n).map(Ar)),a&&s.push(...Object.keys(a).map(Ar));var l=0,h=-1;const R=t.length;for(var b=0;b<R;b++){var v=t[b];if(u?v==="/"&&t[b-1]==="*"&&(u=!1):i?i===v&&(i=!1):v==="/"&&t[b+1]==="*"?u=!0:v==='"'||v==="'"?i=v:v==="("?o++:v===")"&&o--,!u&&i===!1&&o===0){if(v===":"&&h===-1)h=b;else if(v===";"||b===R-1){if(h!==-1){var m=Ar(t.substring(l,h).trim());if(!s.includes(m)){v!==";"&&b++;var N=t.substring(l,b).trim();r+=" "+N+";"}}l=b+1,h=-1}}}}return n&&(r+=Sn(n)),a&&(r+=Sn(a,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function he(t,e,r,n,a,i){var o=t.__className;if(o!==r||o===void 0){var u=_o(r,n,i);u==null?t.removeAttribute("class"):e?t.className=u:t.setAttribute("class",u),t.__className=r}else if(i&&a!==i)for(var s in i){var l=!!i[s];(a==null||l!==!!a[s])&&t.classList.toggle(s,l)}return i}function Or(t,e={},r,n){for(var a in r){var i=r[a];e[a]!==i&&(r[a]==null?t.style.removeProperty(a):t.style.setProperty(a,i,n))}}function ur(t,e,r,n){var a=t.__style;if(a!==e){var i=wo(e,n);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else n&&(Array.isArray(n)?(Or(t,r?.[0],n[0]),Or(t,r?.[1],n[1],"important")):Or(t,r,n));return n}const So=Symbol("is custom element"),To=Symbol("is html");function me(t,e,r,n){var a=Eo(t);a[e]!==(a[e]=r)&&(e==="loading"&&(t[fi]=r),r==null?t.removeAttribute(e):typeof r!="string"&&ko(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Eo(t){return t.__attributes??={[So]:t.nodeName.includes("-"),[To]:t.namespaceURI===Fi}}var Tn=new Map;function ko(t){var e=t.getAttribute("is")||t.nodeName,r=Tn.get(e);if(r)return r;Tn.set(e,r=[]);for(var n,a=t,i=Element.prototype;i!==a;){n=Wn(a);for(var o in n)n[o].set&&r.push(o);a=Br(a)}return r}class tn{#e=new WeakMap;#t;#r;static entries=new WeakMap;constructor(e){this.#r=e}observe(e,r){var n=this.#e.get(e)||new Set;return n.add(r),this.#e.set(e,n),this.#n().observe(e,this.#r),()=>{var a=this.#e.get(e);a.delete(r),a.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#n(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var r of e){tn.entries.set(r.target,r);for(var n of this.#e.get(r.target)||[])n(r)}}))}}var Co=new tn({box:"border-box"});function En(t,e,r){var n=Co.observe(t,()=>r(t[e]));ba(()=>(Z(()=>r(t[e])),n))}function kn(t,e){return t===e||t?.[st]===e}function Ao(t={},e,r,n){return ba(()=>{var a,i;return wr(()=>{a=i,i=[],Z(()=>{t!==r(...i)&&(e(t,...i),a&&kn(r(...a),t)&&e(null,...a))})}),()=>{Lt(()=>{i&&kn(r(...i),t)&&e(null,...i)})}}),t}function we(t=!1){const e=X,r=e.l.u;if(!r)return;let n=()=>$(e.s);if(t){let a=0,i={};const o=Qt(()=>{let u=!1;const s=e.s;for(const l in s)s[l]!==i[l]&&(i[l]=s[l],u=!0);return u&&a++,a});n=()=>d(o)}r.b.length&&Xi(()=>{Cn(e,n),Fr(r.b)}),Lr(()=>{const a=Z(()=>r.m.map(si));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&Lr(()=>{Cn(e,n),Fr(r.a)})}function Cn(t,e){if(t.l.s)for(const r of t.l.s)d(r);e()}function Ur(t,e){var r=t.$$events?.[e.type],n=gr(r)?r.slice():r==null?[]:[r];for(var a of n)a.call(this,e)}function Ra(t,e,r){if(t==null)return e(void 0),Ct;const n=Z(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}const _t=[];function rn(t,e=Ct){let r=null;const n=new Set;function a(u){if(Xn(t,u)&&(t=u,r)){const s=!_t.length;for(const l of n)l[1](),_t.push(l,t);if(s){for(let l=0;l<_t.length;l+=2)_t[l][0](_t[l+1]);_t.length=0}}}function i(u){a(u(t))}function o(u,s=Ct){const l=[u,s];return n.add(l),n.size===1&&(r=e(a,i)||Ct),u(t),()=>{n.delete(l),n.size===0&&r&&(r(),r=null)}}return{set:a,update:i,subscribe:o}}function Ia(t){let e;return Ra(t,r=>e=r)(),e}let rr=!1,Kr=Symbol();function rt(t,e,r){const n=r[e]??={store:null,source:L(void 0),unsubscribe:Ct};if(n.store!==t&&!(Kr in r))if(n.unsubscribe(),n.store=t??null,t==null)n.source.v=void 0,n.unsubscribe=Ct;else{var a=!0;n.unsubscribe=Ra(t,i=>{a?n.source.v=i:x(n.source,i)}),a=!1}return t&&Kr in r?Ia(t):d(n.source)}function mt(){const t={};function e(){Xr(()=>{for(var r in t)t[r].unsubscribe();Hn(t,Kr,{enumerable:!1,value:!0})})}return[t,e]}function Oo(t){var e=rr;try{return rr=!1,[t(),rr]}finally{rr=e}}function B(t,e,r,n){var a=!Mt||(r&Ci)!==0,i=(r&Oi)!==0,o=(r&Ni)!==0,u=n,s=!0,l=()=>(s&&(s=!1,u=o?Z(n):n),u),h;if(i){var b=st in t||ui in t;h=kt(t,e)?.set??(b&&e in t?y=>t[e]=y:void 0)}var v,m=!1;i?[v,m]=Oo(()=>t[e]):v=t[e],v===void 0&&n!==void 0&&(v=l(),h&&(a&&gi(),h(v)));var N;if(a?N=()=>{var y=t[e];return y===void 0?l():(s=!0,y)}:N=()=>{var y=t[e];return y!==void 0&&(u=void 0),y===void 0?u:y},a&&(r&Ai)===0)return N;if(h){var R=t.$$legacy;return(function(y,S){return arguments.length>0?((!a||!S||R||m)&&h(S?N():y),y):N()})}var p=!1,_=((r&ki)!==0?Qt:Fe)(()=>(p=!1,N()));i&&d(_);var c=Y;return(function(y,S){if(arguments.length>0){const A=S?d(_):a&&i?Et(y):y;return x(_,A),p=!0,u!==void 0&&(u=A),y}return bt&&p||(c.f&Be)!==0?_.v:d(_)})}function er(t){X===null&&_r(),Mt&&X.l!==null?Po(X).m.push(t):Lr(()=>{const e=Z(t);if(typeof e=="function")return e})}function Ma(t){X===null&&_r(),er(()=>()=>Z(t))}function No(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}function nn(){const t=X;return t===null&&_r(),(e,r,n)=>{const a=t.s.$$events?.[e];if(a){const i=gr(a)?a.slice():[a],o=No(e,r,n);for(const u of i)u.call(t.x,o);return!o.defaultPrevented}return!0}}function Po(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const Do="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Do);Ii();var Fo=Q("<span> </span>"),xo=Q('<footer class="svelte-1sr6y3t"><a href="https://github.com/kangasta/pileon.git" target="_blank">kangasta / pileon</a> <!></footer>');function Ro(t,e){fe(e,!1);const r="",n="3651a23d09fa2b019f88db94cfe9818465441da7".slice(0,8);we();var a=xo(),i=K(M(a),2);{var o=u=>{var s=Fo(),l=M(s);ne(()=>Ne(l,`at ${r} ${n??""}`)),V(u,s)};se(i,u=>{(n||r)&&u(o)})}V(t,a),ce()}const La="settings",Io={game:"pileon",colors:"default",size:"default"},Mo=JSON.parse(localStorage.getItem(La)??"null"),xt=rn(Mo??Io);xt.subscribe(t=>localStorage.setItem(La,JSON.stringify(t)));const Lo={},Rt=rn(Lo);var $a=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],fr=$a.join(","),ja=typeof Element>"u",pt=ja?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,cr=!ja&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Yt=function(e,r){var n;r===void 0&&(r=!0);var a=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),i=a===""||a==="true",o=i||r&&e&&Yt(e.parentNode);return o},$o=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},Ua=function(e,r,n){if(Yt(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(fr));return r&&pt.call(e,fr)&&a.unshift(e),a=a.filter(n),a},dr=function(e,r,n){for(var a=[],i=Array.from(e);i.length;){var o=i.shift();if(!Yt(o,!1))if(o.tagName==="SLOT"){var u=o.assignedElements(),s=u.length?u:o.children,l=dr(s,!0,n);n.flatten?a.push.apply(a,l):a.push({scopeParent:o,candidates:l})}else{var h=pt.call(o,fr);h&&n.filter(o)&&(r||!e.includes(o))&&a.push(o);var b=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),v=!Yt(b,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(b&&v){var m=dr(b===!0?o.children:b.children,!0,n);n.flatten?a.push.apply(a,m):a.push({scopeParent:o,candidates:m})}else i.unshift.apply(i,o.children)}}return a},Ka=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ot=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||$o(e))&&!Ka(e)?0:e.tabIndex},jo=function(e,r){var n=ot(e);return n<0&&r&&!Ka(e)?0:n},Uo=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},za=function(e){return e.tagName==="INPUT"},Ko=function(e){return za(e)&&e.type==="hidden"},zo=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},qo=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},Vo=function(e){if(!e.name)return!0;var r=e.form||cr(e),n=function(u){return r.querySelectorAll('input[type="radio"][name="'+u+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(e.name));else try{a=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=qo(a,e.form);return!i||i===e},Bo=function(e){return za(e)&&e.type==="radio"},Ho=function(e){return Bo(e)&&!Vo(e)},Wo=function(e){var r,n=e&&cr(e),a=(r=n)===null||r===void 0?void 0:r.host,i=!1;if(n&&n!==e){var o,u,s;for(i=!!((o=a)!==null&&o!==void 0&&(u=o.ownerDocument)!==null&&u!==void 0&&u.contains(a)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!i&&a;){var l,h,b;n=cr(a),a=(l=n)===null||l===void 0?void 0:l.host,i=!!((h=a)!==null&&h!==void 0&&(b=h.ownerDocument)!==null&&b!==void 0&&b.contains(a))}}return i},An=function(e){var r=e.getBoundingClientRect(),n=r.width,a=r.height;return n===0&&a===0},Go=function(e,r){var n=r.displayCheck,a=r.getShadowRoot;if(n==="full-native"&&"checkVisibility"in e){var i=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(e).visibility==="hidden")return!0;var o=pt.call(e,"details>summary:first-of-type"),u=o?e.parentElement:e;if(pt.call(u,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof a=="function"){for(var s=e;e;){var l=e.parentElement,h=cr(e);if(l&&!l.shadowRoot&&a(l)===!0)return An(e);e.assignedSlot?e=e.assignedSlot:!l&&h!==e.ownerDocument?e=h.host:e=l}e=s}if(Wo(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return An(e);return!1},Jo=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var a=r.children.item(n);if(a.tagName==="LEGEND")return pt.call(r,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}r=r.parentElement}return!1},vr=function(e,r){return!(r.disabled||Yt(r)||Ko(r)||Go(r,e)||zo(r)||Jo(r))},zr=function(e,r){return!(Ho(r)||ot(r)<0||!vr(e,r))},Yo=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},qa=function(e){var r=[],n=[];return e.forEach(function(a,i){var o=!!a.scopeParent,u=o?a.scopeParent:a,s=jo(u,o),l=o?qa(a.candidates):u;s===0?o?r.push.apply(r,l):r.push(u):n.push({documentOrder:i,tabIndex:s,item:a,isScope:o,content:l})}),n.sort(Uo).reduce(function(a,i){return i.isScope?a.push.apply(a,i.content):a.push(i.content),a},[]).concat(r)},Zo=function(e,r){r=r||{};var n;return r.getShadowRoot?n=dr([e],r.includeContainer,{filter:zr.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Yo}):n=Ua(e,r.includeContainer,zr.bind(null,r)),qa(n)},Qo=function(e,r){r=r||{};var n;return r.getShadowRoot?n=dr([e],r.includeContainer,{filter:vr.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=Ua(e,r.includeContainer,vr.bind(null,r)),n},wt=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return pt.call(e,fr)===!1?!1:zr(r,e)},Xo=$a.concat("iframe").join(","),Nr=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return pt.call(e,Xo)===!1?!1:vr(r,e)};function qr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function es(t){if(Array.isArray(t))return qr(t)}function On(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Va(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,i=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw i}}}}function ts(t,e,r){return(e=os(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rs(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ns(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nn(Object(r),!0).forEach(function(n){ts(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function as(t){return es(t)||rs(t)||Va(t)||ns()}function is(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function os(t){var e=is(t,"string");return typeof e=="symbol"?e:e+""}function Va(t,e){if(t){if(typeof t=="string")return qr(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qr(t,e):void 0}}var qe={getActiveTrap:function(e){return e?.length>0?e[e.length-1]:null},activateTrap:function(e,r){var n=qe.getActiveTrap(e);r!==n&&qe.pauseTrap(e);var a=e.indexOf(r);a===-1||e.splice(a,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),qe.unpauseTrap(e)},pauseTrap:function(e){var r=qe.getActiveTrap(e);r?._setPausedState(!0)},unpauseTrap:function(e){var r=qe.getActiveTrap(e);r&&!r._isManuallyPaused()&&r._setPausedState(!1)}},ss=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ls=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},Bt=function(e){return e?.key==="Tab"||e?.keyCode===9},us=function(e){return Bt(e)&&!e.shiftKey},fs=function(e){return Bt(e)&&e.shiftKey},Dn=function(e){return setTimeout(e,0)},jt=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,n):e},nr=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},cs=[],ds=function(e,r){var n=r?.document||document,a=r?.trapStack||cs,i=Pn({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isolateSubtrees:!1,isKeyForward:us,isKeyBackward:fs},r),o={containers:[],containerGroups:[],tabbableGroups:[],adjacentElements:new Set,alreadyInert:new Set,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},u,s=function(k,T,f){return k&&k[T]!==void 0?k[T]:i[f||T]},l=function(k,T){var f=typeof T?.composedPath=="function"?T.composedPath():void 0;return o.containerGroups.findIndex(function(g){var C=g.container,P=g.tabbableNodes;return C.contains(k)||f?.includes(C)||P.find(function(E){return E===k})})},h=function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=T.hasFallback,g=f===void 0?!1:f,C=T.params,P=C===void 0?[]:C,E=i[k];if(typeof E=="function"&&(E=E.apply(void 0,as(P))),E===!0&&(E=void 0),!E){if(E===void 0||E===!1)return E;throw new Error("`".concat(k,"` was specified but was not a node, or did not return a node"))}var F=E;if(typeof E=="string"){try{F=n.querySelector(E)}catch(I){throw new Error("`".concat(k,'` appears to be an invalid selector; error="').concat(I.message,'"'))}if(!F&&!g)throw new Error("`".concat(k,"` as selector refers to no known node"))}return F},b=function(){var k=h("initialFocus",{hasFallback:!0});if(k===!1)return!1;if(k===void 0||k&&!Nr(k,i.tabbableOptions))if(l(n.activeElement)>=0)k=n.activeElement;else{var T=o.tabbableGroups[0],f=T&&T.firstTabbableNode;k=f||h("fallbackFocus")}else k===null&&(k=h("fallbackFocus"));if(!k)throw new Error("Your focus-trap needs to have at least one focusable element");return k},v=function(){if(o.containerGroups=o.containers.map(function(k){var T=Zo(k,i.tabbableOptions),f=Qo(k,i.tabbableOptions),g=T.length>0?T[0]:void 0,C=T.length>0?T[T.length-1]:void 0,P=f.find(function(I){return wt(I)}),E=f.slice().reverse().find(function(I){return wt(I)}),F=!!T.find(function(I){return ot(I)>0});return{container:k,tabbableNodes:T,focusableNodes:f,posTabIndexesFound:F,firstTabbableNode:g,lastTabbableNode:C,firstDomTabbableNode:P,lastDomTabbableNode:E,nextTabbableNode:function(q){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,te=T.indexOf(q);return te<0?ee?f.slice(f.indexOf(q)+1).find(function(pe){return wt(pe)}):f.slice(0,f.indexOf(q)).reverse().find(function(pe){return wt(pe)}):T[te+(ee?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(k){return k.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(k){return k.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function(k){var T=k.activeElement;if(T)return T.shadowRoot&&T.shadowRoot.activeElement!==null?m(T.shadowRoot):T},N=function(k){if(k!==!1&&k!==m(document)){if(!k||!k.focus){N(b());return}k.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=k,ss(k)&&k.select()}},R=function(k){var T=h("setReturnFocus",{params:[k]});return T||(T===!1?!1:k)},p=function(k){var T=k.target,f=k.event,g=k.isBackward,C=g===void 0?!1:g;T=T||nr(f),v();var P=null;if(o.tabbableGroups.length>0){var E=l(T,f),F=E>=0?o.containerGroups[E]:void 0;if(E<0)C?P=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:P=o.tabbableGroups[0].firstTabbableNode;else if(C){var I=o.tabbableGroups.findIndex(function(nt){var Pe=nt.firstTabbableNode;return T===Pe});if(I<0&&(F.container===T||Nr(T,i.tabbableOptions)&&!wt(T,i.tabbableOptions)&&!F.nextTabbableNode(T,!1))&&(I=E),I>=0){var q=I===0?o.tabbableGroups.length-1:I-1,ee=o.tabbableGroups[q];P=ot(T)>=0?ee.lastTabbableNode:ee.lastDomTabbableNode}else Bt(f)||(P=F.nextTabbableNode(T,!1))}else{var te=o.tabbableGroups.findIndex(function(nt){var Pe=nt.lastTabbableNode;return T===Pe});if(te<0&&(F.container===T||Nr(T,i.tabbableOptions)&&!wt(T,i.tabbableOptions)&&!F.nextTabbableNode(T))&&(te=E),te>=0){var pe=te===o.tabbableGroups.length-1?0:te+1,Se=o.tabbableGroups[pe];P=ot(T)>=0?Se.firstTabbableNode:Se.firstDomTabbableNode}else Bt(f)||(P=F.nextTabbableNode(T))}}else P=h("fallbackFocus");return P},_=function(k){var T=nr(k);if(!(l(T,k)>=0)){if(jt(i.clickOutsideDeactivates,k)){u.deactivate({returnFocus:i.returnFocusOnDeactivate});return}jt(i.allowOutsideClick,k)||k.preventDefault()}},c=function(k){var T=nr(k),f=l(T,k)>=0;if(f||T instanceof Document)f&&(o.mostRecentlyFocusedNode=T);else{k.stopImmediatePropagation();var g,C=!0;if(o.mostRecentlyFocusedNode)if(ot(o.mostRecentlyFocusedNode)>0){var P=l(o.mostRecentlyFocusedNode),E=o.containerGroups[P].tabbableNodes;if(E.length>0){var F=E.findIndex(function(I){return I===o.mostRecentlyFocusedNode});F>=0&&(i.isKeyForward(o.recentNavEvent)?F+1<E.length&&(g=E[F+1],C=!1):F-1>=0&&(g=E[F-1],C=!1))}}else o.containerGroups.some(function(I){return I.tabbableNodes.some(function(q){return ot(q)>0})})||(C=!1);else C=!1;C&&(g=p({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),N(g||o.mostRecentlyFocusedNode||b())}o.recentNavEvent=void 0},y=function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=k;var f=p({event:k,isBackward:T});f&&(Bt(k)&&k.preventDefault(),N(f))},S=function(k){(i.isKeyForward(k)||i.isKeyBackward(k))&&y(k,i.isKeyBackward(k))},A=function(k){ls(k)&&jt(i.escapeDeactivates,k)!==!1&&(k.preventDefault(),u.deactivate())},w=function(k){var T=nr(k);l(T,k)>=0||jt(i.clickOutsideDeactivates,k)||jt(i.allowOutsideClick,k)||(k.preventDefault(),k.stopImmediatePropagation())},O=function(){if(o.active)return qe.activateTrap(a,u),o.delayInitialFocusTimer=i.delayInitialFocus?Dn(function(){N(b())}):N(b()),n.addEventListener("focusin",c,!0),n.addEventListener("mousedown",_,{capture:!0,passive:!1}),n.addEventListener("touchstart",_,{capture:!0,passive:!1}),n.addEventListener("click",w,{capture:!0,passive:!1}),n.addEventListener("keydown",S,{capture:!0,passive:!1}),n.addEventListener("keydown",A),u},D=function(k){o.active&&!o.paused&&u._setSubtreeIsolation(!1),o.adjacentElements.clear(),o.alreadyInert.clear();var T=new Set,f=new Set,g=On(k),C;try{for(g.s();!(C=g.n()).done;){var P=C.value;T.add(P);for(var E=typeof ShadowRoot<"u"&&P.getRootNode()instanceof ShadowRoot,F=P;F;){T.add(F);var I=F.parentElement,q=[];I?q=I.children:!I&&E&&(q=F.getRootNode().children,I=F.getRootNode().host,E=typeof ShadowRoot<"u"&&I.getRootNode()instanceof ShadowRoot);var ee=On(q),te;try{for(ee.s();!(te=ee.n()).done;){var pe=te.value;f.add(pe)}}catch(Se){ee.e(Se)}finally{ee.f()}F=I}}}catch(Se){g.e(Se)}finally{g.f()}T.forEach(function(Se){f.delete(Se)}),o.adjacentElements=f},j=function(){if(o.active)return n.removeEventListener("focusin",c,!0),n.removeEventListener("mousedown",_,!0),n.removeEventListener("touchstart",_,!0),n.removeEventListener("click",w,!0),n.removeEventListener("keydown",S,!0),n.removeEventListener("keydown",A),u},z=function(k){var T=k.some(function(f){var g=Array.from(f.removedNodes);return g.some(function(C){return C===o.mostRecentlyFocusedNode})});T&&N(b())},J=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(z):void 0,H=function(){J&&(J.disconnect(),o.active&&!o.paused&&o.containers.map(function(k){J.observe(k,{subtree:!0,childList:!0})}))};return u={get active(){return o.active},get paused(){return o.paused},activate:function(k){if(o.active)return this;var T=s(k,"onActivate"),f=s(k,"onPostActivate"),g=s(k,"checkCanFocusTrap"),C=qe.getActiveTrap(a),P=!1;C&&!C.paused&&(C._setSubtreeIsolation(!1),P=!0);try{g||v(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=m(n),T?.();var E=function(){g&&v(),O(),H(),i.isolateSubtrees&&u._setSubtreeIsolation(!0),f?.()};if(g)return g(o.containers.concat()).then(E,E),this;E()}catch(F){throw C===qe.getActiveTrap(a)&&P&&C._setSubtreeIsolation(!0),F}return this},deactivate:function(k){if(!o.active)return this;var T=Pn({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},k);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,o.paused||u._setSubtreeIsolation(!1),o.alreadyInert.clear(),j(),o.active=!1,o.paused=!1,H(),qe.deactivateTrap(a,u);var f=s(T,"onDeactivate"),g=s(T,"onPostDeactivate"),C=s(T,"checkCanReturnFocus"),P=s(T,"returnFocus","returnFocusOnDeactivate");f?.();var E=function(){Dn(function(){P&&N(R(o.nodeFocusedBeforeActivation)),g?.()})};return P&&C?(C(R(o.nodeFocusedBeforeActivation)).then(E,E),this):(E(),this)},pause:function(k){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,k)):this},unpause:function(k){return o.active?(o.manuallyPaused=!1,a[a.length-1]!==this?this:this._setPausedState(!1,k)):this},updateContainerElements:function(k){var T=[].concat(k).filter(Boolean);return o.containers=T.map(function(f){return typeof f=="string"?n.querySelector(f):f}),i.isolateSubtrees&&D(o.containers),o.active&&(v(),i.isolateSubtrees&&!o.paused&&u._setSubtreeIsolation(!0)),H(),this}},Object.defineProperties(u,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(k,T){if(o.paused===k)return this;if(o.paused=k,k){var f=s(T,"onPause"),g=s(T,"onPostPause");f?.(),j(),H(),u._setSubtreeIsolation(!1),g?.()}else{var C=s(T,"onUnpause"),P=s(T,"onPostUnpause");C?.(),u._setSubtreeIsolation(!0),v(),O(),H(),P?.()}return this}},_setSubtreeIsolation:{value:function(k){i.isolateSubtrees&&o.adjacentElements.forEach(function(T){if(k){var f=T.inert||T.hasAttribute("inert");f&&o.alreadyInert.add(T),T.inert=!0}else o.alreadyInert.has(T)||(T.inert=!1)})}}}),u.updateContainerElements(e),u};const Ba=()=>(Math.random()+1).toString(36).substring(5),Fn={Close:{path:"M 3 3 L 13 13 M 3 13 L 13 3"},Help:{path:"M 8 12 L 8 12 M 8 10 L 8 9 C 8 7 10 8 10 6 A 2 2 0 1 0 6 6 M 8 1.5 A 6.5 6.5 0 0 1 8 14.5 A 6.5 6.5 0 0 1 8 1.5"},Menu:{path:"M 2 4 L 14 4 M 2 8 L 14 8 M 2 12 L 14 12"},Minimize:{path:"M 11 13 L 6.75 13 M 11 11 L 6.75 11 M 11 11 L 11 6.75 M 11 11 L 3 3"},OpenModal:{path:"M 3 3 L 7.25 3 M 3 3 L 3 7.25 M 3 3 L 10 10 M 3 11 A 2 2 0 0 0 5 13 L 11 13 A 2 2 0 0 0 13 11 L 13 5 A 2 2 0 0 0 11 3 L 11 3"},Shuffle:{path:"M 5 2 L 2 5 L 5 8 M 2 5 L 12 5 M 11 14 L 14 11 L 11 8 M 14 11 L 4 11"},Undo:{path:"M 5 3 L 2 6 L 5 9 M 2 6 L 10 6 A 3 3 0 1 1 10 13 L 8 13"}};var vs=Fa('<svg viewBox="0 0 16 16"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"></path></svg>');function Ha(t,e){fe(e,!1);let r=B(e,"icon",8);we();var n=vs(),a=M(n);ne(()=>me(a,"d",($(Fn),$(r()),Z(()=>Fn[r()].path)))),V(t,n),ce()}var hs=Q('<div class="icon-button clickable svelte-1882mcx"><div class="content svelte-1882mcx"><button><div class="icon svelte-1882mcx"><!></div></button> <div class="label svelte-1882mcx"> </div></div></div>');function Xe(t,e){fe(e,!1);let r=B(e,"icon",8),n=B(e,"label",8),a=B(e,"onClick",8);const i=`${Ba()}-label`;we();var o=hs(),u=M(o),s=M(u);he(s,1,"clickable svelte-1882mcx",null,{},{open});var l=M(s),h=M(l);Ha(h,{get icon(){return r()}});var b=K(s,2),v=M(b);ne(()=>{me(s,"aria-labelledby",i),me(b,"id",i),Ne(v,n())}),ge("click",s,function(...m){a()?.apply(this,m)}),ge("click",o,function(...m){a()?.apply(this,m)}),V(t,o),ce()}var ps=Q('<div></div> <div role="dialog"><div class="header svelte-1bxxaoh"><h2 class="svelte-1bxxaoh"> </h2> <!></div> <div class="content svelte-1bxxaoh"><!></div></div>',1);function an(t,e){fe(e,!1);let r=B(e,"title",8),n=B(e,"position",8,"center"),a=B(e,"closeIcon",8,"Close");const i=`modal-${Ba()}`,o=`${i}-title`;let u=L(!1);er(()=>{const w=ds(`#${i}`,{clickOutsideDeactivates:!0,onDeactivate:()=>l()});w.activate();const O=document.body.style.overflow;return document.body.style.overflow="hidden",setTimeout(()=>{x(u,!0)},0),()=>{w.deactivate(),document.body.style.overflow=O}});const s=nn(),l=()=>{x(u,!1),setTimeout(()=>s("close"),125)};let h=navigator.windowControlsOverlay?.visible&&navigator.windowControlsOverlay?.getTitlebarAreaRect().left>0;we();var b=ps(),v=ke(b);let m;var N=K(v,2);let R;var p=M(N),_=M(p),c=M(_),y=K(_,2);Xe(y,{get icon(){return a()},label:"Close",onClick:l});var S=K(p,2),A=M(S);Er(A,e,"default",{},null),ne(()=>{m=he(v,1,"backdrop svelte-1bxxaoh",null,m,{open:d(u)}),R=he(N,1,`modal ${n()??""} ${h?"window-controls-on-left":""}`,"svelte-1bxxaoh",R,{open:d(u)}),me(N,"aria-labelledby",o),me(N,"id",i),me(_,"id",o),Ne(c,r())}),V(t,b),ce()}var gs=Q("<button><!></button>");function Ke(t,e){fe(e,!1);const r=()=>rt(xt,"$settings",n),[n,a]=mt(),i=L(),o=L();let u=B(e,"target",8),s=B(e,"value",8);const{update:l}=xt,h=()=>{};W(()=>(r(),$(u()),$(s())),()=>{x(o,r()[u()]===s())}),W(()=>(d(o),$(u()),$(s())),()=>{x(i,d(o)?h:()=>l(N=>({...N,[u()]:s()})))}),Ye(),we();var b=gs();let v;var m=M(b);Er(m,e,"default",{},N=>{var R=lr();ne(()=>Ne(R,s())),V(N,R)}),ne(()=>{me(b,"aria-pressed",d(o)?"true":"false"),b.disabled=d(o),v=he(b,1,"svelte-1s00cb8",null,v,{pressed:d(o)})}),ge("click",b,function(...N){d(i)?.apply(this,N)}),V(t,b),ce(),a()}var bs=Q('<div class="drawer svelte-oa8ggr"><ul class="svelte-oa8ggr"><li class="svelte-oa8ggr"><!></li> <li class="svelte-oa8ggr"><!></li></ul> <div class="whitespace svelte-oa8ggr"></div> <h3>Settings</h3> <table class="svelte-oa8ggr"><tbody><tr><th class="svelte-oa8ggr">Colors:</th><td class="svelte-oa8ggr"><!> / <!> / <!></td></tr><tr><th class="svelte-oa8ggr">Size:</th><td class="svelte-oa8ggr"><!> / <!> / <!> / <!></td></tr></tbody></table></div>'),ms=Q('<div class="titlebar svelte-oa8ggr"><div class="window-controls svelte-oa8ggr"></div> <div><!> <!> <!> <!></div> <div class="window-controls svelte-oa8ggr"></div></div> <!>',1);function ys(t,e){fe(e,!1);const r=()=>rt(Rt,"$actions",n),[n,a]=mt();let i=L(!1);const o=w=>O=>{x(i,w==="open"),O.stopPropagation()};let u=L(),s=L("");const l=()=>{if(!navigator.windowControlsOverlay?.visible)return;const w=d(u).getBoundingClientRect(),O=navigator.windowControlsOverlay?.getTitlebarAreaRect();O.left>w.left||O.right<w.right?x(s,"below-titlebar"):x(s,"")};er(l),we();var h=ms();ge("resize",Mr,l);var b=ke(h),v=K(M(b),2),m=M(v);{let w=Fe(()=>o("open"));Xe(m,{icon:"Menu",label:"Menu",get onClick(){return d(w)}})}var N=K(m,2);{var R=w=>{Xe(w,{icon:"Help",label:"Help",get onClick(){return r().help}})};se(N,w=>{r().help!==void 0&&w(R)})}var p=K(N,2);{var _=w=>{Xe(w,{icon:"Shuffle",label:"Shuffle",get onClick(){return r().shuffle}})};se(p,w=>{r().shuffle!==void 0&&w(_)})}var c=K(p,2);{var y=w=>{Xe(w,{icon:"Undo",label:"Undo",get onClick(){return r().undo}})};se(c,w=>{r().undo!==void 0&&w(y)})}Ao(v,w=>x(u,w),()=>d(u));var S=K(b,2);{var A=w=>{var O=Me(()=>o("close"));an(w,{position:"left",title:"Menu",$$events:{close(...D){d(O)?.apply(this,D)}},children:(D,j)=>{var z=bs(),J=M(z),H=M(J),U=M(H);Ke(U,{target:"game",value:"pileon",children:(Pe,ni)=>{var Cr=lr("Pileon solitaire");V(Pe,Cr)},$$slots:{default:!0}});var k=K(H,2),T=M(k);Ke(T,{target:"game",value:"deck",children:(Pe,ni)=>{var Cr=lr("Deck of cards");V(Pe,Cr)},$$slots:{default:!0}});var f=K(J,6),g=M(f),C=M(g),P=K(M(C)),E=M(P);Ke(E,{target:"colors",value:"default"});var F=K(E,2);Ke(F,{target:"colors",value:"standard"});var I=K(F,2);Ke(I,{target:"colors",value:"four-color"});var q=K(C),ee=K(M(q)),te=M(ee);Ke(te,{target:"size",value:"default"});var pe=K(te,2);Ke(pe,{target:"size",value:"bridge"});var Se=K(pe,2);Ke(Se,{target:"size",value:"poker"});var nt=K(Se,2);Ke(nt,{target:"size",value:"small"}),V(D,z)},$$slots:{default:!0}})};se(S,w=>{d(i)&&w(A)})}ne(()=>he(v,1,`menu ${d(s)??""}`,"svelte-oa8ggr")),V(t,h),ce(),a()}var Pr={},De={},xn;function kr(){if(xn)return De;xn=1;function t(f){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(f)}Object.defineProperty(De,"__esModule",{value:!0}),De.Cards=De.CardSuits=De.CardStringType=De.Card=void 0;function e(f,g,C){return g=i(g),g in f?Object.defineProperty(f,g,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[g]=C,f}function r(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function n(f,g){for(var C=0;C<g.length;C++){var P=g[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,i(P.key),P)}}function a(f,g,C){return g&&n(f.prototype,g),C&&n(f,C),Object.defineProperty(f,"prototype",{writable:!1}),f}function i(f){var g=o(f,"string");return t(g)==="symbol"?g:String(g)}function o(f,g){if(t(f)!=="object"||f===null)return f;var C=f[Symbol.toPrimitive];if(C!==void 0){var P=C.call(f,g);if(t(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(f)}function u(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),g&&R(f,g)}function s(f){var g=m();return function(){var P=p(f),E;if(g){var F=p(this).constructor;E=Reflect.construct(P,arguments,F)}else E=P.apply(this,arguments);return l(this,E)}}function l(f,g){if(g&&(t(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(f)}function h(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function b(f){var g=typeof Map=="function"?new Map:void 0;return b=function(P){if(P===null||!N(P))return P;if(typeof P!="function")throw new TypeError("Super expression must either be null or a function");if(typeof g<"u"){if(g.has(P))return g.get(P);g.set(P,E)}function E(){return v(P,arguments,p(this).constructor)}return E.prototype=Object.create(P.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),R(E,P)},b(f)}function v(f,g,C){return m()?v=Reflect.construct.bind():v=function(E,F,I){var q=[null];q.push.apply(q,F);var ee=Function.bind.apply(E,q),te=new ee;return I&&R(te,I.prototype),te},v.apply(null,arguments)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(f){return Function.toString.call(f).indexOf("[native code]")!==-1}function R(f,g){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,E){return P.__proto__=E,P},R(f,g)}function p(f){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},p(f)}function _(f,g){return w(f)||A(f,g)||y(f,g)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(f,g){if(f){if(typeof f=="string")return S(f,g);var C=Object.prototype.toString.call(f).slice(8,-1);if(C==="Object"&&f.constructor&&(C=f.constructor.name),C==="Map"||C==="Set")return Array.from(f);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return S(f,g)}}function S(f,g){(g==null||g>f.length)&&(g=f.length);for(var C=0,P=new Array(g);C<g;C++)P[C]=f[C];return P}function A(f,g){var C=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(C!=null){var P,E,F,I,q=[],ee=!0,te=!1;try{if(F=(C=C.call(f)).next,g!==0)for(;!(ee=(P=F.call(C)).done)&&(q.push(P.value),q.length!==g);ee=!0);}catch(pe){te=!0,E=pe}finally{try{if(!ee&&C.return!=null&&(I=C.return(),Object(I)!==I))return}finally{if(te)throw E}}return q}}function w(f){if(Array.isArray(f))return f}var O=(function(f){return f[f.Hearts=0]="Hearts",f[f.Spades=1]="Spades",f[f.Diamonds=2]="Diamonds",f[f.Clubs=3]="Clubs",f})({});De.CardSuits=O;var D=(function(f){return f.Char="CHAR",f.Short="SHORT",f.Long="LONG",f.ShortEmoji="SHORT_EMOJI",f.ShortSuit="SHORT_SUIT",f.LongSuit="LONG_SUIT",f.EmojiSuit="EMOJI_SUIT",f.ShortValue="SHORT_VALUE",f.LongValue="LONG_VALUE",f})({});De.CardStringType=D;var j={"â¥":0,"â ":1,"â¦":2,"â£":3,h:0,s:1,d:2,c:3},z={A:1,T:10,J:11,Q:12,K:13},J=function(g){var C=/^([2-9ATJQK]{1}|10)([â¥â â¦â£hsdc]{1})$/,P=g.match(C);if(!P)throw new Error('Could not parse card from "'.concat(g,'". Input should match ').concat(C,"."));var E=_(P,3);E[0];var F=E[1],I=E[2],q=Number(F),ee=(Number.isNaN(q)?z[F]:q)-1;return j[I]*13+ee},H=function(g){var C=/^_[a-z]+$/i;if(g.match(C)){var P=Array.from(g.slice(1));return P.map(function(E){var F=E.charCodeAt(0);return F<91?F-65:F-97+26})}return g.split(/[\s,]+/)},U=(function(f){u(C,f);var g=s(C);function C(P){var E;if(r(this,C),typeof P=="number")E=g.call(this,P);else{E=g.call(this);var F=Array.isArray(P)?P:H(P);F.forEach(function(I){return E.push(new T(I))})}return l(E)}return a(C,[{key:"toString",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T.StringType.Short;return E===D.Char?"_"+this.map(function(F){return F.toString(E)}).join(""):this.map(function(F){return F.toString(E)}).join(", ")}}]),C})(b(Array));De.Cards=U;var k=function(g){return typeof g=="string"?J(g):g instanceof T?g.num:g},T=(function(){function f(g){r(this,f),e(this,"num",void 0),this.num=k(g)}return a(f,[{key:"suit",get:function(){return f.getSuit(this.num)}},{key:"value",get:function(){return f.getValue(this.num)}},{key:"toString",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.StringType.Long;switch(C){case f.StringType.Short:return this.toString(f.StringType.ShortValue)+this.toString(f.StringType.ShortSuit);case f.StringType.ShortEmoji:return this.toString(f.StringType.ShortValue)+this.toString(f.StringType.EmojiSuit);case f.StringType.Long:return this.toString(f.StringType.LongValue)+" of "+this.toString(f.StringType.LongSuit);case f.StringType.Char:return f.chars[this.num];case f.StringType.ShortSuit:return f.shortSuits[this.suit];case f.StringType.LongSuit:return f.longSuits[this.suit];case f.StringType.EmojiSuit:return f.emojiSuits[this.suit];case f.StringType.ShortValue:return f.shortValues[this.value===13?0:this.value];case f.StringType.LongValue:return f.longValues[this.value===13?0:this.value]}throw new Error("Unsupported output type")}}],[{key:"fromJSON",value:function(C){var P=C.num;return new f(P)}},{key:"getSuit",value:function(C){return Math.floor(C/13)%4}},{key:"getValue",value:function(C){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C%13||P?C%13:13}},{key:"compare",value:function(C,P){return P.value-C.value}}]),f})();return De.Card=T,e(T,"Suits",O),e(T,"StringType",D),e(T,"chars","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),e(T,"emojiSuits",["â¥","â ","â¦","â£"]),e(T,"shortSuits",["h","s","d","c"]),e(T,"longSuits",["hearts","spades","diamonds","clubs"]),e(T,"shortValues",["A","2","3","4","5","6","7","8","9","T","J","Q","K"]),e(T,"longValues",["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"]),De}var Ut={},ae={},Rn;function Wa(){if(Rn)return ae;Rn=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.uniqueFilter=ae.shuffle=ae.last=ae.isSorted=ae.getCombinationsHelper=ae.getCombinations=ae.arraySubtraction=void 0;var t=function(s,l){return s.filter(function(h){return!l.includes(h)})};ae.arraySubtraction=t;var e=function u(s,l,h,b,v){if(b.length>=l)v.push(b);else for(var m=h;m<s.length;m++)u(s,l,m+1,b.concat(s[m]),v)};ae.getCombinationsHelper=e;var r=function(s,l){var h=[];return e(s,l,0,[],h),h};ae.getCombinations=r;var n=function(s,l){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=h?-1:1;try{return s.reduce(function(v,m){if(b*l(v,m)<=0)return m;throw new Error}),!0}catch{return!1}};ae.isSorted=n;var a=function(s){return s[s.length-1]};ae.last=a;var i=function(s){for(var l=s.length-1;l>0;l--){var h=Math.floor(Math.random()*(l+1)),b=[s[h],s[l]];s[l]=b[0],s[h]=b[1]}return s};ae.shuffle=i;var o=function(s,l,h){return h.indexOf(s)===l};return ae.uniqueFilter=o,ae}var In;function _s(){if(In)return Ut;In=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.Deck=void 0;var t=Wa(),e=kr();function r(p){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},r(p)}function n(p){return u(p)||o(p)||i(p)||a()}function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(p,_){if(p){if(typeof p=="string")return s(p,_);var c=Object.prototype.toString.call(p).slice(8,-1);if(c==="Object"&&p.constructor&&(c=p.constructor.name),c==="Map"||c==="Set")return Array.from(p);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return s(p,_)}}function o(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}function u(p){if(Array.isArray(p))return s(p)}function s(p,_){(_==null||_>p.length)&&(_=p.length);for(var c=0,y=new Array(_);c<_;c++)y[c]=p[c];return y}function l(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function h(p,_){for(var c=0;c<_.length;c++){var y=_[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,m(y.key),y)}}function b(p,_,c){return _&&h(p.prototype,_),c&&h(p,c),Object.defineProperty(p,"prototype",{writable:!1}),p}function v(p,_,c){return _=m(_),_ in p?Object.defineProperty(p,_,{value:c,enumerable:!0,configurable:!0,writable:!0}):p[_]=c,p}function m(p){var _=N(p,"string");return r(_)==="symbol"?_:String(_)}function N(p,_){if(r(p)!=="object"||p===null)return p;var c=p[Symbol.toPrimitive];if(c!==void 0){var y=c.call(p,_);if(r(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(p)}var R=(function(){function p(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;l(this,p),v(this,"cards",void 0),this.cards=n(Array(52*c).keys()).map(function(y){return new e.Card(y)}),_&&this.shuffle()}return b(p,[{key:"shuffle",value:function(){(0,t.shuffle)(this.cards)}},{key:"isShuffled",value:function(){return!(0,t.isSorted)(this.cards,function(c,y){return c.num-y.num})}},{key:"cardsRemaining",get:function(){return this.cards.length}},{key:"pop",value:function(){return this.cards.pop()}},{key:"popN",value:function(c){for(var y=[],S,A=0;A<c&&(S=this.pop());A++)y.push(S);return y}},{key:"toString",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Char;return new e.Cards(this.cards).toString(c)}}],[{key:"fromJSON",value:function(c){var y=c.cards,S=new p(!1,0);return S.cards=y.map(function(A){return e.Card.fromJSON(A)}),S}},{key:"fromString",value:function(c){var y=new p(!1,0);return y.cards=new e.Cards(c),y}}]),p})();return Ut.Deck=R,Ut}var at={},Kt={},Mn;function ws(){if(Mn)return Kt;Mn=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.uuid4=void 0;var t=function(n){var a;do a=Math.random().toString(16).slice(2,n+2);while(a.length<n&&n<=12);return a},e=function(){var n=[8,4,4,4,12],a=n.map(t).join("-").split("");return a[14]="4",a[19]=(Math.floor(Math.random()*64)%4+8).toString(16),a.join("")};return Kt.uuid4=e,Kt}var Ln;function Ss(){if(Ln)return at;Ln=1,Object.defineProperty(at,"__esModule",{value:!0}),at.HandRank=at.Hand=void 0;var t=Wa(),e=kr(),r=ws();function n(c){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},n(c)}function a(c){return s(c)||u(c)||o(c)||i()}function i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(c,y){if(c){if(typeof c=="string")return l(c,y);var S=Object.prototype.toString.call(c).slice(8,-1);if(S==="Object"&&c.constructor&&(S=c.constructor.name),S==="Map"||S==="Set")return Array.from(c);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return l(c,y)}}function u(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}function s(c){if(Array.isArray(c))return l(c)}function l(c,y){(y==null||y>c.length)&&(y=c.length);for(var S=0,A=new Array(y);S<y;S++)A[S]=c[S];return A}function h(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}function b(c,y){for(var S=0;S<y.length;S++){var A=y[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(c,N(A.key),A)}}function v(c,y,S){return y&&b(c.prototype,y),S&&b(c,S),Object.defineProperty(c,"prototype",{writable:!1}),c}function m(c,y,S){return y=N(y),y in c?Object.defineProperty(c,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):c[y]=S,c}function N(c){var y=R(c,"string");return n(y)==="symbol"?y:String(y)}function R(c,y){if(n(c)!=="object"||c===null)return c;var S=c[Symbol.toPrimitive];if(S!==void 0){var A=S.call(c,y);if(n(A)!=="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(c)}var p=(function(c){return c[c.High=0]="High",c[c.Pair=5]="Pair",c[c.TwoPairs=10]="TwoPairs",c[c.ThreeOfAKind=15]="ThreeOfAKind",c[c.Straight=20]="Straight",c[c.Flush=25]="Flush",c[c.FullHouse=30]="FullHouse",c[c.FourOfAKind=35]="FourOfAKind",c[c.StraightFlush=40]="StraightFlush",c[c.FiveOfAKind=45]="FiveOfAKind",c})({});at.HandRank=p;var _=(function(){function c(y,S,A){h(this,c),m(this,"uuid",void 0),m(this,"rank",void 0),m(this,"cards",void 0),this.rank=y,this.cards=S,this.uuid=A||(0,r.uuid4)()}return v(c,[{key:"getCardsString",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Short;return new e.Cards(this.cards).toString(S)}},{key:"toString",value:function(){var S=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Short,w=e.Card.StringType.LongValue,O=function(z){return S.cards[z].toString(w)},D=this.getCardsString(A);switch(this.rank){case c.Rank.FiveOfAKind:return"Five of a kind, ".concat(O(0),"s (").concat(D,")");case c.Rank.StraightFlush:return"Straigth flush, ".concat(O(0)," high (").concat(D,")");case c.Rank.FourOfAKind:return"Four of a kind, ".concat(O(0),"s (").concat(D,")");case c.Rank.FullHouse:return"Full house, ".concat(O(0),"s over ").concat(O(3),"s (").concat(D,")");case c.Rank.Flush:return"Flush, ".concat(O(0)," high (").concat(D,")");case c.Rank.Straight:return"Straigth, ".concat(O(0)," high (").concat(D,")");case c.Rank.ThreeOfAKind:return"Three of a kind, ".concat(O(0),"s (").concat(D,")");case c.Rank.TwoPairs:return"Two pairs, ".concat(O(0),"s and ").concat(O(2),"s (").concat(D,")");case c.Rank.Pair:return"Pair, ".concat(O(0),"s (").concat(D,")");case c.Rank.High:return"".concat(O(0).replace(/^\w/,function(j){return j.toUpperCase()})," high (").concat(D,")")}throw new Error("Unsupported rank value")}}],[{key:"fromJSON",value:function(S){var A=S.rank,w=S.cards,O=S.uuid;return new c(A,w.map(e.Card.fromJSON),O)}},{key:"solve",value:function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w,O;return(w=c.isNumOfAKind(5,S))?O=c.Rank.FiveOfAKind:(w=c.isStraightFlush(S,A))?O=c.Rank.StraightFlush:(w=c.isNumOfAKind(4,S))?O=c.Rank.FourOfAKind:(w=c.isFullHouse(S))?O=c.Rank.FullHouse:(w=c.isFlush(S,A))?O=c.Rank.Flush:(w=c.isStraight(S,A))?O=c.Rank.Straight:(w=c.isNumOfAKind(3,S))?O=c.Rank.ThreeOfAKind:(w=c.isTwoPairs(S))?O=c.Rank.TwoPairs:(w=c.isNumOfAKind(2,S))?O=c.Rank.Pair:(w=[],O=c.Rank.High),w=c.fillWithKickers(w,S),new c(O,w)}},{key:"solveHoldEm",value:function(S,A){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(w===0)return c.solve([].concat(a(S),a(A)));for(var O=(0,t.getCombinations)(S,S.length-w),D=(0,t.getCombinations)(A,Math.min(A.length,w)),j=[],z=0;z<O.length;z++)for(var J=0;J<D.length;J++)j.push(c.solve([].concat(a(O[z]),a(D[J]))));return c.max.apply(c,j)}},{key:"compare",value:function(S,A){var w;if(S.cards.length!==A.cards.length)throw new Error("Comparing hands with different number of cards");if((w=A.rank-S.rank)!==0)return w;for(var O=0;O<S.cards.length;O++)if((w=e.Card.compare(S.cards[O],A.cards[O]))!==0)return w;return 0}},{key:"winners",value:function(){for(var S=arguments.length,A=new Array(S),w=0;w<S;w++)A[w]=arguments[w];var O=c.max.apply(c,A);return A.filter(function(D){return!c.compare(D,O)})}},{key:"max",value:function(){for(var S=function(j,z){return c.compare(j,z)<0?j:z},A=arguments.length,w=new Array(A),O=0;O<A;O++)w[O]=arguments[O];return w.reduce(function(D,j){return S(D,j)})}},{key:"fillWithKickers",value:function(S,A){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;return A=(0,t.arraySubtraction)(A,S).sort(e.Card.compare),[].concat(a(S),a(A)).slice(0,w)}},{key:"getUniqueValues",value:function(S){return S.map(function(A){return A.value}).filter(t.uniqueFilter).sort(function(A,w){return w-A})}},{key:"isNumOfAKind",value:function(S,A){for(var w=c.getUniqueValues(A),O,D=function(H){if(O=A.filter(function(U){return U.value==w[H]}),O.length>=S)return{v:O}},j=0;j<w.length;j++){var z=D(j);if(n(z)==="object")return z.v}return!1}},{key:"isNumOfAKindCombination",value:function(S,A){for(var w=[],O=0;O<S.length;O++){var D=c.isNumOfAKind(S[O],(0,t.arraySubtraction)(A,w));if(D===!1)return!1;D=D,w.push.apply(w,a(D))}return w}},{key:"isStraightFlush",value:function(S){for(var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=[],O=function(J){if(w=S.filter(function(U){return U.suit===J}),w.length<A)return"continue";var H=c.isStraight(w,A);if(H)return{v:H}},D=0;D<4;D++){var j=O(D);if(j!=="continue"&&n(j)==="object")return j.v}return!1}},{key:"isFullHouse",value:function(S){return c.isNumOfAKindCombination([3,2],S)}},{key:"isFlush",value:function(S){for(var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=function(z){var J=S.filter(function(H){return H.suit==z});if(J.length>=A)return{v:J.sort(e.Card.compare).slice(0,A)}},O=0;O<4;O++){var D=w(O);if(n(D)==="object")return D.v}return!1}},{key:"isStraight",value:function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=c.getUniqueValues(S);if(w.length<A)return!1;w.includes(13)&&w.push(0);for(var O=[w[0]],D=1;D<w.length&&O.length<A;D++)(0,t.last)(O)-w[D]===1?O.push(w[D]):O=[w[D]];return O.length==A?O.map(function(j){return S.find(function(z){return z.value===(j||13)})}):!1}},{key:"isTwoPairs",value:function(S){return c.isNumOfAKindCombination([2,2],S)}}]),c})();return at.Hand=_,m(_,"Rank",p),at}var $n;function Ts(){return $n||($n=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Card",{enumerable:!0,get:function(){return e.Card}}),Object.defineProperty(t,"CardStringType",{enumerable:!0,get:function(){return e.CardStringType}}),Object.defineProperty(t,"Cards",{enumerable:!0,get:function(){return e.Cards}}),Object.defineProperty(t,"Deck",{enumerable:!0,get:function(){return r.Deck}}),Object.defineProperty(t,"Hand",{enumerable:!0,get:function(){return n.Hand}});var e=kr(),r=_s(),n=Ss()})(Pr)),Pr}var ie=Ts();const Es=4.5,ks=5,Cs=3,jn=7,As=5,Ga=t=>{switch(t){case"bridge":return{height:jn,width:Es};case"poker":return{height:jn,width:ks};case"small":return{height:As,width:Cs}}},on="card-appearance",Os={size:"bridge",fourColor:!1},Ns=({size:t,colors:e})=>({size:t==="default"?"poker":t,fourColor:e==="four-color"}),Ja=t=>{const e=rn(Os,r=>(xt.subscribe(n=>r(t(n))),()=>{}));return Mi(on,e),e},sn=()=>ta(on),Un=t=>{const e=ta(on);if(e){const r=Ia(xt);e.set(t(r))}},Ya=(t,e,r={})=>n=>{(Array.isArray(t)?t:[t]).includes(n.code)&&e!==void 0&&(r.preventDefault&&n.preventDefault(),e())};var Ps=Fa('<svg viewBox="0 0 16 20"><path fill="CurrentColor"></path></svg>');function Za(t,e){fe(e,!1);const r=L();let n=B(e,"suit",8,null),a=B(e,"flip",8,!1);const i=l=>{switch(l){case"hearts":return"M 8 2 C 9 0 11 0 12 0 C 13 0 16 1 16 6 C 16 8 15.5 10 14 12 L 8 20 L 2 12 C 0.5 10 0 8 0 6 C 0 1 3 0 4 0 C 5 0 7 0 8 2";case"spades":return"M 8 0 L 13 5 C 16 8 16 10 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 10 0 8 3 5 L 8 0";case"diamonds":return"M 8 0 L 16 10 L 8 20 L 0 10 L 8 0";case"clubs":return"M 8 0 C 10 0 12 2 12 4 C 12 6 11 8 8 10 C 9 8 10 7 12 7 C 14 7 16 9 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 9 2 7 4 7 C 6 7 7 8 8 10 C 5 8 4 6 4 4 C 4 2 6 0 8 0";default:return null}};W(()=>$(n()),()=>{x(r,i(n()))}),Ye();var o=Tr(),u=ke(o);{var s=l=>{var h=Ps();let b;var v=M(h);ne(()=>{b=he(h,0,"svelte-1izrtb7",null,b,{flip:a()}),me(v,"d",d(r))}),V(l,h)};se(u,l=>{d(r)&&l(s)})}V(t,o),ce()}var Ds=Q('<span class="svelte-1hnfbft"><!></span>'),Fs=Q("<div></div>"),xs=Q('<div class="center-pattern svelte-1hnfbft"></div>');function Rs(t,e){let r=B(e,"suit",8),n=B(e,"rank",8);const a={A:["U"],2:["U","D"],3:["U","U","D"],4:["UU","DD"],5:["UU","U","DD"],6:["UU","UU","DD"],7:["UU","u","UU","DD"],8:["UU","UU","DD","DD"],9:["UU","u","UU","DD","DD"],10:["UU","u","UU","DD","d","DD"]},i=s=>a[s]??[],o=s=>s.toUpperCase()===s?"grow":"";var u=xs();Ft(u,5,()=>($(n()),Z(()=>i(n()))),Jt,(s,l)=>{var h=Fs();Ft(h,5,()=>(d(l),Z(()=>d(l).split(""))),Jt,(b,v,m,N)=>{var R=Ds(),p=M(R);{let _=Fe(()=>(d(v),Z(()=>d(v).toLowerCase()==="d")));Za(p,{get suit(){return r()},get flip(){return d(_)}})}V(b,R)}),ne(b=>he(h,1,`row ${b??""}`,"svelte-1hnfbft"),[()=>(d(l),Z(()=>o(d(l))))]),V(s,h)}),V(t,u)}var Is=Q('<span class="screen-reader-only svelte-1on3xvn"><!></span>');function Ms(t,e){var r=Is(),n=M(r);Er(n,e,"default",{},null),V(t,r)}var Ls=Q('<div aria-hidden="true"><div> </div> <div class="suit svelte-1s7zazm"><!></div></div> <div><!></div>',1),$s=Q("<div><!> <!></div>");function hr(t,e){fe(e,!1);const r=()=>rt(N,"$cardAppearance",n),[n,a]=mt(),i=L(),o=L(),u=L(),s=L(),l=L(),h=L(),b=L(),v=L(),m=L(),N=sn();let R=B(e,"card",8,null),p=B(e,"empty",8,!1),_=B(e,"shadow",8,!1),c=B(e,"stack",8,void 0);const y=["top","bottom"];W(()=>r(),()=>{x(i,r().size==="bridge")}),W(()=>r(),()=>{x(o,r().size==="small")}),W(()=>r(),()=>{x(u,r().fourColor)}),W(()=>($(R()),$(_())),()=>{x(s,R()===null&&!_())}),W(()=>($(p()),d(s),$(_())),()=>{x(l,!(p()||d(s)||_()))}),W(()=>(d(l),$(R()),ie.Card),()=>{x(h,d(l)&&R()?.toString(ie.Card.StringType.ShortValue).replace("T","10")||"")}),W(()=>(d(l),$(R()),ie.Card),()=>{x(b,d(l)&&R()?.toString(ie.Card.StringType.LongSuit)||"")}),W(()=>(d(l),$(R())),()=>{x(v,d(l)&&(R()?.num??0)%13>9)}),W(()=>(d(l),$(R()),ie.Card),()=>{x(m,d(l)&&R()?.toString(ie.Card.StringType.Long)||"")}),Ye(),we();var S=$s();let A;var w=M(S);{var O=j=>{Ms(j,{children:(z,J)=>{var H=lr();ne(()=>Ne(H,d(m))),V(z,H)},$$slots:{default:!0}})};se(w,j=>{d(l)&&j(O)})}var D=K(w,2);Ft(D,1,()=>y,j=>j,(j,z)=>{var J=Ls(),H=ke(J),U=M(H),k=M(U),T=K(U,2),f=M(T);Za(f,{get suit(){return d(b)}});var g=K(H,2);let C;var P=M(g);{var E=F=>{Rs(F,{get suit(){return d(b)},get rank(){return d(h)}})};se(P,F=>{d(o)||F(E)})}ne(()=>{he(H,1,`${d(z)??""} label`,"svelte-1s7zazm"),he(U,1,`rank rank-${d(h)??""}`,"svelte-1s7zazm"),Ne(k,d(h)),C=he(g,1,"center svelte-1s7zazm",null,C,{face:d(v)})}),V(j,J)}),ne(()=>A=he(S,1,`card ${d(b)??""} stack-${c()??""}`,"svelte-1s7zazm",A,{bridge:d(i),small:d(o),fourColor:d(u),empty:p(),hidden:d(s),shadow:_(),visible:d(l)})),V(t,S),ce(),a()}var js=Q('<div class="shadow-container svelte-98hjjr"><!></div>'),Us=Q('<div role="button" tabindex="0"><div aria-atomic="true" aria-live="polite"><!> <!></div></div>');function Ks(t,e){fe(e,!1);const r=()=>rt(h,"$cardAppearance",n),[n,a]=mt(),i=L(),o=L(),u=L(),s=L(),l=L(),h=sn();let b=B(e,"numCards",8,52),v=B(e,"numDecks",8,1),m=B(e,"topCard",8,null),N=B(e,"numShadows",8,10),R=B(e,"shuffleAnimationSteps",8,4),p=B(e,"shuffleAnimationMaxDistanceEm",8,.8),_=B(e,"shuffleAnimationMaxRotateDeg",8,7),c=B(e,"onClick",8,()=>{}),y=L(0);function S(T,f,g,C){const P=T/C*f,E=.5*P/(g*52),F=1*P/(g*52);return`translate(${E}em , ${F}em)`}function A(T,f){const g=F=>[1,f+2].includes(T)?0:(Math.random()*2-1)*F,C=g(p()),P=g(p()),E=g(_());return`translate(${C}em, ${P}em) rotate(${E}deg)`}function w(){d(y)>0&&setTimeout(()=>{x(y,d(y)-1),w()},250)}function O(){if(!d(s))return c()()}W(()=>r(),()=>{x(i,r()?.size==="bridge")}),W(()=>r(),()=>{x(o,r()?.size==="small")}),W(()=>($(m()),$(b()),$(v()),$(R())),()=>{m()===null&&b()===52*v()&&R()>0&&(x(y,R()+2),w())}),W(()=>d(y),()=>{x(s,d(y)>0)}),W(()=>($(m()),d(s),$(N()),d(y),$(R()),$(b()),$(v())),()=>{x(u,m()===void 0?[]:d(s)?[...Array(N())].map(()=>({card:null,shadow:!1,transform:A(d(y),R())})):[...Array(N())].map((T,f)=>({card:void 0,shadow:!0,transform:S(f,b(),v(),N())})))}),W(()=>$(m()),()=>{x(l,m()===void 0?"Shuffle the deck":"Draw a card")}),Ye(),we();var D=Us(),j=Me(()=>Ya(["Space","Enter"],O,{preventDefault:!0}));let z;var J=M(D),H=M(J);{var U=T=>{{let f=Fe(()=>m()===void 0);hr(T,{get card(){return m()},get empty(){return d(f)}})}};se(H,T=>{d(s)||T(U)})}var k=K(H,2);Ft(k,1,()=>d(u),Jt,(T,f)=>{let g=()=>d(f).card,C=()=>d(f).shadow,P=()=>d(f).transform;var E=js(),F=M(E);hr(F,{get card(){return g()},get shadow(){return C()}}),ne(()=>ur(E,`transform: ${P()??""}`)),V(T,E)}),ne(()=>{me(D,"aria-label",d(l)),me(D,"aria-disabled",d(s)),z=he(D,1,"deck svelte-98hjjr",null,z,{bridge:d(i),small:d(o),shuffling:d(s)})}),ge("keydown",D,function(...T){d(j)?.apply(this,T)}),ge("click",D,O),V(t,D),ce(),a()}var zs=Q('<main class="svelte-kd00ed"><!></main>');function qs(t,e){fe(e,!1),Ja(Ns);let r=new ie.Deck,n=L(r.cardsRemaining),a=L(null);function i(){d(a)!==void 0?x(a,r.pop()):(r=new ie.Deck,x(a,null)),x(n,r.cardsRemaining)}const o=l=>{l.stopPropagation(),r=new ie.Deck,x(a,null),x(n,r.cardsRemaining)};er(()=>{Rt.update(l=>({...l,shuffle:o}))}),Ma(()=>{Rt.update(l=>({...l,shuffle:void 0}))}),we();var u=zs(),s=M(u);Ks(s,{onClick:i,get topCard(){return d(a)},get numCards(){return d(n)}}),V(t,u),ce()}const pr=(t,e)=>Ga(e).width+(t-1)*1.125,Vs=(t,e,r)=>t.length===0?"empty":e?`closed${r==="rank"?`, ${t[0].toString(ie.CardStringType.LongValue)}s`:""}`:t.toString(ie.CardStringType.Long),Bs=(t,e,r,n,a=!1)=>{const i=Vs(new ie.Cards(e),n,a),o=r>0?` ${r} cards selected: ${new ie.Cards(e.slice(e.length-r)).toString(ie.CardStringType.Long)}`:"";return`${t}: ${i}.${o}`},Hs=(t,e,r)=>{const n={sourceStack:e,cards:r};t.dataTransfer&&(t.dataTransfer.setData("application/json",JSON.stringify(n)),t.dataTransfer.effectAllowed="move")},Ws=t=>{const{sourceStack:e,cards:r}=JSON.parse(t.dataTransfer?.getData("application/json")??"");return{sourceStack:e,cards:r.map(ie.Card.fromJSON)}};var Gs=Q('<div class="nested svelte-1vimvv4"><!></div>'),Js=Q('<div role="button"><div><!> <!></div></div>');function Qa(t,e){fe(e,!1);const r=()=>rt(b,"$cardAppearance",n),[n,a]=mt(),i=L(),o=L(),u=L(),s=L(),l=L(),h=L(),b=sn();let v=B(e,"cards",24,()=>[]),m=B(e,"capacity",8,4),N=B(e,"closed",8,!1),R=B(e,"index",8,0),p=B(e,"isDraggableFn",8,()=>!1),_=B(e,"selectedCardsN",8,0),c=B(e,"labelOptions",24,()=>({title:"Stack"})),y=B(e,"nested",8,!1);const S=g=>{g.stopPropagation(),Hs(g,R(),v())},A=g=>{g.preventDefault()},w=nn(),O=()=>{y()||w("select",{index:R()})};W(()=>r(),()=>{x(i,r().size)}),W(()=>($(m()),d(i)),()=>{x(o,`width: ${pr(m(),d(i))}em`)}),W(()=>($(N()),$(p()),$(v())),()=>{x(u,!N()&&p()(v()))}),W(()=>($(_()),$(v())),()=>{x(s,_()>0&&_()===v().length)}),W(()=>($(N()),$(v())),()=>{x(l,N()&&v().length===1)}),W(()=>($(y()),$(c()),$(v()),$(_()),$(N())),()=>{x(h,y()?void 0:Bs(c().title,v(),_(),N(),c().closed))}),Ye(),we();var D=Js(),j=Me(()=>Ya(["Enter","Space"],O,{preventDefault:!0}));let z;var J=M(D),H=M(J);{var U=g=>{hr(g,{empty:!0})},k=g=>{{let C=Fe(()=>(d(l),$(v()),Z(()=>d(l)?null:v()[0])));hr(g,{get card(){return d(C)},stack:"left"})}};se(H,g=>{$(v()),Z(()=>v().length===0)?g(U):g(k,!1)})}var T=K(H,2);{var f=g=>{var C=Gs(),P=M(C);{let E=Fe(()=>($(v()),Z(()=>v().slice(1)))),F=Fe(()=>m()-1);Qa(P,{get cards(){return d(E)},get capacity(){return d(F)},nested:!0,get closed(){return N()},get index(){return R()},get isDraggableFn(){return p()},get selectedCardsN(){return _()}})}V(g,C)};se(T,g=>{$(v()),Z(()=>v().length>1)&&g(f)})}ne(()=>{me(D,"aria-label",d(h)),z=he(D,1,"stack svelte-1vimvv4",null,z,{selected:d(s)}),ur(D,d(o)),me(D,"draggable",d(u)),me(D,"tabindex",y()?void 0:0),me(J,"aria-hidden",y()?void 0:"true")}),ge("dblclick",D,function(g){Ur.call(this,e,g)}),ge("dragstart",D,S),ge("dragover",D,A),ge("drop",D,function(g){Ur.call(this,e,g)}),ge("click",D,O),ge("keydown",D,function(...g){d(j)?.apply(this,g)}),V(t,D),ce(),a()}var Vr=kr();const Ys=(t,e)=>{const r=t/e;return r<3/4?[3,5]:r<4/3?[4,4]:[5,3]},Kn=(t,e)=>({length:t*e-15}),Xa=(t,e,r)=>{const n=pr(4,t)*e+(e-1),a=Ga(t).height*r+(r-1);return[n,a]},Zs=(t,e,r)=>{const n=Math.min(e,r*2.3333333333333335),[a,i]=Ys(n,r),[o,u]=Xa(t,a,i),s=n*.95/o,l=r*.95/u;return{fontSize:Math.max(Math.min(s,l),10),columns:a,rows:i,tableWidthEm:o,tableHeightEm:u}},zn=()=>{const t=new ie.Deck;return[...Array(13)].map(()=>t.popN(4)).concat([[],[]])},ln=t=>{const[e,...r]=t;return r.every(n=>n.value===e.value)},Qs=t=>t.length===0?!1:t.length===1?!0:ln(t),un=(t,e)=>t.length+e.length>4?!1:e.length===0||e[e.length-1].value===t[0].value,fn=(t,e,r,n)=>{const a=t.map(i=>[...i]);if(!un(n,a[r]))throw new Error(`Can not move cards ${n.map(i=>i.toString(Vr.CardStringType.ShortEmoji))} from pile ${e} to pile ${r}`);return a[e]=a[e].slice(0,a[e].length-n.length),a[r]=[...a[r],...n],a},cn=t=>t.length===1||ln(t)?t:cn(t.slice(1)),Xs=(t,e)=>{if(t[e].length===0)throw new Error("Cannot move cards from an empty pile.");if(dn(t[e]))throw new Error("Cannot move cards from a completed pile.");const r=cn(t[e]),n=t.reduce((o,u,s)=>s!==e&&un(r,u)?[...o,s]:o,[]);if(n.length===0)throw new Error(`Cannot move cards from pile ${e} to any other pile`);const a=n.filter(o=>t[o].length>0),i=a.length>0?a[0]:n[0];return fn(t,e,i,r)},el=(t,e)=>{const r=t[e].slice(-1);return r.length===0?[[],r]:[t.reduce((a,i,o)=>o!==e&&un(r,i)?[...a,o]:a,[]),r]},ei=t=>t.reduce((e,r,n)=>{const[a,i]=el(t,n);return a.length===0?e:[...e,[n,a,i]]},[]),tl=(t,e)=>{if(t[0]!==e[0]||t[1].length!==e[1].length)return!1;for(let r=0;r<t[1].length;r++)if(t[1][r]!==e[1][r])return!1;return new Vr.Cards(t[2]).toString()===new Vr.Cards(e[2]).toString()},rl=t=>(e,r,n)=>{const[a,i,o]=e,u=[...o];if(i.length>1)return[!1,[]];const s=i[0],l=fn(t,a,s,o),h=ei(l),b=n.filter(([v])=>v!==s).map(v=>v[0]===a?[s,[a],o]:v).sort((v,m)=>v[0]-m[0]);if(h.length-b.length===1){const v=l[a].slice(-2);if(l[s][0]?.value!==o[0].value&&v.length===2&&v.every(m=>m.value===o[0].value))b.push([a,i,[v[1]]]),b.sort((m,N)=>m[0]-N[0]),u.push(v[1]);else return[!1,[]]}return h.length!==b.length?[!1,[]]:[b.every((v,m)=>tl(v,h[m])),u]},nl=t=>{const e=ei(t);if(e.length===0)return["dead-end",[]];const r=e.map(rl(t));return r.every(([n])=>n)&&r.length>0?["infinite-loop",r.reduce((a,i)=>[...a,...i[1]],[])]:[!1,[]]},dn=t=>t.length===4&&ln(t),ti=t=>t.every(e=>dn(e)||e.length===0),al=t=>t.reduce((e,r,n)=>dn(r)?[...e,n]:e,[]),it=t=>({type:t,timestamp:Date.now()}),il=t=>{const e={};return t.forEach(({type:r})=>e[r]=(e[r]??0)+1),e},qn=t=>t.reduce((e,r)=>e+r,0),ol=t=>{const e=t.filter(a=>a.type==="start").map(a=>a.timestamp),r=t.filter(a=>a.type==="stop").map(a=>a.timestamp);if(e.length===0)return[null,null];const n=(r[r.length-1]??Date.now())-e[0];return e.length!==r.length?[null,n]:[qn(r)-qn(e),n]},ar=(t,e)=>t>0?`${t}â¯${e}`:"",Vn=t=>{if(t===null)return"N/A";if(t<1e3)return ar(t,"ms");const e=Math.floor(t/36e5),r=Math.floor(t/6e4-e*60),n=Math.floor(t/1e3-r*60-e*3600);return[ar(e,"h"),ar(r,"min"),ar(n,"s")].join(" ").trim()};var sl=Q('<!> <button><!> <span class="title"> </span></button>',1);function ri(t,e){let r=B(e,"title",8),n=B(e,"position",8,"center"),a=L(!0);const i=()=>{x(a,!1)},o=()=>{x(a,!0)};var u=sl(),s=ke(u);{var l=N=>{an(N,{get title(){return r()},get position(){return n()},closeIcon:"Minimize",$$events:{close:i},children:(R,p)=>{var _=Tr(),c=ke(_);Er(c,e,"default",{},null),V(R,_)},$$slots:{default:!0}})};se(s,N=>{d(a)&&N(l)})}var h=K(s,2),b=M(h);Ha(b,{icon:"OpenModal"});var v=K(b,2),m=M(v);ne(()=>{he(h,1,`minimized-modal ${d(a)?"":"open"}`,"svelte-1ynejnl"),Ne(m,r())}),ge("click",h,o),V(t,u)}var ll=Q(`<p>Here are statistics about the completed game. Undo and undone moves are
  excluded from <i>Significant moves</i> but included in <i>Total moves</i>.</p> <table class="svelte-1vplsp7"><tbody><tr><th class="svelte-1vplsp7">Elapsed time:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Significant moves:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Total moves:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Undone moves:</th><td class="svelte-1vplsp7"> </td></tr></tbody></table>`,1);function ul(t,e){fe(e,!1);const r=L(),n=L(),a=L();let i=B(e,"events",8);W(()=>$(i()),()=>{x(r,il(i()))}),W(()=>(d(n),d(a),$(i())),()=>{(A=>{var w=Hr(A,2);x(n,w[0]),x(a,w[1])})(ol(i()))}),Ye(),we();var o=ll(),u=K(ke(o),2),s=M(u),l=M(s),h=K(M(l)),b=M(h),v=K(l),m=K(M(v)),N=M(m),R=K(v),p=K(M(R)),_=M(p),c=K(R),y=K(M(c)),S=M(y);ne(A=>{Ne(b,A),Ne(N,(d(r),Z(()=>(d(r).move??0)-(d(r).undo??0)))),Ne(_,(d(r),Z(()=>(d(r).move??0)+(d(r).undo??0)))),Ne(S,(d(r),Z(()=>d(r).undo??0)))},[()=>($(Vn),d(a),Z(()=>Vn(d(a))))]),V(t,o),ce()}var fl=Q('<!> <div class="actions svelte-1gnlsyg"><!></div>',1);function cl(t,e){fe(e,!1);const r=L();let n=B(e,"events",8),a=B(e,"piles",8);const i=nn();W(()=>$(a()),()=>{x(r,ti(a()))}),Ye(),we();var o=Tr(),u=ke(o);{var s=l=>{ri(l,{title:"Completed",children:(h,b)=>{var v=fl(),m=ke(v);ul(m,{get events(){return n()}});var N=K(m,2),R=M(N);Xe(R,{icon:"Shuffle",label:"Shuffle",onClick:()=>i("shuffle")}),V(h,v)},$$slots:{default:!0}})};se(u,l=>{d(r)&&l(s)})}V(t,o),ce()}const dl=(t,e=ie.CardStringType.Long)=>{const r=t.map(a=>a.toString(e)),n=[r.slice(0,-1).join(", "),...r.slice(-1)].filter(a=>a).join(" and ");return n.charAt(0).toUpperCase()+n.slice(1)};var vl=Q("<p>No more possible moves. Undo the last move or start a new game.</p>"),hl=Q("<p> </p>"),pl=Q('<!> <!> <div class="actions svelte-1o3xc0i"><!> <!></div>',1);function gl(t,e){fe(e,!0);const r=Me(()=>nl(e.piles)),n=Me(()=>Hr(d(r),2)),a=Me(()=>d(n)[0]),i=Me(()=>d(n)[1]),o=Me(()=>dl(d(i)));var u=Tr(),s=ke(u);{var l=h=>{ri(h,{title:"Dead end",children:(b,v)=>{var m=pl(),N=ke(m);{var R=A=>{var w=vl();V(A,w)};se(N,A=>{d(a)==="dead-end"&&A(R)})}var p=K(N,2);{var _=A=>{var w=hl(),O=M(w);ne(()=>Ne(O,`${d(o)??""} can be moved back and forth between two piles. There are no
        other possible moves. Undo the last move or start a new game.`)),V(A,w)};se(p,A=>{d(a)==="infinite-loop"&&A(_)})}var c=K(p,2),y=M(c);Xe(y,{icon:"Shuffle",label:"Shuffle",get onClick(){return e.shuffle}});var S=K(y,2);Xe(S,{icon:"Undo",label:"Undo",get onClick(){return e.undo}}),V(b,m)},$$slots:{default:!0}})};se(s,h=>{d(a)&&h(l)})}V(t,u),ce()}var bl=Q(`<p>The goal of the pileon solitaire is to rearrange a deck of cards into piles
    of equal ranks from thirteen random piles of four using fifteen piles.</p> <h3>Rules</h3> <ul><li>Each pile can contain up to four cards.</li> <li>Cards can be moved from top of the pile into a pile where the top card is
      of the same rank as the card that is moved.</li> <li>Cards of any rank can be moved into an empty pile.</li> <li>Multiple cards with the same rank can be moved at once.</li> <li>Pile is complete when it contains all four cards with the same rank.</li></ul> <h3>Moving cards</h3> <ol><li>Select the source pile by clicking a pile. Cards to be moved are
      highlighted. Click the source pile again to reduce the amount of selected
      cards.</li> <li>Move cards by clicking the target pile. If the move is valid, the cards
      are moved from the source pile into the target pile.</li></ol> <p>If your device supports drag-and-drop, you can also drag the cards you want
    to move from the source pile into the target pile. Double-clicking the
    source pile automatically moves cards from the pile to an available target
    pile.</p>`,1);function ml(t,e){an(t,{title:"How to play?",$$events:{close(r){Ur.call(this,e,r)}},children:(r,n)=>{var a=bl();V(r,a)},$$slots:{default:!0}})}var yl=Q('<div class="pile svelte-17eyygh"><!></div>'),_l=Q('<div class="pile svelte-17eyygh"></div>'),wl=Q("<main><!> <!></main> <!> <!> <!>",1);function Bn(t,e){fe(e,!1);const r=()=>rt(R,"$appearance",n),[n,a]=mt(),i=L(),o=L(),u=L(),s=L(),l=L(),h=L(),b=L(),v=L();let m=L(),N=L(),R=Ja(E=>({size:E.size==="default"?"bridge":E.size,fourColor:E.colors==="four-color"})),p=L([zn()]),_=L([it("start")]),c=L(!1);const y=E=>{E.stopPropagation(),x(c,!0)},S=E=>{E.stopPropagation(),x(w,[void 0,[]]),x(p,[zn()]),x(_,[it("start")])},A=E=>{E.stopPropagation(),d(p).length>1&&(x(w,[void 0,[]]),x(p,d(p).slice(0,d(p).length-1)),x(_,[...d(_),it("undo")]))};let w=L([void 0,[]]);const O=(E,F,I)=>{try{x(w,[void 0,[]]);const q=fn(d(p)[d(p).length-1],E,F,I);x(p,[...d(p),q]),x(_,[...d(_),it("move")])}catch{}},D=E=>{const[F,I]=d(w),q=E.detail.index;d(o).includes(q)||(F===void 0||I.length===0?x(w,[q,cn(d(i)[q])]):F===q?x(w,[q,I.slice(1)]):F!==q&&(O(F,q,I),x(w,[void 0,[]])))},j=E=>F=>{F.preventDefault();const{sourceStack:I,cards:q}=Ws(F);I!==E&&O(I,E,q)},z=E=>F=>{F.preventDefault();try{x(w,[void 0,[]]);const I=Xs(d(p)[d(p).length-1],E);x(p,[...d(p),I]),x(_,[...d(_),it("move")])}catch{}};er(()=>{Rt.update(E=>({...E,help:y,shuffle:S,undo:A}))}),Ma(()=>{Rt.update(E=>({...E,help:void 0,shuffle:void 0,undo:void 0}))}),W(()=>(d(m),d(N),Un),()=>{const E=d(m)<800||d(N)<400?"small":"bridge";Un(F=>({size:F.size==="default"?E:F.size,fourColor:F.colors==="four-color"}))}),W(()=>d(p),()=>{x(i,d(p)[d(p).length-1])}),W(()=>d(i),()=>{x(o,al(d(i)))}),W(()=>(d(i),d(_),it),()=>{ti(d(i))&&d(_).push(it("stop"))}),W(()=>d(w),()=>{x(u,d(w)[0])}),W(()=>d(w),()=>{x(s,d(w)[1])}),W(()=>r(),()=>{x(l,r().size)}),W(()=>(d(l),d(m),d(N)),()=>{x(h,Zs(d(l),d(m),d(N)))}),W(()=>(d(b),d(v),d(l)),()=>{(E=>{var F=Hr(E,2);x(b,F[0]),x(v,F[1])})(Xa(d(l),5,3))}),Ye(),we();var J=wl(),H=ke(J);let U;var k=M(H);Ft(k,1,()=>d(i),Jt,(E,F,I)=>{var q=yl(),ee=M(q),te=Me(()=>j(I)),pe=Me(()=>z(I));{let Se=Fe(()=>(d(o),Z(()=>d(o).includes(I)))),nt=Fe(()=>(d(u),d(s),Z(()=>d(u)===I?d(s).length:0)));Qa(ee,{get cards(){return d(F)},get closed(){return d(Se)},get selectedCardsN(){return d(nt)},labelOptions:{title:`Stack ${I+1}`,closed:"rank"},index:I,get isDraggableFn(){return Qs},$$events:{drop(...Pe){d(te)?.apply(this,Pe)},dblclick(...Pe){d(pe)?.apply(this,Pe)},select:D}})}V(E,q)});var T=K(k,2);Ft(T,1,()=>($(Kn),d(h),Z(()=>Kn(d(h).columns,d(h).rows))),Jt,(E,F,I,q)=>{var ee=_l();ne(te=>ur(ee,te),[()=>($(pr),d(l),Z(()=>`min-width: ${pr(4,d(l))}em`))]),V(E,ee)});var f=K(H,2);{var g=E=>{ml(E,{$$events:{close:()=>{x(c,!1)}}})};se(f,E=>{d(c)&&E(g)})}var C=K(f,2);cl(C,{get events(){return d(_)},get piles(){return d(i)},$$events:{shuffle:S}});var P=K(C,2);gl(P,{get piles(){return d(i)},shuffle:S,undo:A}),ne(()=>{he(H,1,`pileon deal-${d(h),Z(()=>d(h).columns)??""}x${d(h),Z(()=>d(h).rows)??""}`,"svelte-17eyygh"),U=ur(H,"",U,{"font-size":`${d(h),Z(()=>d(h).fontSize)??""}px`,"max-width":`${d(b)*1.25}em`})}),En(H,"clientHeight",E=>x(N,E)),En(H,"clientWidth",E=>x(m,E)),V(t,J),ce(),a()}var Sl=Q("<!> <!> <!>",1);function Tl(t,e){fe(e,!1);const r=()=>rt(xt,"$settings",a),n=()=>rt(Rt,"$actions",a),[a,i]=mt(),o=L(),u=v=>{v.key==="z"&&(v.ctrlKey||v.metaKey)&&n().undo!==void 0&&n().undo(v),v.key==="F1"&&n().help!==void 0&&n().help(v)};W(()=>(r(),Bn),()=>{x(o,r().game==="deck"?qs:Bn)}),Ye(),we();var s=Sl();ge("keydown",fa.body,u);var l=ke(s);ys(l,{});var h=K(l,2);yo(h,()=>d(o),(v,m)=>{m(v,{})});var b=K(h,2);Ro(b,{}),V(t,s),ce(),i()}vo(Tl,{target:document.body});
