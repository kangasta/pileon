(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Pr=!1;var br=Array.isArray,li=Array.prototype.indexOf,mr=Array.from,Wn=Object.defineProperty,Ct=Object.getOwnPropertyDescriptor,Gn=Object.getOwnPropertyDescriptors,ui=Object.prototype,fi=Array.prototype,Vr=Object.getPrototypeOf,hn=Object.isExtensible;const kt=()=>{};function ci(t){return t()}function Dr(t){for(var e=0;e<t.length;e++)t[e]()}function Jn(){var t,e,r=new Promise((n,a)=>{t=n,e=a});return{promise:r,resolve:t,reject:e}}function Br(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const n of t)if(r.push(n),r.length===e)break;return r}const fe=2,ar=4,Jt=8,Yn=1<<24,Je=16,Ye=32,bt=64,Hr=128,Ne=512,ue=1024,pe=2048,je=4096,Ee=8192,Be=16384,Wr=32768,vt=65536,pn=1<<17,Zn=1<<18,It=1<<19,Qn=1<<20,Ve=1<<25,ht=32768,Fr=1<<21,Gr=1<<22,tt=1<<23,ut=Symbol("$state"),di=Symbol("legacy props"),vi=Symbol(""),St=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function yr(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function hi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function pi(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function gi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function bi(t){throw new Error("https://svelte.dev/e/effect_orphan")}function mi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yi(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function _i(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function wi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Si(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ti(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Ei=1,Ci=2,Xn=4,ki=8,Ai=16,Oi=1,Ni=2,Pi=4,Di=8,Fi=16,xi=1,Ri=2,oe=Symbol(),Ii="http://www.w3.org/1999/xhtml";function Mi(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ea(t){return t===this.v}function ta(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ra(t){return!ta(t,this.v)}let Mt=!1,Li=!1;function $i(){Mt=!0}let X=null;function At(t){X=t}function na(t){return aa().get(t)}function ji(t,e){return aa().set(t,e),e}function ce(t,e=!1,r){X={p:X,i:!1,c:null,e:null,s:t,x:null,l:Mt&&!e?{s:null,u:null,$:[]}:null}}function de(t){var e=X,r=e.e;if(r!==null){e.e=null;for(var n of r)_a(n)}return e.i=!0,X=e.p,{}}function Yt(){return!Mt||X!==null&&X.l===null}function aa(t){return X===null&&yr(),X.c??=new Map(Ui(X)||void 0)}function Ui(t){let e=t.p;for(;e!==null;){const r=e.c;if(r!==null)return r;e=e.p}return null}let Tt=[];function Ki(){var t=Tt;Tt=[],Dr(t)}function Lt(t){if(Tt.length===0){var e=Tt;queueMicrotask(()=>{e===Tt&&Ki()})}Tt.push(t)}function ia(t){var e=Y;if(e===null)return G.f|=tt,t;if((e.f&Wr)===0){if((e.f&Hr)===0)throw t;e.b.error(t)}else Ot(t,e)}function Ot(t,e){for(;e!==null;){if((e.f&Hr)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw t}const zi=-7169;function ae(t,e){t.f=t.f&zi|e}function Jr(t){(t.f&Ne)!==0||t.deps===null?ae(t,ue):ae(t,je)}function oa(t){if(t!==null)for(const e of t)(e.f&fe)===0||(e.f&ht)===0||(e.f^=ht,oa(e.deps))}function sa(t,e,r){(t.f&pe)!==0?e.add(t):(t.f&je)!==0&&r.add(t),oa(t.deps),ae(t,ue)}const er=new Set;let re=null,Fe=null,Ie=[],Yr=null,xr=!1;class Le{committed=!1;current=new Map;previous=new Map;#e=new Set;#n=new Set;#t=0;#a=0;#o=null;#i=new Set;#r=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#a>0}process(e){Ie=[],this.apply();var r=[],n=[];for(const a of e)this.#s(a,r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#l(n),this.#l(r)):(re=null,gn(n),gn(r),this.#o?.resolve()),Fe=null}#s(e,r,n){e.f^=ue;for(var a=e.first,i=null;a!==null;){var o=a.f,l=(o&(Ye|bt))!==0,s=l&&(o&ue)!==0,u=s||(o&Ee)!==0||this.skipped_effects.has(a);if(!u&&a.fn!==null){l?a.f^=ue:i!==null&&(o&(ar|Jt|Yn))!==0?i.b.defer_effect(a):(o&ar)!==0?r.push(a):$t(a)&&((o&Je)!==0&&this.#i.add(a),Dt(a));var h=a.first;if(h!==null){a=h;continue}}var b=a.parent;for(a=a.next;a===null&&b!==null;)b===i&&(i=null),a=b.next,b=b.parent}}#l(e){for(var r=0;r<e.length;r+=1)sa(e[r],this.#i,this.#r)}capture(e,r){r!==oe&&!this.previous.has(e)&&this.previous.set(e,r),(e.f&tt)===0&&(this.current.set(e,e.v),Fe?.set(e,e.v))}activate(){re=this,this.apply()}deactivate(){re===this&&(re=null,Fe=null)}flush(){if(this.activate(),Ie.length>0){if(qi(),re!==null&&re!==this)return}else this.#t===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#n)e(this);this.#n.clear()}#u(){if(this.#a===0){for(const e of this.#e)e();this.#e.clear()}this.#t===0&&this.#f()}#f(){if(er.size>1){this.previous.clear();var e=Fe,r=!0;for(const a of er){if(a===this){r=!1;continue}const i=[];for(const[l,s]of this.current){if(a.current.has(l))if(r&&s!==a.current.get(l))a.current.set(l,s);else continue;i.push(l)}if(i.length===0)continue;const o=[...a.current.keys()].filter(l=>!this.current.has(l));if(o.length>0){var n=Ie;Ie=[];const l=new Set,s=new Map;for(const u of i)la(u,o,l,s);if(Ie.length>0){re=a,a.apply();for(const u of Ie)a.#s(u,[],[]);a.deactivate()}Ie=n}}re=null,Fe=e}this.committed=!0,er.delete(this)}increment(e){this.#t+=1,e&&(this.#a+=1)}decrement(e){this.#t-=1,e&&(this.#a-=1),this.revive()}revive(){for(const e of this.#i)this.#r.delete(e),ae(e,pe),Ge(e);for(const e of this.#r)ae(e,je),Ge(e);this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#n.add(e)}settled(){return(this.#o??=Jn()).promise}static ensure(){if(re===null){const e=re=new Le;er.add(re),Le.enqueue(()=>{re===e&&e.flush()})}return re}static enqueue(e){Lt(e)}apply(){}}function qi(){var t=ct;xr=!0;var e=null;try{var r=0;for(or(!0);Ie.length>0;){var n=Le.ensure();if(r++>1e3){var a,i;Vi()}n.process(Ie),rt.clear()}}finally{xr=!1,or(t),Yr=null}}function Vi(){try{mi()}catch(t){Ot(t,Yr)}}let ze=null;function gn(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var n=t[r++];if((n.f&(Be|Ee))===0&&$t(n)&&(ze=new Set,Dt(n),n.deps===null&&n.first===null&&n.nodes===null&&(n.teardown===null&&n.ac===null?Ea(n):n.fn=null),ze?.size>0)){rt.clear();for(const a of ze){if((a.f&(Be|Ee))!==0)continue;const i=[a];let o=a.parent;for(;o!==null;)ze.has(o)&&(ze.delete(o),i.push(o)),o=o.parent;for(let l=i.length-1;l>=0;l--){const s=i[l];(s.f&(Be|Ee))===0&&Dt(s)}}ze.clear()}}ze=null}}function la(t,e,r,n){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const a of t.reactions){const i=a.f;(i&fe)!==0?la(a,e,r,n):(i&(Gr|Je))!==0&&(i&pe)===0&&ua(a,e,n)&&(ae(a,pe),Ge(a))}}function ua(t,e,r){const n=r.get(t);if(n!==void 0)return n;if(t.deps!==null)for(const a of t.deps){if(e.includes(a))return!0;if((a.f&fe)!==0&&ua(a,e,r))return r.set(a,!0),!0}return r.set(t,!1),!1}function Ge(t){for(var e=Yr=t;e.parent!==null;){e=e.parent;var r=e.f;if(xr&&e===Y&&(r&Je)!==0&&(r&Zn)===0)return;if((r&(bt|Ye))!==0){if((r&ue)===0)return;e.f^=ue}}Ie.push(e)}function Bi(t){let e=0,r=pt(0),n;return()=>{Xr()&&(d(r),_r(()=>(e===0&&(n=Z(()=>t(()=>Vt(r)))),e+=1,()=>{Lt(()=>{e-=1,e===0&&(n?.(),n=void 0,Vt(r))})})))}}var Hi=vt|It|Hr;function Wi(t,e,r){new Gi(t,e,r)}class Gi{parent;is_pending=!1;#e;#n=null;#t;#a;#o;#i=null;#r=null;#s=null;#l=null;#u=null;#f=0;#c=0;#v=!1;#h=new Set;#p=new Set;#d=null;#_=Bi(()=>(this.#d=pt(this.#f),()=>{this.#d=null}));constructor(e,r,n){this.#e=e,this.#t=r,this.#a=n,this.parent=Y.b,this.is_pending=!!this.#t.pending,this.#o=wr(()=>{Y.b=this;{var a=this.#m();try{this.#i=Ae(()=>n(a))}catch(i){this.error(i)}this.#c>0?this.#b():this.is_pending=!1}return()=>{this.#u?.remove()}},Hi)}#w(){try{this.#i=Ae(()=>this.#a(this.#e))}catch(e){this.error(e)}}#S(){const e=this.#t.pending;e&&(this.#r=Ae(()=>e(this.#e)),Le.enqueue(()=>{var r=this.#m();this.#i=this.#g(()=>(Le.ensure(),Ae(()=>this.#a(r)))),this.#c>0?this.#b():(ft(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#m(){var e=this.#e;return this.is_pending&&(this.#u=He(),this.#e.before(this.#u),e=this.#u),e}defer_effect(e){sa(e,this.#h,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#t.pending}#g(e){var r=Y,n=G,a=X;$e(this.#o),me(this.#o),At(this.#o.ctx);try{return e()}catch(i){return ia(i),null}finally{$e(r),me(n),At(a)}}#b(){const e=this.#t.pending;this.#i!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),Aa(this.#i,this.#l)),this.#r===null&&(this.#r=Ae(()=>e(this.#e)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}if(this.#c+=e,this.#c===0){this.is_pending=!1;for(const r of this.#h)ae(r,pe),Ge(r);for(const r of this.#p)ae(r,je),Ge(r);this.#h.clear(),this.#p.clear(),this.#r&&ft(this.#r,()=>{this.#r=null}),this.#l&&(this.#e.before(this.#l),this.#l=null)}}update_pending_count(e){this.#y(e),this.#f+=e,this.#d&&Nt(this.#d,this.#f)}get_effect_pending(){return this.#_(),d(this.#d)}error(e){var r=this.#t.onerror;let n=this.#t.failed;if(this.#v||!r&&!n)throw e;this.#i&&(_e(this.#i),this.#i=null),this.#r&&(_e(this.#r),this.#r=null),this.#s&&(_e(this.#s),this.#s=null);var a=!1,i=!1;const o=()=>{if(a){Mi();return}a=!0,i&&Ti(),Le.ensure(),this.#f=0,this.#s!==null&&ft(this.#s,()=>{this.#s=null}),this.is_pending=this.has_pending_snippet(),this.#i=this.#g(()=>(this.#v=!1,Ae(()=>this.#a(this.#e)))),this.#c>0?this.#b():this.is_pending=!1};var l=G;try{me(null),i=!0,r?.(e,o),i=!1}catch(s){Ot(s,this.#o&&this.#o.parent)}finally{me(l)}n&&Lt(()=>{this.#s=this.#g(()=>{Le.ensure(),this.#v=!0;try{return Ae(()=>{n(this.#e,()=>e,()=>o)})}catch(s){return Ot(s,this.#o.parent),null}finally{this.#v=!1}})})}}function Ji(t,e,r,n){const a=Yt()?Zt:Re;if(r.length===0&&t.length===0){n(e.map(a));return}var i=re,o=Y,l=Yi();function s(){Promise.all(r.map(u=>Zi(u))).then(u=>{l();try{n([...e.map(a),...u])}catch(h){(o.f&Be)===0&&Ot(h,o)}i?.deactivate(),ir()}).catch(u=>{Ot(u,o)})}t.length>0?Promise.all(t).then(()=>{l();try{return s()}finally{i?.deactivate(),ir()}}):s()}function Yi(){var t=Y,e=G,r=X,n=re;return function(i=!0){$e(t),me(e),At(r),i&&n?.activate()}}function ir(){$e(null),me(null),At(null)}function Zt(t){var e=fe|pe,r=G!==null&&(G.f&fe)!==0?G:null;return Y!==null&&(Y.f|=It),{ctx:X,deps:null,effects:null,equals:ea,f:e,fn:t,reactions:null,rv:0,v:oe,wv:0,parent:r??Y,ac:null}}function Zi(t,e,r){let n=Y;n===null&&hi();var a=n.b,i=void 0,o=pt(oe),l=!G,s=new Map;return io(()=>{var u=Jn();i=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{h===re&&h.committed&&h.deactivate(),ir()})}catch(m){u.reject(m),ir()}var h=re;if(l){var b=a.is_rendered();a.update_pending_count(1),h.increment(b),s.get(h)?.reject(St),s.delete(h),s.set(h,u)}const v=(m,N=void 0)=>{if(h.activate(),N)N!==St&&(o.f|=tt,Nt(o,N));else{(o.f&tt)!==0&&(o.f^=tt),Nt(o,m);for(const[R,p]of s){if(s.delete(R),R===h)break;p.reject(St)}}l&&(a.update_pending_count(-1),h.decrement(b))};u.promise.then(v,m=>v(null,m||"unknown"))}),en(()=>{for(const u of s.values())u.reject(St)}),new Promise(u=>{function h(b){function v(){b===i?u(o):h(i)}b.then(v,v)}h(i)})}function Me(t){const e=Zt(t);return Oa(e),e}function Re(t){const e=Zt(t);return e.equals=ra,e}function fa(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)_e(e[r])}}function Qi(t){for(var e=t.parent;e!==null;){if((e.f&fe)===0)return(e.f&Be)===0?e:null;e=e.parent}return null}function Zr(t){var e,r=Y;$e(Qi(t));try{t.f&=~ht,fa(t),e=Fa(t)}finally{$e(r)}return e}function ca(t){var e=Zr(t);if(!t.equals(e)&&(t.wv=Pa(),(!re?.is_fork||t.deps===null)&&(t.v=e,t.deps===null))){ae(t,ue);return}nt||(Fe!==null?(Xr()||re?.is_fork)&&Fe.set(t,e):Jr(t))}let Rr=new Set;const rt=new Map;let da=!1;function pt(t,e){var r={f:0,v:t,reactions:null,equals:ea,rv:0,wv:0};return r}function Qe(t,e){const r=pt(t);return Oa(r),r}function L(t,e=!1,r=!0){const n=pt(t);return e||(n.equals=ra),Mt&&r&&X!==null&&X.l!==null&&(X.l.s??=[]).push(n),n}function x(t,e,r=!1){G!==null&&(!xe||(G.f&pn)!==0)&&Yt()&&(G.f&(fe|Je|Gr|pn))!==0&&!We?.includes(t)&&Si();let n=r?Et(e):e;return Nt(t,n)}function Nt(t,e){if(!t.equals(e)){var r=t.v;nt?rt.set(t,e):rt.set(t,r),t.v=e;var n=Le.ensure();if(n.capture(t,r),(t.f&fe)!==0){const a=t;(t.f&pe)!==0&&Zr(a),Jr(a)}t.wv=Pa(),va(t,pe),Yt()&&Y!==null&&(Y.f&ue)!==0&&(Y.f&(Ye|bt))===0&&(ke===null?lo([t]):ke.push(t)),!n.is_fork&&Rr.size>0&&!da&&Xi()}return e}function Xi(){da=!1;var t=ct;or(!0);const e=Array.from(Rr);try{for(const r of e)(r.f&ue)!==0&&ae(r,je),$t(r)&&Dt(r)}finally{or(t)}Rr.clear()}function Vt(t){x(t,t.v+1)}function va(t,e){var r=t.reactions;if(r!==null)for(var n=Yt(),a=r.length,i=0;i<a;i++){var o=r[i],l=o.f;if(!(!n&&o===Y)){var s=(l&pe)===0;if(s&&ae(o,e),(l&fe)!==0){var u=o;Fe?.delete(u),(l&ht)===0&&(l&Ne&&(o.f|=ht),va(u,je))}else s&&((l&Je)!==0&&ze!==null&&ze.add(o),Ge(o))}}}function Et(t){if(typeof t!="object"||t===null||ut in t)return t;const e=Vr(t);if(e!==ui&&e!==fi)return t;var r=new Map,n=br(t),a=Qe(0),i=dt,o=l=>{if(dt===i)return l();var s=G,u=dt;me(null),mn(i);var h=l();return me(s),mn(u),h};return n&&r.set("length",Qe(t.length)),new Proxy(t,{defineProperty(l,s,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&_i();var h=r.get(s);return h===void 0?h=o(()=>{var b=Qe(u.value);return r.set(s,b),b}):x(h,u.value,!0),!0},deleteProperty(l,s){var u=r.get(s);if(u===void 0){if(s in l){const h=o(()=>Qe(oe));r.set(s,h),Vt(a)}}else x(u,oe),Vt(a);return!0},get(l,s,u){if(s===ut)return t;var h=r.get(s),b=s in l;if(h===void 0&&(!b||Ct(l,s)?.writable)&&(h=o(()=>{var m=Et(b?l[s]:oe),N=Qe(m);return N}),r.set(s,h)),h!==void 0){var v=d(h);return v===oe?void 0:v}return Reflect.get(l,s,u)},getOwnPropertyDescriptor(l,s){var u=Reflect.getOwnPropertyDescriptor(l,s);if(u&&"value"in u){var h=r.get(s);h&&(u.value=d(h))}else if(u===void 0){var b=r.get(s),v=b?.v;if(b!==void 0&&v!==oe)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,s){if(s===ut)return!0;var u=r.get(s),h=u!==void 0&&u.v!==oe||Reflect.has(l,s);if(u!==void 0||Y!==null&&(!h||Ct(l,s)?.writable)){u===void 0&&(u=o(()=>{var v=h?Et(l[s]):oe,m=Qe(v);return m}),r.set(s,u));var b=d(u);if(b===oe)return!1}return h},set(l,s,u,h){var b=r.get(s),v=s in l;if(n&&s==="length")for(var m=u;m<b.v;m+=1){var N=r.get(m+"");N!==void 0?x(N,oe):m in l&&(N=o(()=>Qe(oe)),r.set(m+"",N))}if(b===void 0)(!v||Ct(l,s)?.writable)&&(b=o(()=>Qe(void 0)),x(b,Et(u)),r.set(s,b));else{v=b.v!==oe;var R=o(()=>Et(u));x(b,R)}var p=Reflect.getOwnPropertyDescriptor(l,s);if(p?.set&&p.set.call(h,u),!v){if(n&&typeof s=="string"){var _=r.get("length"),c=Number(s);Number.isInteger(c)&&c>=_.v&&x(_,c+1)}Vt(a)}return!0},ownKeys(l){d(a);var s=Reflect.ownKeys(l).filter(b=>{var v=r.get(b);return v===void 0||v.v!==oe});for(var[u,h]of r)h.v!==oe&&!(u in l)&&s.push(u);return s},setPrototypeOf(){wi()}})}var Ir,ha,pa,ga,ba;function eo(){if(Ir===void 0){Ir=window,ha=document,pa=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;ga=Ct(e,"firstChild").get,ba=Ct(e,"nextSibling").get,hn(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),hn(r)&&(r.__t=void 0)}}function He(t=""){return document.createTextNode(t)}function Pt(t){return ga.call(t)}function Qt(t){return ba.call(t)}function M(t,e){return Pt(t)}function Ce(t,e=!1){{var r=Pt(t);return r instanceof Comment&&r.data===""?Qt(r):r}}function K(t,e=1,r=!1){let n=t;for(;e--;)n=Qt(n);return n}function to(t){t.textContent=""}function ma(){return!1}function Qr(t){var e=G,r=Y;me(null),$e(null);try{return t()}finally{me(e),$e(r)}}function ya(t){Y===null&&(G===null&&bi(),gi()),nt&&pi()}function ro(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Ue(t,e,r){var n=Y;n!==null&&(n.f&Ee)!==0&&(t|=Ee);var a={ctx:X,deps:null,nodes:null,f:t|pe|Ne,first:null,fn:e,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{Dt(a),a.f|=Wr}catch(l){throw _e(a),l}else e!==null&&Ge(a);var i=a;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&It)===0&&(i=i.first,(t&Je)!==0&&(t&vt)!==0&&i!==null&&(i.f|=vt)),i!==null&&(i.parent=n,n!==null&&ro(i,n),G!==null&&(G.f&fe)!==0&&(t&bt)===0)){var o=G;(o.effects??=[]).push(i)}return a}function Xr(){return G!==null&&!xe}function en(t){const e=Ue(Jt,null,!1);return ae(e,ue),e.teardown=t,e}function Mr(t){ya();var e=Y.f,r=!G&&(e&Ye)!==0&&(e&Wr)===0;if(r){var n=X;(n.e??=[]).push(t)}else return _a(t)}function _a(t){return Ue(ar|Qn,t,!1)}function no(t){return ya(),Ue(Jt|Qn,t,!0)}function ao(t){Le.ensure();const e=Ue(bt|It,t,!0);return(r={})=>new Promise(n=>{r.outro?ft(e,()=>{_e(e),n(void 0)}):(_e(e),n(void 0))})}function wa(t){return Ue(ar,t,!1)}function W(t,e){var r=X,n={effect:null,ran:!1,deps:t};r.l.$.push(n),n.effect=_r(()=>{t(),!n.ran&&(n.ran=!0,Z(e))})}function Ze(){var t=X;_r(()=>{for(var e of t.l.$){e.deps();var r=e.effect;(r.f&ue)!==0&&r.deps!==null&&ae(r,je),$t(r)&&Dt(r),e.ran=!1}})}function io(t){return Ue(Gr|It,t,!0)}function _r(t,e=0){return Ue(Jt|e,t,!0)}function ne(t,e=[],r=[],n=[]){Ji(n,e,r,a=>{Ue(Jt,()=>t(...a.map(d)),!0)})}function wr(t,e=0){var r=Ue(Je|e,t,!0);return r}function Ae(t){return Ue(Ye|It,t,!0)}function Sa(t){var e=t.teardown;if(e!==null){const r=nt,n=G;bn(!0),me(null);try{e.call(null)}finally{bn(r),me(n)}}}function Ta(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const a=r.ac;a!==null&&Qr(()=>{a.abort(St)});var n=r.next;(r.f&bt)!==0?r.parent=null:_e(r,e),r=n}}function oo(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Ye)===0&&_e(e),e=r}}function _e(t,e=!0){var r=!1;(e||(t.f&Zn)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(so(t.nodes.start,t.nodes.end),r=!0),Ta(t,e&&!r),sr(t,0),ae(t,Be);var n=t.nodes&&t.nodes.t;if(n!==null)for(const i of n)i.stop();Sa(t);var a=t.parent;a!==null&&a.first!==null&&Ea(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function so(t,e){for(;t!==null;){var r=t===e?null:Qt(t);t.remove(),t=r}}function Ea(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function ft(t,e,r=!0){var n=[];Ca(t,n,!0);var a=()=>{r&&_e(t),e&&e()},i=n.length;if(i>0){var o=()=>--i||a();for(var l of n)l.out(o)}else a()}function Ca(t,e,r){if((t.f&Ee)===0){t.f^=Ee;var n=t.nodes&&t.nodes.t;if(n!==null)for(const l of n)(l.is_global||r)&&e.push(l);for(var a=t.first;a!==null;){var i=a.next,o=(a.f&vt)!==0||(a.f&Ye)!==0&&(t.f&Je)!==0;Ca(a,e,o?r:!1),a=i}}}function tn(t){ka(t,!0)}function ka(t,e){if((t.f&Ee)!==0){t.f^=Ee,(t.f&ue)===0&&(ae(t,pe),Ge(t));for(var r=t.first;r!==null;){var n=r.next,a=(r.f&vt)!==0||(r.f&Ye)!==0;ka(r,a?e:!1),r=n}var i=t.nodes&&t.nodes.t;if(i!==null)for(const o of i)(o.is_global||e)&&o.in()}}function Aa(t,e){if(t.nodes)for(var r=t.nodes.start,n=t.nodes.end;r!==null;){var a=r===n?null:Qt(r);e.append(r),r=a}}let ct=!1;function or(t){ct=t}let nt=!1;function bn(t){nt=t}let G=null,xe=!1;function me(t){G=t}let Y=null;function $e(t){Y=t}let We=null;function Oa(t){G!==null&&(We===null?We=[t]:We.push(t))}let ve=null,Te=0,ke=null;function lo(t){ke=t}let Na=1,Ht=0,dt=Ht;function mn(t){dt=t}function Pa(){return++Na}function $t(t){var e=t.f;if((e&pe)!==0)return!0;if(e&fe&&(t.f&=~ht),(e&je)!==0){for(var r=t.deps,n=r.length,a=0;a<n;a++){var i=r[a];if($t(i)&&ca(i),i.wv>t.wv)return!0}(e&Ne)!==0&&Fe===null&&ae(t,ue)}return!1}function Da(t,e,r=!0){var n=t.reactions;if(n!==null&&!We?.includes(t))for(var a=0;a<n.length;a++){var i=n[a];(i.f&fe)!==0?Da(i,e,!1):e===i&&(r?ae(i,pe):(i.f&ue)!==0&&ae(i,je),Ge(i))}}function Fa(t){var e=ve,r=Te,n=ke,a=G,i=We,o=X,l=xe,s=dt,u=t.f;ve=null,Te=0,ke=null,G=(u&(Ye|bt))===0?t:null,We=null,At(t.ctx),xe=!1,dt=++Ht,t.ac!==null&&(Qr(()=>{t.ac.abort(St)}),t.ac=null);try{t.f|=Fr;var h=t.fn,b=h(),v=t.deps;if(ve!==null){var m;if(sr(t,Te),v!==null&&Te>0)for(v.length=Te+ve.length,m=0;m<ve.length;m++)v[Te+m]=ve[m];else t.deps=v=ve;if(Xr()&&(t.f&Ne)!==0)for(m=Te;m<v.length;m++)(v[m].reactions??=[]).push(t)}else v!==null&&Te<v.length&&(sr(t,Te),v.length=Te);if(Yt()&&ke!==null&&!xe&&v!==null&&(t.f&(fe|je|pe))===0)for(m=0;m<ke.length;m++)Da(ke[m],t);return a!==null&&a!==t&&(Ht++,ke!==null&&(n===null?n=ke:n.push(...ke))),(t.f&tt)!==0&&(t.f^=tt),b}catch(N){return ia(N)}finally{t.f^=Fr,ve=e,Te=r,ke=n,G=a,We=i,At(o),xe=l,dt=s}}function uo(t,e){let r=e.reactions;if(r!==null){var n=li.call(r,t);if(n!==-1){var a=r.length-1;a===0?r=e.reactions=null:(r[n]=r[a],r.pop())}}if(r===null&&(e.f&fe)!==0&&(ve===null||!ve.includes(e))){var i=e;(i.f&Ne)!==0&&(i.f^=Ne,i.f&=~ht),Jr(i),fa(i),sr(i,0)}}function sr(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)uo(t,r[n])}function Dt(t){var e=t.f;if((e&Be)===0){ae(t,ue);var r=Y,n=ct;Y=t,ct=!0;try{(e&(Je|Yn))!==0?oo(t):Ta(t),Sa(t);var a=Fa(t);t.teardown=typeof a=="function"?a:null,t.wv=Na;var i;Pr&&Li&&(t.f&pe)!==0&&t.deps}finally{ct=n,Y=r}}}function d(t){var e=t.f,r=(e&fe)!==0;if(G!==null&&!xe){var n=Y!==null&&(Y.f&Be)!==0;if(!n&&!We?.includes(t)){var a=G.deps;if((G.f&Fr)!==0)t.rv<Ht&&(t.rv=Ht,ve===null&&a!==null&&a[Te]===t?Te++:ve===null?ve=[t]:ve.includes(t)||ve.push(t));else{(G.deps??=[]).push(t);var i=t.reactions;i===null?t.reactions=[G]:i.includes(G)||i.push(G)}}}if(nt&&rt.has(t))return rt.get(t);if(r){var o=t;if(nt){var l=o.v;return((o.f&ue)===0&&o.reactions!==null||Ra(o))&&(l=Zr(o)),rt.set(o,l),l}var s=(o.f&Ne)===0&&!xe&&G!==null&&(ct||(G.f&Ne)!==0),u=o.deps===null;$t(o)&&(s&&(o.f|=Ne),ca(o)),s&&!u&&xa(o)}if(Fe?.has(t))return Fe.get(t);if((t.f&tt)!==0)throw t.v;return t.v}function xa(t){if(t.deps!==null){t.f|=Ne;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&fe)!==0&&(e.f&Ne)===0&&xa(e)}}function Ra(t){if(t.v===oe)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(rt.has(e)||(e.f&fe)!==0&&Ra(e))return!0;return!1}function Z(t){var e=xe;try{return xe=!0,t()}finally{xe=e}}function $(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(ut in t)Lr(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&ut in r&&Lr(r)}}}function Lr(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{Lr(t[n],e)}catch{}const r=Vr(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Gn(r);for(let a in n){const i=n[a].get;if(i)try{i.call(t)}catch{}}}}}const fo=["touchstart","touchmove"];function co(t){return fo.includes(t)}const vo=new Set,yn=new Set;function ho(t,e,r,n={}){function a(i){if(n.capture||zt.call(e,i),!i.cancelBubble)return Qr(()=>r?.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Lt(()=>{e.addEventListener(t,a,n)}):e.addEventListener(t,a,n),a}function be(t,e,r,n,a){var i={capture:n,passive:a},o=ho(t,e,r,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&en(()=>{e.removeEventListener(t,o,i)})}let _n=null;function zt(t){var e=this,r=e.ownerDocument,n=t.type,a=t.composedPath?.()||[],i=a[0]||t.target;_n=t;var o=0,l=_n===t&&t.__root;if(l){var s=a.indexOf(l);if(s!==-1&&(e===document||e===window)){t.__root=e;return}var u=a.indexOf(e);if(u===-1)return;s<=u&&(o=s)}if(i=a[o]||t.target,i!==e){Wn(t,"currentTarget",{configurable:!0,get(){return i||r}});var h=G,b=Y;me(null),$e(null);try{for(var v,m=[];i!==null;){var N=i.assignedSlot||i.parentNode||i.host||null;try{var R=i["__"+n];R!=null&&(!i.disabled||t.target===i)&&R.call(i,t)}catch(p){v?m.push(p):v=p}if(t.cancelBubble||N===e||N===null)break;i=N}if(v){for(let p of m)queueMicrotask(()=>{throw p});throw v}}finally{t.__root=e,delete t.currentTarget,me(h),$e(b)}}}function Ia(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Wt(t,e){var r=Y;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function Q(t,e){var r=(e&xi)!==0,n=(e&Ri)!==0,a,i=!t.startsWith("<!>");return()=>{a===void 0&&(a=Ia(i?t:"<!>"+t),r||(a=Pt(a)));var o=n||pa?document.importNode(a,!0):a.cloneNode(!0);if(r){var l=Pt(o),s=o.lastChild;Wt(l,s)}else Wt(o,o);return o}}function po(t,e,r="svg"){var n=!t.startsWith("<!>"),a=`<${r}>${n?t:"<!>"+t}</${r}>`,i;return()=>{if(!i){var o=Ia(a),l=Pt(o);i=Pt(l)}var s=i.cloneNode(!0);return Wt(s,s),s}}function Ma(t,e){return po(t,e,"svg")}function lr(t=""){{var e=He(t+"");return Wt(e,e),e}}function Sr(){var t=document.createDocumentFragment(),e=document.createComment(""),r=He();return t.append(e,r),Wt(e,r),t}function V(t,e){t!==null&&t.before(e)}function Oe(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function go(t,e){return bo(t,e)}const yt=new Map;function bo(t,{target:e,anchor:r,props:n={},events:a,context:i,intro:o=!0}){eo();var l=new Set,s=b=>{for(var v=0;v<b.length;v++){var m=b[v];if(!l.has(m)){l.add(m);var N=co(m);e.addEventListener(m,zt,{passive:N});var R=yt.get(m);R===void 0?(document.addEventListener(m,zt,{passive:N}),yt.set(m,1)):yt.set(m,R+1)}}};s(mr(vo)),yn.add(s);var u=void 0,h=ao(()=>{var b=r??e.appendChild(He());return Wi(b,{pending:()=>{}},v=>{if(i){ce({});var m=X;m.c=i}a&&(n.$$events=a),u=t(v,n)||{},i&&de()}),()=>{for(var v of l){e.removeEventListener(v,zt);var m=yt.get(v);--m===0?(document.removeEventListener(v,zt),yt.delete(v)):yt.set(v,m)}yn.delete(s),b!==r&&b.parentNode?.removeChild(b)}});return mo.set(u,h),u}let mo=new WeakMap;class La{anchor;#e=new Map;#n=new Map;#t=new Map;#a=new Set;#o=!0;constructor(e,r=!0){this.anchor=e,this.#o=r}#i=()=>{var e=re;if(this.#e.has(e)){var r=this.#e.get(e),n=this.#n.get(r);if(n)tn(n),this.#a.delete(r);else{var a=this.#t.get(r);a&&(this.#n.set(r,a.effect),this.#t.delete(r),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),n=a.effect)}for(const[i,o]of this.#e){if(this.#e.delete(i),i===e)break;const l=this.#t.get(o);l&&(_e(l.effect),this.#t.delete(o))}for(const[i,o]of this.#n){if(i===r||this.#a.has(i))continue;const l=()=>{if(Array.from(this.#e.values()).includes(i)){var u=document.createDocumentFragment();Aa(o,u),u.append(He()),this.#t.set(i,{effect:o,fragment:u})}else _e(o);this.#a.delete(i),this.#n.delete(i)};this.#o||!n?(this.#a.add(i),ft(o,l,!1)):l()}}};#r=e=>{this.#e.delete(e);const r=Array.from(this.#e.values());for(const[n,a]of this.#t)r.includes(n)||(_e(a.effect),this.#t.delete(n))};ensure(e,r){var n=re,a=ma();if(r&&!this.#n.has(e)&&!this.#t.has(e))if(a){var i=document.createDocumentFragment(),o=He();i.append(o),this.#t.set(e,{effect:Ae(()=>r(o)),fragment:i})}else this.#n.set(e,Ae(()=>r(this.anchor)));if(this.#e.set(n,e),a){for(const[l,s]of this.#n)l===e?n.skipped_effects.delete(s):n.skipped_effects.add(s);for(const[l,s]of this.#t)l===e?n.skipped_effects.delete(s.effect):n.skipped_effects.add(s.effect);n.oncommit(this.#i),n.ondiscard(this.#r)}else this.#i()}}function le(t,e,r=!1){var n=new La(t),a=r?vt:0;function i(o,l){n.ensure(o,l)}wr(()=>{var o=!1;e((l,s=!0)=>{o=!0,i(s,l)}),o||i(!1,null)},a)}function Gt(t,e){return e}function yo(t,e,r){for(var n=[],a=e.length,i,o=e.length,l=0;l<a;l++){let b=e[l];ft(b,()=>{if(i){if(i.pending.delete(b),i.done.add(b),i.pending.size===0){var v=t.outrogroups;$r(mr(i.done)),v.delete(i),v.size===0&&(t.outrogroups=null)}}else o-=1},!1)}if(o===0){var s=n.length===0&&r!==null;if(s){var u=r,h=u.parentNode;to(h),h.append(u),t.items.clear()}$r(e,!s)}else i={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(i)}function $r(t,e=!0){for(var r=0;r<t.length;r++)_e(t[r],e)}var wn;function Ft(t,e,r,n,a,i=null){var o=t,l=new Map,s=(e&Xn)!==0;if(s){var u=t;o=u.appendChild(He())}var h=null,b=Re(()=>{var _=r();return br(_)?_:_==null?[]:mr(_)}),v,m=!0;function N(){p.fallback=h,_o(p,v,o,e,n),h!==null&&(v.length===0?(h.f&Ve)===0?tn(h):(h.f^=Ve,qt(h,null,o)):ft(h,()=>{h=null}))}var R=wr(()=>{v=d(b);for(var _=v.length,c=new Set,y=re,S=ma(),A=0;A<_;A+=1){var w=v[A],O=n(w,A),D=m?null:l.get(O);D?(D.v&&Nt(D.v,w),D.i&&Nt(D.i,A),S&&y.skipped_effects.delete(D.e)):(D=wo(l,m?o:wn??=He(),w,O,A,a,e,r),m||(D.e.f|=Ve),l.set(O,D)),c.add(O)}if(_===0&&i&&!h&&(m?h=Ae(()=>i(o)):(h=Ae(()=>i(wn??=He())),h.f|=Ve)),!m)if(S){for(const[j,z]of l)c.has(j)||y.skipped_effects.add(z.e);y.oncommit(N),y.ondiscard(()=>{})}else N();d(b)}),p={effect:R,items:l,outrogroups:null,fallback:h};m=!1}function _o(t,e,r,n,a){var i=(n&ki)!==0,o=e.length,l=t.items,s=t.effect.first,u,h=null,b,v=[],m=[],N,R,p,_;if(i)for(_=0;_<o;_+=1)N=e[_],R=a(N,_),p=l.get(R).e,(p.f&Ve)===0&&(p.nodes?.a?.measure(),(b??=new Set).add(p));for(_=0;_<o;_+=1){if(N=e[_],R=a(N,_),p=l.get(R).e,t.outrogroups!==null)for(const z of t.outrogroups)z.pending.delete(p),z.done.delete(p);if((p.f&Ve)!==0)if(p.f^=Ve,p===s)qt(p,null,r);else{var c=h?h.next:s;p===t.effect.last&&(t.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),Xe(t,h,p),Xe(t,p,c),qt(p,c,r),h=p,v=[],m=[],s=h.next;continue}if((p.f&Ee)!==0&&(tn(p),i&&(p.nodes?.a?.unfix(),(b??=new Set).delete(p))),p!==s){if(u!==void 0&&u.has(p)){if(v.length<m.length){var y=m[0],S;h=y.prev;var A=v[0],w=v[v.length-1];for(S=0;S<v.length;S+=1)qt(v[S],y,r);for(S=0;S<m.length;S+=1)u.delete(m[S]);Xe(t,A.prev,w.next),Xe(t,h,A),Xe(t,w,y),s=y,h=w,_-=1,v=[],m=[]}else u.delete(p),qt(p,s,r),Xe(t,p.prev,p.next),Xe(t,p,h===null?t.effect.first:h.next),Xe(t,h,p),h=p;continue}for(v=[],m=[];s!==null&&s!==p;)(u??=new Set).add(s),m.push(s),s=s.next;if(s===null)continue}(p.f&Ve)===0&&v.push(p),h=p,s=p.next}if(t.outrogroups!==null){for(const z of t.outrogroups)z.pending.size===0&&($r(mr(z.done)),t.outrogroups?.delete(z));t.outrogroups.size===0&&(t.outrogroups=null)}if(s!==null||u!==void 0){var O=[];if(u!==void 0)for(p of u)(p.f&Ee)===0&&O.push(p);for(;s!==null;)(s.f&Ee)===0&&s!==t.fallback&&O.push(s),s=s.next;var D=O.length;if(D>0){var j=(n&Xn)!==0&&o===0?r:null;if(i){for(_=0;_<D;_+=1)O[_].nodes?.a?.measure();for(_=0;_<D;_+=1)O[_].nodes?.a?.fix()}yo(t,O,j)}}i&&Lt(()=>{if(b!==void 0)for(p of b)p.nodes?.a?.apply()})}function wo(t,e,r,n,a,i,o,l){var s=(o&Ei)!==0?(o&Ai)===0?L(r,!1,!1):pt(r):null,u=(o&Ci)!==0?pt(a):null;return{v:s,i:u,e:Ae(()=>(i(e,s??r,u??a,l),()=>{t.delete(n)}))}}function qt(t,e,r){if(t.nodes)for(var n=t.nodes.start,a=t.nodes.end,i=e&&(e.f&Ve)===0?e.nodes.start:r;n!==null;){var o=Qt(n);if(i.before(n),n===a)return;n=o}}function Xe(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function Tr(t,e,r,n,a){var i=e.$$slots?.[r],o=!1;i===!0&&(i=e.children,o=!0),i===void 0?a!==null&&a(t):i(t,o?()=>n:n)}function So(t,e,r){var n=new La(t);wr(()=>{var a=e()??null;n.ensure(a,a&&(i=>r(i,a)))},vt)}const Sn=[...` 	
\r\fÂ \v\uFEFF`];function To(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var a in r)if(r[a])n=n?n+" "+a:a;else if(n.length)for(var i=a.length,o=0;(o=n.indexOf(a,o))>=0;){var l=o+i;(o===0||Sn.includes(n[o-1]))&&(l===n.length||Sn.includes(n[l]))?n=(o===0?"":n.substring(0,o))+n.substring(l+1):o=l}}return n===""?null:n}function Tn(t,e=!1){var r=e?" !important;":";",n="";for(var a in t){var i=t[a];i!=null&&i!==""&&(n+=" "+a+": "+i+r)}return n}function kr(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Eo(t,e){if(e){var r="",n,a;if(Array.isArray(e)?(n=e[0],a=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,o=0,l=!1,s=[];n&&s.push(...Object.keys(n).map(kr)),a&&s.push(...Object.keys(a).map(kr));var u=0,h=-1;const R=t.length;for(var b=0;b<R;b++){var v=t[b];if(l?v==="/"&&t[b-1]==="*"&&(l=!1):i?i===v&&(i=!1):v==="/"&&t[b+1]==="*"?l=!0:v==='"'||v==="'"?i=v:v==="("?o++:v===")"&&o--,!l&&i===!1&&o===0){if(v===":"&&h===-1)h=b;else if(v===";"||b===R-1){if(h!==-1){var m=kr(t.substring(u,h).trim());if(!s.includes(m)){v!==";"&&b++;var N=t.substring(u,b).trim();r+=" "+N+";"}}u=b+1,h=-1}}}}return n&&(r+=Tn(n)),a&&(r+=Tn(a,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function he(t,e,r,n,a,i){var o=t.__className;if(o!==r||o===void 0){var l=To(r,n,i);l==null?t.removeAttribute("class"):e?t.className=l:t.setAttribute("class",l),t.__className=r}else if(i&&a!==i)for(var s in i){var u=!!i[s];(a==null||u!==!!a[s])&&t.classList.toggle(s,u)}return i}function Ar(t,e={},r,n){for(var a in r){var i=r[a];e[a]!==i&&(r[a]==null?t.style.removeProperty(a):t.style.setProperty(a,i,n))}}function ur(t,e,r,n){var a=t.__style;if(a!==e){var i=Eo(e,n);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else n&&(Array.isArray(n)?(Ar(t,r?.[0],n[0]),Ar(t,r?.[1],n[1],"important")):Ar(t,r,n));return n}const Co=Symbol("is custom element"),ko=Symbol("is html");function ye(t,e,r,n){var a=Ao(t);a[e]!==(a[e]=r)&&(e==="loading"&&(t[vi]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Oo(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Ao(t){return t.__attributes??={[Co]:t.nodeName.includes("-"),[ko]:t.namespaceURI===Ii}}var En=new Map;function Oo(t){var e=t.getAttribute("is")||t.nodeName,r=En.get(e);if(r)return r;En.set(e,r=[]);for(var n,a=t,i=Element.prototype;i!==a;){n=Gn(a);for(var o in n)n[o].set&&r.push(o);a=Vr(a)}return r}class rn{#e=new WeakMap;#n;#t;static entries=new WeakMap;constructor(e){this.#t=e}observe(e,r){var n=this.#e.get(e)||new Set;return n.add(r),this.#e.set(e,n),this.#a().observe(e,this.#t),()=>{var a=this.#e.get(e);a.delete(r),a.size===0&&(this.#e.delete(e),this.#n.unobserve(e))}}#a(){return this.#n??(this.#n=new ResizeObserver(e=>{for(var r of e){rn.entries.set(r.target,r);for(var n of this.#e.get(r.target)||[])n(r)}}))}}var No=new rn({box:"border-box"});function Cn(t,e,r){var n=No.observe(t,()=>r(t[e]));wa(()=>(Z(()=>r(t[e])),n))}function kn(t,e){return t===e||t?.[ut]===e}function Po(t={},e,r,n){return wa(()=>{var a,i;return _r(()=>{a=i,i=[],Z(()=>{t!==r(...i)&&(e(t,...i),a&&kn(r(...a),t)&&e(null,...a))})}),()=>{Lt(()=>{i&&kn(r(...i),t)&&e(null,...i)})}}),t}function we(t=!1){const e=X,r=e.l.u;if(!r)return;let n=()=>$(e.s);if(t){let a=0,i={};const o=Zt(()=>{let l=!1;const s=e.s;for(const u in s)s[u]!==i[u]&&(i[u]=s[u],l=!0);return l&&a++,a});n=()=>d(o)}r.b.length&&no(()=>{An(e,n),Dr(r.b)}),Mr(()=>{const a=Z(()=>r.m.map(ci));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&Mr(()=>{An(e,n),Dr(r.a)})}function An(t,e){if(t.l.s)for(const r of t.l.s)d(r);e()}function jr(t,e){var r=t.$$events?.[e.type],n=br(r)?r.slice():r==null?[]:[r];for(var a of n)a.call(this,e)}function $a(t,e,r){if(t==null)return e(void 0),kt;const n=Z(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}const _t=[];function nn(t,e=kt){let r=null;const n=new Set;function a(l){if(ta(t,l)&&(t=l,r)){const s=!_t.length;for(const u of n)u[1](),_t.push(u,t);if(s){for(let u=0;u<_t.length;u+=2)_t[u][0](_t[u+1]);_t.length=0}}}function i(l){a(l(t))}function o(l,s=kt){const u=[l,s];return n.add(u),n.size===1&&(r=e(a,i)||kt),l(t),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:a,update:i,subscribe:o}}function ja(t){let e;return $a(t,r=>e=r)(),e}let tr=!1,Ur=Symbol();function at(t,e,r){const n=r[e]??={store:null,source:L(void 0),unsubscribe:kt};if(n.store!==t&&!(Ur in r))if(n.unsubscribe(),n.store=t??null,t==null)n.source.v=void 0,n.unsubscribe=kt;else{var a=!0;n.unsubscribe=$a(t,i=>{a?n.source.v=i:x(n.source,i)}),a=!1}return t&&Ur in r?ja(t):d(n.source)}function mt(){const t={};function e(){en(()=>{for(var r in t)t[r].unsubscribe();Wn(t,Ur,{enumerable:!1,value:!0})})}return[t,e]}function Do(t){var e=tr;try{return tr=!1,[t(),tr]}finally{tr=e}}function B(t,e,r,n){var a=!Mt||(r&Ni)!==0,i=(r&Di)!==0,o=(r&Fi)!==0,l=n,s=!0,u=()=>(s&&(s=!1,l=o?Z(n):n),l),h;if(i){var b=ut in t||di in t;h=Ct(t,e)?.set??(b&&e in t?y=>t[e]=y:void 0)}var v,m=!1;i?[v,m]=Do(()=>t[e]):v=t[e],v===void 0&&n!==void 0&&(v=u(),h&&(a&&yi(),h(v)));var N;if(a?N=()=>{var y=t[e];return y===void 0?u():(s=!0,y)}:N=()=>{var y=t[e];return y!==void 0&&(l=void 0),y===void 0?l:y},a&&(r&Pi)===0)return N;if(h){var R=t.$$legacy;return(function(y,S){return arguments.length>0?((!a||!S||R||m)&&h(S?N():y),y):N()})}var p=!1,_=((r&Oi)!==0?Zt:Re)(()=>(p=!1,N()));i&&d(_);var c=Y;return(function(y,S){if(arguments.length>0){const A=S?d(_):a&&i?Et(y):y;return x(_,A),p=!0,l!==void 0&&(l=A),y}return nt&&p||(c.f&Be)!==0?_.v:d(_)})}function Xt(t){X===null&&yr(),Mt&&X.l!==null?xo(X).m.push(t):Mr(()=>{const e=Z(t);if(typeof e=="function")return e})}function Ua(t){X===null&&yr(),Xt(()=>()=>Z(t))}function Fo(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}function an(){const t=X;return t===null&&yr(),(e,r,n)=>{const a=t.s.$$events?.[e];if(a){const i=br(a)?a.slice():[a],o=Fo(e,r,n);for(const l of i)l.call(t.x,o);return!o.defaultPrevented}return!0}}function xo(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const Ro="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ro);$i();var Io=Q("<span> </span>"),Mo=Q('<footer class="svelte-1sr6y3t"><a href="https://github.com/kangasta/pileon.git" target="_blank">kangasta / pileon</a> <!></footer>');function Lo(t,e){ce(e,!1);const r="",n="c647d36fa7169d79c78805b6fa990342d09c092e".slice(0,8);we();var a=Mo(),i=K(M(a),2);{var o=l=>{var s=Io(),u=M(s);ne(()=>Oe(u,`at ${r} ${n??""}`)),V(l,s)};le(i,l=>{(n||r)&&l(o)})}V(t,a),de()}const Ka="settings",$o={game:"pileon",colors:"default",size:"default"},jo=JSON.parse(localStorage.getItem(Ka)??"null"),xt=nn(jo??$o);xt.subscribe(t=>localStorage.setItem(Ka,JSON.stringify(t)));const Uo={},Rt=nn(Uo);var za=["input:not([inert]):not([inert] *)","select:not([inert]):not([inert] *)","textarea:not([inert]):not([inert] *)","a[href]:not([inert]):not([inert] *)","button:not([inert]):not([inert] *)","[tabindex]:not(slot):not([inert]):not([inert] *)","audio[controls]:not([inert]):not([inert] *)","video[controls]:not([inert]):not([inert] *)",'[contenteditable]:not([contenteditable="false"]):not([inert]):not([inert] *)',"details>summary:first-of-type:not([inert]):not([inert] *)","details:not([inert]):not([inert] *)"],fr=za.join(","),qa=typeof Element>"u",gt=qa?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,cr=!qa&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},dr=function(e,r){var n;r===void 0&&(r=!0);var a=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),i=a===""||a==="true",o=i||r&&e&&(typeof e.closest=="function"?e.closest("[inert]"):dr(e.parentNode));return o},Ko=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},Va=function(e,r,n){if(dr(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(fr));return r&&gt.call(e,fr)&&a.unshift(e),a=a.filter(n),a},vr=function(e,r,n){for(var a=[],i=Array.from(e);i.length;){var o=i.shift();if(!dr(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),s=l.length?l:o.children,u=vr(s,!0,n);n.flatten?a.push.apply(a,u):a.push({scopeParent:o,candidates:u})}else{var h=gt.call(o,fr);h&&n.filter(o)&&(r||!e.includes(o))&&a.push(o);var b=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),v=!dr(b,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(b&&v){var m=vr(b===!0?o.children:b.children,!0,n);n.flatten?a.push.apply(a,m):a.push({scopeParent:o,candidates:m})}else i.unshift.apply(i,o.children)}}return a},Ba=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},lt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ko(e))&&!Ba(e)?0:e.tabIndex},zo=function(e,r){var n=lt(e);return n<0&&r&&!Ba(e)?0:n},qo=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Ha=function(e){return e.tagName==="INPUT"},Vo=function(e){return Ha(e)&&e.type==="hidden"},Bo=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},Ho=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},Wo=function(e){if(!e.name)return!0;var r=e.form||cr(e),n=function(l){return r.querySelectorAll('input[type="radio"][name="'+l+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(e.name));else try{a=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=Ho(a,e.form);return!i||i===e},Go=function(e){return Ha(e)&&e.type==="radio"},Jo=function(e){return Go(e)&&!Wo(e)},Yo=function(e){var r,n=e&&cr(e),a=(r=n)===null||r===void 0?void 0:r.host,i=!1;if(n&&n!==e){var o,l,s;for(i=!!((o=a)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(a)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!i&&a;){var u,h,b;n=cr(a),a=(u=n)===null||u===void 0?void 0:u.host,i=!!((h=a)!==null&&h!==void 0&&(b=h.ownerDocument)!==null&&b!==void 0&&b.contains(a))}}return i},On=function(e){var r=e.getBoundingClientRect(),n=r.width,a=r.height;return n===0&&a===0},Zo=function(e,r){var n=r.displayCheck,a=r.getShadowRoot;if(n==="full-native"&&"checkVisibility"in e){var i=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(e).visibility==="hidden")return!0;var o=gt.call(e,"details>summary:first-of-type"),l=o?e.parentElement:e;if(gt.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof a=="function"){for(var s=e;e;){var u=e.parentElement,h=cr(e);if(u&&!u.shadowRoot&&a(u)===!0)return On(e);e.assignedSlot?e=e.assignedSlot:!u&&h!==e.ownerDocument?e=h.host:e=u}e=s}if(Yo(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return On(e);return!1},Qo=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var a=r.children.item(n);if(a.tagName==="LEGEND")return gt.call(r,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}r=r.parentElement}return!1},hr=function(e,r){return!(r.disabled||Vo(r)||Zo(r,e)||Bo(r)||Qo(r))},Kr=function(e,r){return!(Jo(r)||lt(r)<0||!hr(e,r))},Xo=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},Wa=function(e){var r=[],n=[];return e.forEach(function(a,i){var o=!!a.scopeParent,l=o?a.scopeParent:a,s=zo(l,o),u=o?Wa(a.candidates):l;s===0?o?r.push.apply(r,u):r.push(l):n.push({documentOrder:i,tabIndex:s,item:a,isScope:o,content:u})}),n.sort(qo).reduce(function(a,i){return i.isScope?a.push.apply(a,i.content):a.push(i.content),a},[]).concat(r)},es=function(e,r){r=r||{};var n;return r.getShadowRoot?n=vr([e],r.includeContainer,{filter:Kr.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Xo}):n=Va(e,r.includeContainer,Kr.bind(null,r)),Wa(n)},ts=function(e,r){r=r||{};var n;return r.getShadowRoot?n=vr([e],r.includeContainer,{filter:hr.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=Va(e,r.includeContainer,hr.bind(null,r)),n},wt=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return gt.call(e,fr)===!1?!1:Kr(r,e)},rs=za.concat("iframe:not([inert]):not([inert] *)").join(","),Or=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return gt.call(e,rs)===!1?!1:hr(r,e)};function zr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ns(t){if(Array.isArray(t))return zr(t)}function Nn(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ga(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){l=!0,i=s},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function as(t,e,r){return(e=us(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function is(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function os(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pn(Object(r),!0).forEach(function(n){as(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ss(t){return ns(t)||is(t)||Ga(t)||os()}function ls(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function us(t){var e=ls(t,"string");return typeof e=="symbol"?e:e+""}function Ga(t,e){if(t){if(typeof t=="string")return zr(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zr(t,e):void 0}}var qe={getActiveTrap:function(e){return e?.length>0?e[e.length-1]:null},activateTrap:function(e,r){var n=qe.getActiveTrap(e);r!==n&&qe.pauseTrap(e);var a=e.indexOf(r);a===-1||e.splice(a,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),qe.unpauseTrap(e)},pauseTrap:function(e){var r=qe.getActiveTrap(e);r?._setPausedState(!0)},unpauseTrap:function(e){var r=qe.getActiveTrap(e);r&&!r._isManuallyPaused()&&r._setPausedState(!1)}},fs=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},cs=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},Bt=function(e){return e?.key==="Tab"||e?.keyCode===9},ds=function(e){return Bt(e)&&!e.shiftKey},vs=function(e){return Bt(e)&&e.shiftKey},Fn=function(e){return setTimeout(e,0)},jt=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,n):e},rr=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},hs=[],ps=function(e,r){var n=r?.document||document,a=r?.trapStack||hs,i=Dn({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isolateSubtrees:!1,isKeyForward:ds,isKeyBackward:vs},r),o={containers:[],containerGroups:[],tabbableGroups:[],adjacentElements:new Set,alreadyInert:new Set,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,s=function(C,T,f){return C&&C[T]!==void 0?C[T]:i[f||T]},u=function(C,T){var f=typeof T?.composedPath=="function"?T.composedPath():void 0;return o.containerGroups.findIndex(function(g){var k=g.container,P=g.tabbableNodes;return k.contains(C)||f?.includes(k)||P.find(function(E){return E===C})})},h=function(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=T.hasFallback,g=f===void 0?!1:f,k=T.params,P=k===void 0?[]:k,E=i[C];if(typeof E=="function"&&(E=E.apply(void 0,ss(P))),E===!0&&(E=void 0),!E){if(E===void 0||E===!1)return E;throw new Error("`".concat(C,"` was specified but was not a node, or did not return a node"))}var F=E;if(typeof E=="string"){try{F=n.querySelector(E)}catch(I){throw new Error("`".concat(C,'` appears to be an invalid selector; error="').concat(I.message,'"'))}if(!F&&!g)throw new Error("`".concat(C,"` as selector refers to no known node"))}return F},b=function(){var C=h("initialFocus",{hasFallback:!0});if(C===!1)return!1;if(C===void 0||C&&!Or(C,i.tabbableOptions))if(u(n.activeElement)>=0)C=n.activeElement;else{var T=o.tabbableGroups[0],f=T&&T.firstTabbableNode;C=f||h("fallbackFocus")}else C===null&&(C=h("fallbackFocus"));if(!C)throw new Error("Your focus-trap needs to have at least one focusable element");return C},v=function(){if(o.containerGroups=o.containers.map(function(C){var T=es(C,i.tabbableOptions),f=ts(C,i.tabbableOptions),g=T.length>0?T[0]:void 0,k=T.length>0?T[T.length-1]:void 0,P=f.find(function(I){return wt(I)}),E=f.slice().reverse().find(function(I){return wt(I)}),F=!!T.find(function(I){return lt(I)>0});return{container:C,tabbableNodes:T,focusableNodes:f,posTabIndexesFound:F,firstTabbableNode:g,lastTabbableNode:k,firstDomTabbableNode:P,lastDomTabbableNode:E,nextTabbableNode:function(q){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,te=T.indexOf(q);return te<0?ee?f.slice(f.indexOf(q)+1).find(function(ge){return wt(ge)}):f.slice(0,f.indexOf(q)).reverse().find(function(ge){return wt(ge)}):T[te+(ee?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(C){return C.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(C){return C.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function(C){var T=C.activeElement;if(T)return T.shadowRoot&&T.shadowRoot.activeElement!==null?m(T.shadowRoot):T},N=function(C){if(C!==!1&&C!==m(document)){if(!C||!C.focus){N(b());return}C.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=C,fs(C)&&C.select()}},R=function(C){var T=h("setReturnFocus",{params:[C]});return T||(T===!1?!1:C)},p=function(C){var T=C.target,f=C.event,g=C.isBackward,k=g===void 0?!1:g;T=T||rr(f),v();var P=null;if(o.tabbableGroups.length>0){var E=u(T,f),F=E>=0?o.containerGroups[E]:void 0;if(E<0)k?P=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:P=o.tabbableGroups[0].firstTabbableNode;else if(k){var I=o.tabbableGroups.findIndex(function(it){var Pe=it.firstTabbableNode;return T===Pe});if(I<0&&(F.container===T||Or(T,i.tabbableOptions)&&!wt(T,i.tabbableOptions)&&!F.nextTabbableNode(T,!1))&&(I=E),I>=0){var q=I===0?o.tabbableGroups.length-1:I-1,ee=o.tabbableGroups[q];P=lt(T)>=0?ee.lastTabbableNode:ee.lastDomTabbableNode}else Bt(f)||(P=F.nextTabbableNode(T,!1))}else{var te=o.tabbableGroups.findIndex(function(it){var Pe=it.lastTabbableNode;return T===Pe});if(te<0&&(F.container===T||Or(T,i.tabbableOptions)&&!wt(T,i.tabbableOptions)&&!F.nextTabbableNode(T))&&(te=E),te>=0){var ge=te===o.tabbableGroups.length-1?0:te+1,Se=o.tabbableGroups[ge];P=lt(T)>=0?Se.firstTabbableNode:Se.firstDomTabbableNode}else Bt(f)||(P=F.nextTabbableNode(T))}}else P=h("fallbackFocus");return P},_=function(C){var T=rr(C);if(!(u(T,C)>=0)){if(jt(i.clickOutsideDeactivates,C)){l.deactivate({returnFocus:i.returnFocusOnDeactivate});return}jt(i.allowOutsideClick,C)||C.preventDefault()}},c=function(C){var T=rr(C),f=u(T,C)>=0;if(f||T instanceof Document)f&&(o.mostRecentlyFocusedNode=T);else{C.stopImmediatePropagation();var g,k=!0;if(o.mostRecentlyFocusedNode)if(lt(o.mostRecentlyFocusedNode)>0){var P=u(o.mostRecentlyFocusedNode),E=o.containerGroups[P].tabbableNodes;if(E.length>0){var F=E.findIndex(function(I){return I===o.mostRecentlyFocusedNode});F>=0&&(i.isKeyForward(o.recentNavEvent)?F+1<E.length&&(g=E[F+1],k=!1):F-1>=0&&(g=E[F-1],k=!1))}}else o.containerGroups.some(function(I){return I.tabbableNodes.some(function(q){return lt(q)>0})})||(k=!1);else k=!1;k&&(g=p({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),N(g||o.mostRecentlyFocusedNode||b())}o.recentNavEvent=void 0},y=function(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=C;var f=p({event:C,isBackward:T});f&&(Bt(C)&&C.preventDefault(),N(f))},S=function(C){(i.isKeyForward(C)||i.isKeyBackward(C))&&y(C,i.isKeyBackward(C))},A=function(C){cs(C)&&jt(i.escapeDeactivates,C)!==!1&&(C.preventDefault(),l.deactivate())},w=function(C){var T=rr(C);u(T,C)>=0||jt(i.clickOutsideDeactivates,C)||jt(i.allowOutsideClick,C)||(C.preventDefault(),C.stopImmediatePropagation())},O=function(){if(o.active)return qe.activateTrap(a,l),o.delayInitialFocusTimer=i.delayInitialFocus?Fn(function(){N(b())}):N(b()),n.addEventListener("focusin",c,!0),n.addEventListener("mousedown",_,{capture:!0,passive:!1}),n.addEventListener("touchstart",_,{capture:!0,passive:!1}),n.addEventListener("click",w,{capture:!0,passive:!1}),n.addEventListener("keydown",S,{capture:!0,passive:!1}),n.addEventListener("keydown",A),l},D=function(C){o.active&&!o.paused&&l._setSubtreeIsolation(!1),o.adjacentElements.clear(),o.alreadyInert.clear();var T=new Set,f=new Set,g=Nn(C),k;try{for(g.s();!(k=g.n()).done;){var P=k.value;T.add(P);for(var E=typeof ShadowRoot<"u"&&P.getRootNode()instanceof ShadowRoot,F=P;F;){T.add(F);var I=F.parentElement,q=[];I?q=I.children:!I&&E&&(q=F.getRootNode().children,I=F.getRootNode().host,E=typeof ShadowRoot<"u"&&I.getRootNode()instanceof ShadowRoot);var ee=Nn(q),te;try{for(ee.s();!(te=ee.n()).done;){var ge=te.value;f.add(ge)}}catch(Se){ee.e(Se)}finally{ee.f()}F=I}}}catch(Se){g.e(Se)}finally{g.f()}T.forEach(function(Se){f.delete(Se)}),o.adjacentElements=f},j=function(){if(o.active)return n.removeEventListener("focusin",c,!0),n.removeEventListener("mousedown",_,!0),n.removeEventListener("touchstart",_,!0),n.removeEventListener("click",w,!0),n.removeEventListener("keydown",S,!0),n.removeEventListener("keydown",A),l},z=function(C){var T=C.some(function(f){var g=Array.from(f.removedNodes);return g.some(function(k){return k===o.mostRecentlyFocusedNode})});T&&N(b())},J=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(z):void 0,H=function(){J&&(J.disconnect(),o.active&&!o.paused&&o.containers.map(function(C){J.observe(C,{subtree:!0,childList:!0})}))};return l={get active(){return o.active},get paused(){return o.paused},activate:function(C){if(o.active)return this;var T=s(C,"onActivate"),f=s(C,"onPostActivate"),g=s(C,"checkCanFocusTrap"),k=qe.getActiveTrap(a),P=!1;k&&!k.paused&&(k._setSubtreeIsolation(!1),P=!0);try{g||v(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=m(n),T?.();var E=function(){g&&v(),O(),H(),i.isolateSubtrees&&l._setSubtreeIsolation(!0),f?.()};if(g)return g(o.containers.concat()).then(E,E),this;E()}catch(F){throw k===qe.getActiveTrap(a)&&P&&k._setSubtreeIsolation(!0),F}return this},deactivate:function(C){if(!o.active)return this;var T=Dn({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},C);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,o.paused||l._setSubtreeIsolation(!1),o.alreadyInert.clear(),j(),o.active=!1,o.paused=!1,H(),qe.deactivateTrap(a,l);var f=s(T,"onDeactivate"),g=s(T,"onPostDeactivate"),k=s(T,"checkCanReturnFocus"),P=s(T,"returnFocus","returnFocusOnDeactivate");f?.();var E=function(){Fn(function(){P&&N(R(o.nodeFocusedBeforeActivation)),g?.()})};return P&&k?(k(R(o.nodeFocusedBeforeActivation)).then(E,E),this):(E(),this)},pause:function(C){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,C)):this},unpause:function(C){return o.active?(o.manuallyPaused=!1,a[a.length-1]!==this?this:this._setPausedState(!1,C)):this},updateContainerElements:function(C){var T=[].concat(C).filter(Boolean);return o.containers=T.map(function(f){return typeof f=="string"?n.querySelector(f):f}),i.isolateSubtrees&&D(o.containers),o.active&&(v(),i.isolateSubtrees&&!o.paused&&l._setSubtreeIsolation(!0)),H(),this}},Object.defineProperties(l,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(C,T){if(o.paused===C)return this;if(o.paused=C,C){var f=s(T,"onPause"),g=s(T,"onPostPause");f?.(),j(),H(),l._setSubtreeIsolation(!1),g?.()}else{var k=s(T,"onUnpause"),P=s(T,"onPostUnpause");k?.(),l._setSubtreeIsolation(!0),v(),O(),H(),P?.()}return this}},_setSubtreeIsolation:{value:function(C){i.isolateSubtrees&&o.adjacentElements.forEach(function(T){if(C){var f=T.inert||T.hasAttribute("inert");f&&o.alreadyInert.add(T),T.inert=!0}else o.alreadyInert.has(T)||(T.inert=!1)})}}}),l.updateContainerElements(e),l};const Ja=()=>(Math.random()+1).toString(36).substring(5),xn={Close:{path:"M 3 3 L 13 13 M 3 13 L 13 3"},Help:{path:"M 8 12 L 8 12 M 8 10 L 8 9 C 8 7 10 8 10 6 A 2 2 0 1 0 6 6 M 8 1.5 A 6.5 6.5 0 0 1 8 14.5 A 6.5 6.5 0 0 1 8 1.5"},Menu:{path:"M 2 4 L 14 4 M 2 8 L 14 8 M 2 12 L 14 12"},Minimize:{path:"M 11 13 L 6.75 13 M 11 11 L 6.75 11 M 11 11 L 11 6.75 M 11 11 L 3 3"},OpenModal:{path:"M 3 3 L 7.25 3 M 3 3 L 3 7.25 M 3 3 L 10 10 M 3 11 A 2 2 0 0 0 5 13 L 11 13 A 2 2 0 0 0 13 11 L 13 5 A 2 2 0 0 0 11 3 L 11 3"},Shuffle:{path:"M 5 2 L 2 5 L 5 8 M 2 5 L 12 5 M 11 14 L 14 11 L 11 8 M 14 11 L 4 11"},Undo:{path:"M 5 3 L 2 6 L 5 9 M 2 6 L 10 6 A 3 3 0 1 1 10 13 L 8 13"}};var gs=Ma('<svg viewBox="0 0 16 16"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"></path></svg>');function Ya(t,e){ce(e,!1);let r=B(e,"icon",8);we();var n=gs(),a=M(n);ne(()=>ye(a,"d",($(xn),$(r()),Z(()=>xn[r()].path)))),V(t,n),de()}var bs=Q('<div class="icon-button clickable svelte-1882mcx"><div class="content svelte-1882mcx"><button><div class="icon svelte-1882mcx"><!></div></button> <div class="label svelte-1882mcx"> </div></div></div>');function et(t,e){ce(e,!1);let r=B(e,"icon",8),n=B(e,"label",8),a=B(e,"onClick",8);const i=`${Ja()}-label`;we();var o=bs(),l=M(o),s=M(l);he(s,1,"clickable svelte-1882mcx",null,{},{open});var u=M(s),h=M(u);Ya(h,{get icon(){return r()}});var b=K(s,2),v=M(b);ne(()=>{ye(s,"aria-labelledby",i),ye(b,"id",i),Oe(v,n())}),be("click",s,function(...m){a()?.apply(this,m)}),be("click",o,function(...m){a()?.apply(this,m)}),V(t,o),de()}var ms=Q('<div></div> <div role="dialog"><div class="header svelte-1bxxaoh"><h2 class="svelte-1bxxaoh"> </h2> <!></div> <div class="content svelte-1bxxaoh"><!></div></div>',1);function on(t,e){ce(e,!1);let r=B(e,"title",8),n=B(e,"position",8,"center"),a=B(e,"closeIcon",8,"Close");const i=`modal-${Ja()}`,o=`${i}-title`;let l=L(!1);Xt(()=>{const w=ps(`#${i}`,{clickOutsideDeactivates:!0,onDeactivate:()=>u()});w.activate();const O=document.body.style.overflow;return document.body.style.overflow="hidden",setTimeout(()=>{x(l,!0)},0),()=>{w.deactivate(),document.body.style.overflow=O}});const s=an(),u=()=>{x(l,!1),setTimeout(()=>s("close"),125)};let h=navigator.windowControlsOverlay?.visible&&navigator.windowControlsOverlay?.getTitlebarAreaRect().left>0;we();var b=ms(),v=Ce(b);let m;var N=K(v,2);let R;var p=M(N),_=M(p),c=M(_),y=K(_,2);et(y,{get icon(){return a()},label:"Close",onClick:u});var S=K(p,2),A=M(S);Tr(A,e,"default",{},null),ne(()=>{m=he(v,1,"backdrop svelte-1bxxaoh",null,m,{open:d(l)}),R=he(N,1,`modal ${n()??""} ${h?"window-controls-on-left":""}`,"svelte-1bxxaoh",R,{open:d(l)}),ye(N,"aria-labelledby",o),ye(N,"id",i),ye(_,"id",o),Oe(c,r())}),V(t,b),de()}var ys=Q("<button><!></button>");function Ke(t,e){ce(e,!1);const r=()=>at(xt,"$settings",n),[n,a]=mt(),i=L(),o=L();let l=B(e,"target",8),s=B(e,"value",8);const{update:u}=xt,h=()=>{};W(()=>(r(),$(l()),$(s())),()=>{x(o,r()[l()]===s())}),W(()=>(d(o),$(l()),$(s())),()=>{x(i,d(o)?h:()=>u(N=>({...N,[l()]:s()})))}),Ze(),we();var b=ys();let v;var m=M(b);Tr(m,e,"default",{},N=>{var R=lr();ne(()=>Oe(R,s())),V(N,R)}),ne(()=>{ye(b,"aria-pressed",d(o)?"true":"false"),b.disabled=d(o),v=he(b,1,"svelte-1s00cb8",null,v,{pressed:d(o)})}),be("click",b,function(...N){d(i)?.apply(this,N)}),V(t,b),de(),a()}var _s=Q('<div class="drawer svelte-oa8ggr"><ul class="svelte-oa8ggr"><li class="svelte-oa8ggr"><!></li> <li class="svelte-oa8ggr"><!></li></ul> <div class="whitespace svelte-oa8ggr"></div> <h3>Settings</h3> <table class="svelte-oa8ggr"><tbody><tr><th class="svelte-oa8ggr">Colors:</th><td class="svelte-oa8ggr"><!> / <!> / <!></td></tr><tr><th class="svelte-oa8ggr">Size:</th><td class="svelte-oa8ggr"><!> / <!> / <!> / <!></td></tr></tbody></table></div>'),ws=Q('<div class="titlebar svelte-oa8ggr"><div class="window-controls svelte-oa8ggr"></div> <div><!> <!> <!> <!></div> <div class="window-controls svelte-oa8ggr"></div></div> <!>',1);function Ss(t,e){ce(e,!1);const r=()=>at(Rt,"$actions",n),[n,a]=mt();let i=L(!1);const o=w=>O=>{x(i,w==="open"),O.stopPropagation()};let l=L(),s=L("");const u=()=>{if(!navigator.windowControlsOverlay?.visible)return;const w=d(l).getBoundingClientRect(),O=navigator.windowControlsOverlay?.getTitlebarAreaRect();O.left>w.left||O.right<w.right?x(s,"below-titlebar"):x(s,"")};Xt(u),we();var h=ws();be("resize",Ir,u);var b=Ce(h),v=K(M(b),2),m=M(v);{let w=Re(()=>o("open"));et(m,{icon:"Menu",label:"Menu",get onClick(){return d(w)}})}var N=K(m,2);{var R=w=>{et(w,{icon:"Help",label:"Help",get onClick(){return r().help}})};le(N,w=>{r().help!==void 0&&w(R)})}var p=K(N,2);{var _=w=>{et(w,{icon:"Shuffle",label:"Shuffle",get onClick(){return r().shuffle}})};le(p,w=>{r().shuffle!==void 0&&w(_)})}var c=K(p,2);{var y=w=>{et(w,{icon:"Undo",label:"Undo",get onClick(){return r().undo}})};le(c,w=>{r().undo!==void 0&&w(y)})}Po(v,w=>x(l,w),()=>d(l));var S=K(b,2);{var A=w=>{var O=Me(()=>o("close"));on(w,{position:"left",title:"Menu",$$events:{close(...D){d(O)?.apply(this,D)}},children:(D,j)=>{var z=_s(),J=M(z),H=M(J),U=M(H);Ke(U,{target:"game",value:"pileon",children:(Pe,si)=>{var Cr=lr("Pileon solitaire");V(Pe,Cr)},$$slots:{default:!0}});var C=K(H,2),T=M(C);Ke(T,{target:"game",value:"deck",children:(Pe,si)=>{var Cr=lr("Deck of cards");V(Pe,Cr)},$$slots:{default:!0}});var f=K(J,6),g=M(f),k=M(g),P=K(M(k)),E=M(P);Ke(E,{target:"colors",value:"default"});var F=K(E,2);Ke(F,{target:"colors",value:"standard"});var I=K(F,2);Ke(I,{target:"colors",value:"four-color"});var q=K(k),ee=K(M(q)),te=M(ee);Ke(te,{target:"size",value:"default"});var ge=K(te,2);Ke(ge,{target:"size",value:"bridge"});var Se=K(ge,2);Ke(Se,{target:"size",value:"poker"});var it=K(Se,2);Ke(it,{target:"size",value:"small"}),V(D,z)},$$slots:{default:!0}})};le(S,w=>{d(i)&&w(A)})}ne(()=>he(v,1,`menu ${d(s)??""}`,"svelte-oa8ggr")),V(t,h),de(),a()}var Nr={},De={},Rn;function Er(){if(Rn)return De;Rn=1;function t(f){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(f)}Object.defineProperty(De,"__esModule",{value:!0}),De.Cards=De.CardSuits=De.CardStringType=De.Card=void 0;function e(f,g,k){return g=i(g),g in f?Object.defineProperty(f,g,{value:k,enumerable:!0,configurable:!0,writable:!0}):f[g]=k,f}function r(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function n(f,g){for(var k=0;k<g.length;k++){var P=g[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,i(P.key),P)}}function a(f,g,k){return g&&n(f.prototype,g),k&&n(f,k),Object.defineProperty(f,"prototype",{writable:!1}),f}function i(f){var g=o(f,"string");return t(g)==="symbol"?g:String(g)}function o(f,g){if(t(f)!=="object"||f===null)return f;var k=f[Symbol.toPrimitive];if(k!==void 0){var P=k.call(f,g);if(t(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(f)}function l(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),g&&R(f,g)}function s(f){var g=m();return function(){var P=p(f),E;if(g){var F=p(this).constructor;E=Reflect.construct(P,arguments,F)}else E=P.apply(this,arguments);return u(this,E)}}function u(f,g){if(g&&(t(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(f)}function h(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function b(f){var g=typeof Map=="function"?new Map:void 0;return b=function(P){if(P===null||!N(P))return P;if(typeof P!="function")throw new TypeError("Super expression must either be null or a function");if(typeof g<"u"){if(g.has(P))return g.get(P);g.set(P,E)}function E(){return v(P,arguments,p(this).constructor)}return E.prototype=Object.create(P.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),R(E,P)},b(f)}function v(f,g,k){return m()?v=Reflect.construct.bind():v=function(E,F,I){var q=[null];q.push.apply(q,F);var ee=Function.bind.apply(E,q),te=new ee;return I&&R(te,I.prototype),te},v.apply(null,arguments)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(f){return Function.toString.call(f).indexOf("[native code]")!==-1}function R(f,g){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,E){return P.__proto__=E,P},R(f,g)}function p(f){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},p(f)}function _(f,g){return w(f)||A(f,g)||y(f,g)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(f,g){if(f){if(typeof f=="string")return S(f,g);var k=Object.prototype.toString.call(f).slice(8,-1);if(k==="Object"&&f.constructor&&(k=f.constructor.name),k==="Map"||k==="Set")return Array.from(f);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return S(f,g)}}function S(f,g){(g==null||g>f.length)&&(g=f.length);for(var k=0,P=new Array(g);k<g;k++)P[k]=f[k];return P}function A(f,g){var k=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(k!=null){var P,E,F,I,q=[],ee=!0,te=!1;try{if(F=(k=k.call(f)).next,g!==0)for(;!(ee=(P=F.call(k)).done)&&(q.push(P.value),q.length!==g);ee=!0);}catch(ge){te=!0,E=ge}finally{try{if(!ee&&k.return!=null&&(I=k.return(),Object(I)!==I))return}finally{if(te)throw E}}return q}}function w(f){if(Array.isArray(f))return f}var O=(function(f){return f[f.Hearts=0]="Hearts",f[f.Spades=1]="Spades",f[f.Diamonds=2]="Diamonds",f[f.Clubs=3]="Clubs",f})({});De.CardSuits=O;var D=(function(f){return f.Char="CHAR",f.Short="SHORT",f.Long="LONG",f.ShortEmoji="SHORT_EMOJI",f.ShortSuit="SHORT_SUIT",f.LongSuit="LONG_SUIT",f.EmojiSuit="EMOJI_SUIT",f.ShortValue="SHORT_VALUE",f.LongValue="LONG_VALUE",f})({});De.CardStringType=D;var j={"â¥":0,"â ":1,"â¦":2,"â£":3,h:0,s:1,d:2,c:3},z={A:1,T:10,J:11,Q:12,K:13},J=function(g){var k=/^([2-9ATJQK]{1}|10)([â¥â â¦â£hsdc]{1})$/,P=g.match(k);if(!P)throw new Error('Could not parse card from "'.concat(g,'". Input should match ').concat(k,"."));var E=_(P,3);E[0];var F=E[1],I=E[2],q=Number(F),ee=(Number.isNaN(q)?z[F]:q)-1;return j[I]*13+ee},H=function(g){var k=/^_[a-z]+$/i;if(g.match(k)){var P=Array.from(g.slice(1));return P.map(function(E){var F=E.charCodeAt(0);return F<91?F-65:F-97+26})}return g.split(/[\s,]+/)},U=(function(f){l(k,f);var g=s(k);function k(P){var E;if(r(this,k),typeof P=="number")E=g.call(this,P);else{E=g.call(this);var F=Array.isArray(P)?P:H(P);F.forEach(function(I){return E.push(new T(I))})}return u(E)}return a(k,[{key:"toString",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T.StringType.Short;return E===D.Char?"_"+this.map(function(F){return F.toString(E)}).join(""):this.map(function(F){return F.toString(E)}).join(", ")}}]),k})(b(Array));De.Cards=U;var C=function(g){return typeof g=="string"?J(g):g instanceof T?g.num:g},T=(function(){function f(g){r(this,f),e(this,"num",void 0),this.num=C(g)}return a(f,[{key:"suit",get:function(){return f.getSuit(this.num)}},{key:"value",get:function(){return f.getValue(this.num)}},{key:"toString",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.StringType.Long;switch(k){case f.StringType.Short:return this.toString(f.StringType.ShortValue)+this.toString(f.StringType.ShortSuit);case f.StringType.ShortEmoji:return this.toString(f.StringType.ShortValue)+this.toString(f.StringType.EmojiSuit);case f.StringType.Long:return this.toString(f.StringType.LongValue)+" of "+this.toString(f.StringType.LongSuit);case f.StringType.Char:return f.chars[this.num];case f.StringType.ShortSuit:return f.shortSuits[this.suit];case f.StringType.LongSuit:return f.longSuits[this.suit];case f.StringType.EmojiSuit:return f.emojiSuits[this.suit];case f.StringType.ShortValue:return f.shortValues[this.value===13?0:this.value];case f.StringType.LongValue:return f.longValues[this.value===13?0:this.value]}throw new Error("Unsupported output type")}}],[{key:"fromJSON",value:function(k){var P=k.num;return new f(P)}},{key:"getSuit",value:function(k){return Math.floor(k/13)%4}},{key:"getValue",value:function(k){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k%13||P?k%13:13}},{key:"compare",value:function(k,P){return P.value-k.value}}]),f})();return De.Card=T,e(T,"Suits",O),e(T,"StringType",D),e(T,"chars","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),e(T,"emojiSuits",["â¥","â ","â¦","â£"]),e(T,"shortSuits",["h","s","d","c"]),e(T,"longSuits",["hearts","spades","diamonds","clubs"]),e(T,"shortValues",["A","2","3","4","5","6","7","8","9","T","J","Q","K"]),e(T,"longValues",["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"]),De}var Ut={},ie={},In;function Za(){if(In)return ie;In=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.uniqueFilter=ie.shuffle=ie.last=ie.isSorted=ie.getCombinationsHelper=ie.getCombinations=ie.arraySubtraction=void 0;var t=function(s,u){return s.filter(function(h){return!u.includes(h)})};ie.arraySubtraction=t;var e=function l(s,u,h,b,v){if(b.length>=u)v.push(b);else for(var m=h;m<s.length;m++)l(s,u,m+1,b.concat(s[m]),v)};ie.getCombinationsHelper=e;var r=function(s,u){var h=[];return e(s,u,0,[],h),h};ie.getCombinations=r;var n=function(s,u){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=h?-1:1;try{return s.reduce(function(v,m){if(b*u(v,m)<=0)return m;throw new Error}),!0}catch{return!1}};ie.isSorted=n;var a=function(s){return s[s.length-1]};ie.last=a;var i=function(s){for(var u=s.length-1;u>0;u--){var h=Math.floor(Math.random()*(u+1)),b=[s[h],s[u]];s[u]=b[0],s[h]=b[1]}return s};ie.shuffle=i;var o=function(s,u,h){return h.indexOf(s)===u};return ie.uniqueFilter=o,ie}var Mn;function Ts(){if(Mn)return Ut;Mn=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.Deck=void 0;var t=Za(),e=Er();function r(p){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},r(p)}function n(p){return l(p)||o(p)||i(p)||a()}function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(p,_){if(p){if(typeof p=="string")return s(p,_);var c=Object.prototype.toString.call(p).slice(8,-1);if(c==="Object"&&p.constructor&&(c=p.constructor.name),c==="Map"||c==="Set")return Array.from(p);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return s(p,_)}}function o(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}function l(p){if(Array.isArray(p))return s(p)}function s(p,_){(_==null||_>p.length)&&(_=p.length);for(var c=0,y=new Array(_);c<_;c++)y[c]=p[c];return y}function u(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function h(p,_){for(var c=0;c<_.length;c++){var y=_[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,m(y.key),y)}}function b(p,_,c){return _&&h(p.prototype,_),c&&h(p,c),Object.defineProperty(p,"prototype",{writable:!1}),p}function v(p,_,c){return _=m(_),_ in p?Object.defineProperty(p,_,{value:c,enumerable:!0,configurable:!0,writable:!0}):p[_]=c,p}function m(p){var _=N(p,"string");return r(_)==="symbol"?_:String(_)}function N(p,_){if(r(p)!=="object"||p===null)return p;var c=p[Symbol.toPrimitive];if(c!==void 0){var y=c.call(p,_);if(r(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(p)}var R=(function(){function p(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u(this,p),v(this,"cards",void 0),this.cards=n(Array(52*c).keys()).map(function(y){return new e.Card(y)}),_&&this.shuffle()}return b(p,[{key:"shuffle",value:function(){(0,t.shuffle)(this.cards)}},{key:"isShuffled",value:function(){return!(0,t.isSorted)(this.cards,function(c,y){return c.num-y.num})}},{key:"cardsRemaining",get:function(){return this.cards.length}},{key:"pop",value:function(){return this.cards.pop()}},{key:"popN",value:function(c){for(var y=[],S,A=0;A<c&&(S=this.pop());A++)y.push(S);return y}},{key:"toString",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Char;return new e.Cards(this.cards).toString(c)}}],[{key:"fromJSON",value:function(c){var y=c.cards,S=new p(!1,0);return S.cards=y.map(function(A){return e.Card.fromJSON(A)}),S}},{key:"fromString",value:function(c){var y=new p(!1,0);return y.cards=new e.Cards(c),y}}]),p})();return Ut.Deck=R,Ut}var ot={},Kt={},Ln;function Es(){if(Ln)return Kt;Ln=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.uuid4=void 0;var t=function(n){var a;do a=Math.random().toString(16).slice(2,n+2);while(a.length<n&&n<=12);return a},e=function(){var n=[8,4,4,4,12],a=n.map(t).join("-").split("");return a[14]="4",a[19]=(Math.floor(Math.random()*64)%4+8).toString(16),a.join("")};return Kt.uuid4=e,Kt}var $n;function Cs(){if($n)return ot;$n=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.HandRank=ot.Hand=void 0;var t=Za(),e=Er(),r=Es();function n(c){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},n(c)}function a(c){return s(c)||l(c)||o(c)||i()}function i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(c,y){if(c){if(typeof c=="string")return u(c,y);var S=Object.prototype.toString.call(c).slice(8,-1);if(S==="Object"&&c.constructor&&(S=c.constructor.name),S==="Map"||S==="Set")return Array.from(c);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return u(c,y)}}function l(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}function s(c){if(Array.isArray(c))return u(c)}function u(c,y){(y==null||y>c.length)&&(y=c.length);for(var S=0,A=new Array(y);S<y;S++)A[S]=c[S];return A}function h(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}function b(c,y){for(var S=0;S<y.length;S++){var A=y[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(c,N(A.key),A)}}function v(c,y,S){return y&&b(c.prototype,y),S&&b(c,S),Object.defineProperty(c,"prototype",{writable:!1}),c}function m(c,y,S){return y=N(y),y in c?Object.defineProperty(c,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):c[y]=S,c}function N(c){var y=R(c,"string");return n(y)==="symbol"?y:String(y)}function R(c,y){if(n(c)!=="object"||c===null)return c;var S=c[Symbol.toPrimitive];if(S!==void 0){var A=S.call(c,y);if(n(A)!=="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(c)}var p=(function(c){return c[c.High=0]="High",c[c.Pair=5]="Pair",c[c.TwoPairs=10]="TwoPairs",c[c.ThreeOfAKind=15]="ThreeOfAKind",c[c.Straight=20]="Straight",c[c.Flush=25]="Flush",c[c.FullHouse=30]="FullHouse",c[c.FourOfAKind=35]="FourOfAKind",c[c.StraightFlush=40]="StraightFlush",c[c.FiveOfAKind=45]="FiveOfAKind",c})({});ot.HandRank=p;var _=(function(){function c(y,S,A){h(this,c),m(this,"uuid",void 0),m(this,"rank",void 0),m(this,"cards",void 0),this.rank=y,this.cards=S,this.uuid=A||(0,r.uuid4)()}return v(c,[{key:"getCardsString",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Short;return new e.Cards(this.cards).toString(S)}},{key:"toString",value:function(){var S=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Short,w=e.Card.StringType.LongValue,O=function(z){return S.cards[z].toString(w)},D=this.getCardsString(A);switch(this.rank){case c.Rank.FiveOfAKind:return"Five of a kind, ".concat(O(0),"s (").concat(D,")");case c.Rank.StraightFlush:return"Straigth flush, ".concat(O(0)," high (").concat(D,")");case c.Rank.FourOfAKind:return"Four of a kind, ".concat(O(0),"s (").concat(D,")");case c.Rank.FullHouse:return"Full house, ".concat(O(0),"s over ").concat(O(3),"s (").concat(D,")");case c.Rank.Flush:return"Flush, ".concat(O(0)," high (").concat(D,")");case c.Rank.Straight:return"Straigth, ".concat(O(0)," high (").concat(D,")");case c.Rank.ThreeOfAKind:return"Three of a kind, ".concat(O(0),"s (").concat(D,")");case c.Rank.TwoPairs:return"Two pairs, ".concat(O(0),"s and ").concat(O(2),"s (").concat(D,")");case c.Rank.Pair:return"Pair, ".concat(O(0),"s (").concat(D,")");case c.Rank.High:return"".concat(O(0).replace(/^\w/,function(j){return j.toUpperCase()})," high (").concat(D,")")}throw new Error("Unsupported rank value")}}],[{key:"fromJSON",value:function(S){var A=S.rank,w=S.cards,O=S.uuid;return new c(A,w.map(e.Card.fromJSON),O)}},{key:"solve",value:function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w,O;return(w=c.isNumOfAKind(5,S))?O=c.Rank.FiveOfAKind:(w=c.isStraightFlush(S,A))?O=c.Rank.StraightFlush:(w=c.isNumOfAKind(4,S))?O=c.Rank.FourOfAKind:(w=c.isFullHouse(S))?O=c.Rank.FullHouse:(w=c.isFlush(S,A))?O=c.Rank.Flush:(w=c.isStraight(S,A))?O=c.Rank.Straight:(w=c.isNumOfAKind(3,S))?O=c.Rank.ThreeOfAKind:(w=c.isTwoPairs(S))?O=c.Rank.TwoPairs:(w=c.isNumOfAKind(2,S))?O=c.Rank.Pair:(w=[],O=c.Rank.High),w=c.fillWithKickers(w,S),new c(O,w)}},{key:"solveHoldEm",value:function(S,A){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(w===0)return c.solve([].concat(a(S),a(A)));for(var O=(0,t.getCombinations)(S,S.length-w),D=(0,t.getCombinations)(A,Math.min(A.length,w)),j=[],z=0;z<O.length;z++)for(var J=0;J<D.length;J++)j.push(c.solve([].concat(a(O[z]),a(D[J]))));return c.max.apply(c,j)}},{key:"compare",value:function(S,A){var w;if(S.cards.length!==A.cards.length)throw new Error("Comparing hands with different number of cards");if((w=A.rank-S.rank)!==0)return w;for(var O=0;O<S.cards.length;O++)if((w=e.Card.compare(S.cards[O],A.cards[O]))!==0)return w;return 0}},{key:"winners",value:function(){for(var S=arguments.length,A=new Array(S),w=0;w<S;w++)A[w]=arguments[w];var O=c.max.apply(c,A);return A.filter(function(D){return!c.compare(D,O)})}},{key:"max",value:function(){for(var S=function(j,z){return c.compare(j,z)<0?j:z},A=arguments.length,w=new Array(A),O=0;O<A;O++)w[O]=arguments[O];return w.reduce(function(D,j){return S(D,j)})}},{key:"fillWithKickers",value:function(S,A){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;return A=(0,t.arraySubtraction)(A,S).sort(e.Card.compare),[].concat(a(S),a(A)).slice(0,w)}},{key:"getUniqueValues",value:function(S){return S.map(function(A){return A.value}).filter(t.uniqueFilter).sort(function(A,w){return w-A})}},{key:"isNumOfAKind",value:function(S,A){for(var w=c.getUniqueValues(A),O,D=function(H){if(O=A.filter(function(U){return U.value==w[H]}),O.length>=S)return{v:O}},j=0;j<w.length;j++){var z=D(j);if(n(z)==="object")return z.v}return!1}},{key:"isNumOfAKindCombination",value:function(S,A){for(var w=[],O=0;O<S.length;O++){var D=c.isNumOfAKind(S[O],(0,t.arraySubtraction)(A,w));if(D===!1)return!1;D=D,w.push.apply(w,a(D))}return w}},{key:"isStraightFlush",value:function(S){for(var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=[],O=function(J){if(w=S.filter(function(U){return U.suit===J}),w.length<A)return"continue";var H=c.isStraight(w,A);if(H)return{v:H}},D=0;D<4;D++){var j=O(D);if(j!=="continue"&&n(j)==="object")return j.v}return!1}},{key:"isFullHouse",value:function(S){return c.isNumOfAKindCombination([3,2],S)}},{key:"isFlush",value:function(S){for(var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=function(z){var J=S.filter(function(H){return H.suit==z});if(J.length>=A)return{v:J.sort(e.Card.compare).slice(0,A)}},O=0;O<4;O++){var D=w(O);if(n(D)==="object")return D.v}return!1}},{key:"isStraight",value:function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=c.getUniqueValues(S);if(w.length<A)return!1;w.includes(13)&&w.push(0);for(var O=[w[0]],D=1;D<w.length&&O.length<A;D++)(0,t.last)(O)-w[D]===1?O.push(w[D]):O=[w[D]];return O.length==A?O.map(function(j){return S.find(function(z){return z.value===(j||13)})}):!1}},{key:"isTwoPairs",value:function(S){return c.isNumOfAKindCombination([2,2],S)}}]),c})();return ot.Hand=_,m(_,"Rank",p),ot}var jn;function ks(){return jn||(jn=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Card",{enumerable:!0,get:function(){return e.Card}}),Object.defineProperty(t,"CardStringType",{enumerable:!0,get:function(){return e.CardStringType}}),Object.defineProperty(t,"Cards",{enumerable:!0,get:function(){return e.Cards}}),Object.defineProperty(t,"Deck",{enumerable:!0,get:function(){return r.Deck}}),Object.defineProperty(t,"Hand",{enumerable:!0,get:function(){return n.Hand}});var e=Er(),r=Ts(),n=Cs()})(Nr)),Nr}var se=ks();const As=4.5,Os=5,Ns=3,Un=7,Ps=5,Qa=t=>{switch(t){case"bridge":return{height:Un,width:As};case"poker":return{height:Un,width:Os};case"small":return{height:Ps,width:Ns}}},sn="card-appearance",Ds={size:"bridge",fourColor:!1},Fs=({size:t,colors:e})=>({size:t==="default"?"poker":t,fourColor:e==="four-color"}),Xa=t=>{const e=nn(Ds,r=>(xt.subscribe(n=>r(t(n))),()=>{}));return ji(sn,e),e},ln=()=>na(sn),Kn=t=>{const e=na(sn);if(e){const r=ja(xt);e.set(t(r))}},ei=(t,e,r={})=>n=>{(Array.isArray(t)?t:[t]).includes(n.code)&&e!==void 0&&(r.preventDefault&&n.preventDefault(),e())};var xs=Ma('<svg viewBox="0 0 16 20"><path fill="CurrentColor"></path></svg>');function ti(t,e){ce(e,!1);const r=L();let n=B(e,"suit",8,null),a=B(e,"flip",8,!1);const i=u=>{switch(u){case"hearts":return"M 8 2 C 9 0 11 0 12 0 C 13 0 16 1 16 6 C 16 8 15.5 10 14 12 L 8 20 L 2 12 C 0.5 10 0 8 0 6 C 0 1 3 0 4 0 C 5 0 7 0 8 2";case"spades":return"M 8 0 L 13 5 C 16 8 16 10 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 10 0 8 3 5 L 8 0";case"diamonds":return"M 8 0 L 16 10 L 8 20 L 0 10 L 8 0";case"clubs":return"M 8 0 C 10 0 12 2 12 4 C 12 6 11 8 8 10 C 9 8 10 7 12 7 C 14 7 16 9 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 9 2 7 4 7 C 6 7 7 8 8 10 C 5 8 4 6 4 4 C 4 2 6 0 8 0";default:return null}};W(()=>$(n()),()=>{x(r,i(n()))}),Ze();var o=Sr(),l=Ce(o);{var s=u=>{var h=xs();let b;var v=M(h);ne(()=>{b=he(h,0,"svelte-1izrtb7",null,b,{flip:a()}),ye(v,"d",d(r))}),V(u,h)};le(l,u=>{d(r)&&u(s)})}V(t,o),de()}var Rs=Q('<span class="svelte-1hnfbft"><!></span>'),Is=Q("<div></div>"),Ms=Q('<div class="center-pattern svelte-1hnfbft"></div>');function Ls(t,e){let r=B(e,"suit",8),n=B(e,"rank",8);const a={A:["U"],2:["U","D"],3:["U","U","D"],4:["UU","DD"],5:["UU","U","DD"],6:["UU","UU","DD"],7:["UU","u","UU","DD"],8:["UU","UU","DD","DD"],9:["UU","u","UU","DD","DD"],10:["UU","u","UU","DD","d","DD"]},i=s=>a[s]??[],o=s=>s.toUpperCase()===s?"grow":"";var l=Ms();Ft(l,5,()=>($(n()),Z(()=>i(n()))),Gt,(s,u)=>{var h=Is();Ft(h,5,()=>(d(u),Z(()=>d(u).split(""))),Gt,(b,v,m,N)=>{var R=Rs(),p=M(R);{let _=Re(()=>(d(v),Z(()=>d(v).toLowerCase()==="d")));ti(p,{get suit(){return r()},get flip(){return d(_)}})}V(b,R)}),ne(b=>he(h,1,`row ${b??""}`,"svelte-1hnfbft"),[()=>(d(u),Z(()=>o(d(u))))]),V(s,h)}),V(t,l)}var $s=Q('<span class="screen-reader-only svelte-1on3xvn"><!></span>');function js(t,e){var r=$s(),n=M(r);Tr(n,e,"default",{},null),V(t,r)}var Us=Q('<div aria-hidden="true"><div> </div> <div class="suit svelte-1s7zazm"><!></div></div> <div><!></div>',1),Ks=Q("<div><!> <!></div>");function pr(t,e){ce(e,!1);const r=()=>at(N,"$cardAppearance",n),[n,a]=mt(),i=L(),o=L(),l=L(),s=L(),u=L(),h=L(),b=L(),v=L(),m=L(),N=ln();let R=B(e,"card",8,null),p=B(e,"empty",8,!1),_=B(e,"shadow",8,!1),c=B(e,"stack",8,void 0);const y=["top","bottom"];W(()=>r(),()=>{x(i,r().size==="bridge")}),W(()=>r(),()=>{x(o,r().size==="small")}),W(()=>r(),()=>{x(l,r().fourColor)}),W(()=>($(R()),$(_())),()=>{x(s,R()===null&&!_())}),W(()=>($(p()),d(s),$(_())),()=>{x(u,!(p()||d(s)||_()))}),W(()=>(d(u),$(R()),se.Card),()=>{x(h,d(u)&&R()?.toString(se.Card.StringType.ShortValue).replace("T","10")||"")}),W(()=>(d(u),$(R()),se.Card),()=>{x(b,d(u)&&R()?.toString(se.Card.StringType.LongSuit)||"")}),W(()=>(d(u),$(R())),()=>{x(v,d(u)&&(R()?.num??0)%13>9)}),W(()=>(d(u),$(R()),se.Card),()=>{x(m,d(u)&&R()?.toString(se.Card.StringType.Long)||"")}),Ze(),we();var S=Ks();let A;var w=M(S);{var O=j=>{js(j,{children:(z,J)=>{var H=lr();ne(()=>Oe(H,d(m))),V(z,H)},$$slots:{default:!0}})};le(w,j=>{d(u)&&j(O)})}var D=K(w,2);Ft(D,1,()=>y,j=>j,(j,z)=>{var J=Us(),H=Ce(J),U=M(H),C=M(U),T=K(U,2),f=M(T);ti(f,{get suit(){return d(b)}});var g=K(H,2);let k;var P=M(g);{var E=F=>{Ls(F,{get suit(){return d(b)},get rank(){return d(h)}})};le(P,F=>{d(o)||F(E)})}ne(()=>{he(H,1,`${d(z)??""} label`,"svelte-1s7zazm"),he(U,1,`rank rank-${d(h)??""}`,"svelte-1s7zazm"),Oe(C,d(h)),k=he(g,1,"center svelte-1s7zazm",null,k,{face:d(v)})}),V(j,J)}),ne(()=>A=he(S,1,`card ${d(b)??""} stack-${c()??""}`,"svelte-1s7zazm",A,{bridge:d(i),small:d(o),fourColor:d(l),empty:p(),hidden:d(s),shadow:_(),visible:d(u)})),V(t,S),de(),a()}var zs=Q('<div class="shadow-container svelte-98hjjr"><!></div>'),qs=Q('<div role="button" tabindex="0"><div aria-atomic="true" aria-live="polite"><!> <!></div></div>');function Vs(t,e){ce(e,!1);const r=()=>at(h,"$cardAppearance",n),[n,a]=mt(),i=L(),o=L(),l=L(),s=L(),u=L(),h=ln();let b=B(e,"numCards",8,52),v=B(e,"numDecks",8,1),m=B(e,"topCard",8,null),N=B(e,"numShadows",8,10),R=B(e,"shuffleAnimationSteps",8,4),p=B(e,"shuffleAnimationMaxDistanceEm",8,.8),_=B(e,"shuffleAnimationMaxRotateDeg",8,7),c=B(e,"onClick",8,()=>{}),y=L(0);function S(T,f,g,k){const P=T/k*f,E=.5*P/(g*52),F=1*P/(g*52);return`translate(${E}em , ${F}em)`}function A(T,f){const g=F=>[1,f+2].includes(T)?0:(Math.random()*2-1)*F,k=g(p()),P=g(p()),E=g(_());return`translate(${k}em, ${P}em) rotate(${E}deg)`}function w(){d(y)>0&&setTimeout(()=>{x(y,d(y)-1),w()},250)}function O(){if(!d(s))return c()()}W(()=>r(),()=>{x(i,r()?.size==="bridge")}),W(()=>r(),()=>{x(o,r()?.size==="small")}),W(()=>($(m()),$(b()),$(v()),$(R())),()=>{m()===null&&b()===52*v()&&R()>0&&(x(y,R()+2),w())}),W(()=>d(y),()=>{x(s,d(y)>0)}),W(()=>($(m()),d(s),$(N()),d(y),$(R()),$(b()),$(v())),()=>{x(l,m()===void 0?[]:d(s)?[...Array(N())].map(()=>({card:null,shadow:!1,transform:A(d(y),R())})):[...Array(N())].map((T,f)=>({card:void 0,shadow:!0,transform:S(f,b(),v(),N())})))}),W(()=>$(m()),()=>{x(u,m()===void 0?"Shuffle the deck":"Draw a card")}),Ze(),we();var D=qs(),j=Me(()=>ei(["Space","Enter"],O,{preventDefault:!0}));let z;var J=M(D),H=M(J);{var U=T=>{{let f=Re(()=>m()===void 0);pr(T,{get card(){return m()},get empty(){return d(f)}})}};le(H,T=>{d(s)||T(U)})}var C=K(H,2);Ft(C,1,()=>d(l),Gt,(T,f)=>{let g=()=>d(f).card,k=()=>d(f).shadow,P=()=>d(f).transform;var E=zs(),F=M(E);pr(F,{get card(){return g()},get shadow(){return k()}}),ne(()=>ur(E,`transform: ${P()??""}`)),V(T,E)}),ne(()=>{ye(D,"aria-label",d(u)),ye(D,"aria-disabled",d(s)),z=he(D,1,"deck svelte-98hjjr",null,z,{bridge:d(i),small:d(o),shuffling:d(s)})}),be("keydown",D,function(...T){d(j)?.apply(this,T)}),be("click",D,O),V(t,D),de(),a()}var Bs=Q('<main class="svelte-kd00ed"><!></main>');function Hs(t,e){ce(e,!1),Xa(Fs);let r=new se.Deck,n=L(r.cardsRemaining),a=L(null);function i(){d(a)!==void 0?x(a,r.pop()):(r=new se.Deck,x(a,null)),x(n,r.cardsRemaining)}const o=u=>{u.stopPropagation(),r=new se.Deck,x(a,null),x(n,r.cardsRemaining)};Xt(()=>{Rt.update(u=>({...u,shuffle:o}))}),Ua(()=>{Rt.update(u=>({...u,shuffle:void 0}))}),we();var l=Bs(),s=M(l);Vs(s,{onClick:i,get topCard(){return d(a)},get numCards(){return d(n)}}),V(t,l),de()}const gr=(t,e)=>Qa(e).width+(t-1)*1.125,Ws=(t,e,r)=>t.length===0?"empty":e?`closed${r==="rank"?`, ${t[0].toString(se.CardStringType.LongValue)}s`:""}`:t.toString(se.CardStringType.Long),Gs=(t,e,r,n,a=!1)=>{const i=Ws(new se.Cards(e),n,a),o=r>0?` ${r} cards selected: ${new se.Cards(e.slice(e.length-r)).toString(se.CardStringType.Long)}`:"";return`${t}: ${i}.${o}`},Js=(t,e,r)=>{const n={sourceStack:e,cards:r};t.dataTransfer&&(t.dataTransfer.setData("application/json",JSON.stringify(n)),t.dataTransfer.effectAllowed="move")},Ys=t=>{const{sourceStack:e,cards:r}=JSON.parse(t.dataTransfer?.getData("application/json")??"");return{sourceStack:e,cards:r.map(se.Card.fromJSON)}};var Zs=Q('<div class="nested svelte-1vimvv4"><!></div>'),Qs=Q('<div role="button"><div><!> <!></div></div>');function ri(t,e){ce(e,!1);const r=()=>at(b,"$cardAppearance",n),[n,a]=mt(),i=L(),o=L(),l=L(),s=L(),u=L(),h=L(),b=ln();let v=B(e,"cards",24,()=>[]),m=B(e,"capacity",8,4),N=B(e,"closed",8,!1),R=B(e,"index",8,0),p=B(e,"isDraggableFn",8,()=>!1),_=B(e,"selectedCardsN",8,0),c=B(e,"labelOptions",24,()=>({title:"Stack"})),y=B(e,"nested",8,!1);const S=g=>{g.stopPropagation(),Js(g,R(),v())},A=g=>{g.preventDefault()},w=an(),O=()=>{y()||w("select",{index:R()})};W(()=>r(),()=>{x(i,r().size)}),W(()=>($(m()),d(i)),()=>{x(o,`width: ${gr(m(),d(i))}em`)}),W(()=>($(N()),$(p()),$(v())),()=>{x(l,!N()&&p()(v()))}),W(()=>($(_()),$(v())),()=>{x(s,_()>0&&_()===v().length)}),W(()=>($(N()),$(v())),()=>{x(u,N()&&v().length===1)}),W(()=>($(y()),$(c()),$(v()),$(_()),$(N())),()=>{x(h,y()?void 0:Gs(c().title,v(),_(),N(),c().closed))}),Ze(),we();var D=Qs(),j=Me(()=>ei(["Enter","Space"],O,{preventDefault:!0}));let z;var J=M(D),H=M(J);{var U=g=>{pr(g,{empty:!0})},C=g=>{{let k=Re(()=>(d(u),$(v()),Z(()=>d(u)?null:v()[0])));pr(g,{get card(){return d(k)},stack:"left"})}};le(H,g=>{$(v()),Z(()=>v().length===0)?g(U):g(C,!1)})}var T=K(H,2);{var f=g=>{var k=Zs(),P=M(k);{let E=Re(()=>($(v()),Z(()=>v().slice(1)))),F=Re(()=>m()-1);ri(P,{get cards(){return d(E)},get capacity(){return d(F)},nested:!0,get closed(){return N()},get index(){return R()},get isDraggableFn(){return p()},get selectedCardsN(){return _()}})}V(g,k)};le(T,g=>{$(v()),Z(()=>v().length>1)&&g(f)})}ne(()=>{ye(D,"aria-label",d(h)),z=he(D,1,"stack svelte-1vimvv4",null,z,{selected:d(s)}),ur(D,d(o)),ye(D,"draggable",d(l)),ye(D,"tabindex",y()?void 0:0),ye(J,"aria-hidden",y()?void 0:"true")}),be("dblclick",D,function(g){jr.call(this,e,g)}),be("dragstart",D,S),be("dragover",D,A),be("drop",D,function(g){jr.call(this,e,g)}),be("click",D,O),be("keydown",D,function(...g){d(j)?.apply(this,g)}),V(t,D),de(),a()}var qr=Er();const Xs=(t,e)=>{const r=t/e;return r<3/4?[3,5]:r<4/3?[4,4]:[5,3]},zn=(t,e)=>({length:t*e-15}),ni=(t,e,r)=>{const n=gr(4,t)*e+(e-1),a=Qa(t).height*r+(r-1);return[n,a]},el=(t,e,r)=>{const n=Math.min(e,r*2.3333333333333335),[a,i]=Xs(n,r),[o,l]=ni(t,a,i),s=n*.95/o,u=r*.95/l;return{fontSize:Math.max(Math.min(s,u),10),columns:a,rows:i,tableWidthEm:o,tableHeightEm:l}},qn=()=>{const t=new se.Deck;return[...Array(13)].map(()=>t.popN(4)).concat([[],[]])},un=t=>{const[e,...r]=t;return r.every(n=>n.value===e.value)},tl=t=>t.length===0?!1:t.length===1?!0:un(t),fn=(t,e)=>t.length+e.length>4?!1:e.length===0||e[e.length-1].value===t[0].value,cn=(t,e,r,n)=>{const a=t.map(i=>[...i]);if(!fn(n,a[r]))throw new Error(`Can not move cards ${n.map(i=>i.toString(qr.CardStringType.ShortEmoji))} from pile ${e} to pile ${r}`);return a[e]=a[e].slice(0,a[e].length-n.length),a[r]=[...a[r],...n],a},dn=t=>t.length===1||un(t)?t:dn(t.slice(1)),rl=(t,e)=>{if(t[e].length===0)throw new Error("Cannot move cards from an empty pile.");if(vn(t[e]))throw new Error("Cannot move cards from a completed pile.");const r=dn(t[e]),n=t.reduce((o,l,s)=>s!==e&&fn(r,l)?[...o,s]:o,[]);if(n.length===0)throw new Error(`Cannot move cards from pile ${e} to any other pile`);const a=n.filter(o=>t[o].length>0),i=a.length>0?a[0]:n[0];return cn(t,e,i,r)},nl=(t,e)=>{const r=t[e].slice(-1);return r.length===0?[[],r]:[t.reduce((a,i,o)=>o!==e&&fn(r,i)?[...a,o]:a,[]),r]},ai=t=>t.reduce((e,r,n)=>{const[a,i]=nl(t,n);return a.length===0?e:[...e,[n,a,i]]},[]),al=(t,e)=>{if(t[0]!==e[0]||t[1].length!==e[1].length)return!1;for(let r=0;r<t[1].length;r++)if(t[1][r]!==e[1][r])return!1;return new qr.Cards(t[2]).toString()===new qr.Cards(e[2]).toString()},il=t=>(e,r,n)=>{const[a,i,o]=e,l=[...o];if(i.length>1)return[!1,[]];const s=i[0],u=cn(t,a,s,o),h=ai(u),b=n.filter(([v])=>v!==s).map(v=>v[0]===a?[s,[a],o]:v).sort((v,m)=>v[0]-m[0]);if(h.length-b.length===1){const v=u[a].slice(-2);if(u[s][0]?.value!==o[0].value&&v.length===2&&v.every(m=>m.value===o[0].value))b.push([a,i,[v[1]]]),b.sort((m,N)=>m[0]-N[0]),l.push(v[1]);else return[!1,[]]}return h.length!==b.length?[!1,[]]:[b.every((v,m)=>al(v,h[m])),l]},ol=t=>{const e=ai(t);if(e.length===0)return["dead-end",[]];const r=e.map(il(t));return r.every(([n])=>n)&&r.length>0?["infinite-loop",r.reduce((a,i)=>[...a,...i[1]],[])]:[!1,[]]},vn=t=>t.length===4&&un(t),ii=t=>t.every(e=>vn(e)||e.length===0),sl=t=>t.reduce((e,r,n)=>vn(r)?[...e,n]:e,[]),st=t=>({type:t,timestamp:Date.now()}),ll=t=>{const e={};return t.forEach(({type:r})=>e[r]=(e[r]??0)+1),e},Vn=t=>t.reduce((e,r)=>e+r,0),ul=t=>{const e=t.filter(a=>a.type==="start").map(a=>a.timestamp),r=t.filter(a=>a.type==="stop").map(a=>a.timestamp);if(e.length===0)return[null,null];const n=(r[r.length-1]??Date.now())-e[0];return e.length!==r.length?[null,n]:[Vn(r)-Vn(e),n]},nr=(t,e)=>t>0?`${t}â¯${e}`:"",Bn=t=>{if(t===null)return"N/A";if(t<1e3)return nr(t,"ms");const e=Math.floor(t/36e5),r=Math.floor(t/6e4-e*60),n=Math.floor(t/1e3-r*60-e*3600);return[nr(e,"h"),nr(r,"min"),nr(n,"s")].join(" ").trim()};var fl=Q('<!> <button><!> <span class="title"> </span></button>',1);function oi(t,e){let r=B(e,"title",8),n=B(e,"position",8,"center"),a=L(!0);const i=()=>{x(a,!1)},o=()=>{x(a,!0)};var l=fl(),s=Ce(l);{var u=N=>{on(N,{get title(){return r()},get position(){return n()},closeIcon:"Minimize",$$events:{close:i},children:(R,p)=>{var _=Sr(),c=Ce(_);Tr(c,e,"default",{},null),V(R,_)},$$slots:{default:!0}})};le(s,N=>{d(a)&&N(u)})}var h=K(s,2),b=M(h);Ya(b,{icon:"OpenModal"});var v=K(b,2),m=M(v);ne(()=>{he(h,1,`minimized-modal ${d(a)?"":"open"}`,"svelte-1ynejnl"),Oe(m,r())}),be("click",h,o),V(t,l)}var cl=Q(`<p>Here are statistics about the completed game. Undo and undone moves are
  excluded from <i>Significant moves</i> but included in <i>Total moves</i>.</p> <table class="svelte-1vplsp7"><tbody><tr><th class="svelte-1vplsp7">Elapsed time:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Significant moves:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Total moves:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Undone moves:</th><td class="svelte-1vplsp7"> </td></tr></tbody></table>`,1);function dl(t,e){ce(e,!1);const r=L(),n=L(),a=L();let i=B(e,"events",8);W(()=>$(i()),()=>{x(r,ll(i()))}),W(()=>(d(n),d(a),$(i())),()=>{(A=>{var w=Br(A,2);x(n,w[0]),x(a,w[1])})(ul(i()))}),Ze(),we();var o=cl(),l=K(Ce(o),2),s=M(l),u=M(s),h=K(M(u)),b=M(h),v=K(u),m=K(M(v)),N=M(m),R=K(v),p=K(M(R)),_=M(p),c=K(R),y=K(M(c)),S=M(y);ne(A=>{Oe(b,A),Oe(N,(d(r),Z(()=>(d(r).move??0)-(d(r).undo??0)))),Oe(_,(d(r),Z(()=>(d(r).move??0)+(d(r).undo??0)))),Oe(S,(d(r),Z(()=>d(r).undo??0)))},[()=>($(Bn),d(a),Z(()=>Bn(d(a))))]),V(t,o),de()}var vl=Q('<!> <div class="actions svelte-1gnlsyg"><!></div>',1);function hl(t,e){ce(e,!1);const r=L();let n=B(e,"events",8),a=B(e,"piles",8);const i=an();W(()=>$(a()),()=>{x(r,ii(a()))}),Ze(),we();var o=Sr(),l=Ce(o);{var s=u=>{oi(u,{title:"Completed",children:(h,b)=>{var v=vl(),m=Ce(v);dl(m,{get events(){return n()}});var N=K(m,2),R=M(N);et(R,{icon:"Shuffle",label:"Shuffle",onClick:()=>i("shuffle")}),V(h,v)},$$slots:{default:!0}})};le(l,u=>{d(r)&&u(s)})}V(t,o),de()}const pl=(t,e=se.CardStringType.Long)=>{const r=t.map(a=>a.toString(e)),n=[r.slice(0,-1).join(", "),...r.slice(-1)].filter(a=>a).join(" and ");return n.charAt(0).toUpperCase()+n.slice(1)};var gl=Q("<p>No more possible moves. Undo the last move or start a new game.</p>"),bl=Q("<p> </p>"),ml=Q('<!> <!> <div class="actions svelte-1o3xc0i"><!> <!></div>',1);function yl(t,e){ce(e,!0);const r=Me(()=>ol(e.piles)),n=Me(()=>Br(d(r),2)),a=Me(()=>d(n)[0]),i=Me(()=>d(n)[1]),o=Me(()=>pl(d(i)));var l=Sr(),s=Ce(l);{var u=h=>{oi(h,{title:"Dead end",children:(b,v)=>{var m=ml(),N=Ce(m);{var R=A=>{var w=gl();V(A,w)};le(N,A=>{d(a)==="dead-end"&&A(R)})}var p=K(N,2);{var _=A=>{var w=bl(),O=M(w);ne(()=>Oe(O,`${d(o)??""} can be moved back and forth between two piles. There are no
        other possible moves. Undo the last move or start a new game.`)),V(A,w)};le(p,A=>{d(a)==="infinite-loop"&&A(_)})}var c=K(p,2),y=M(c);et(y,{icon:"Shuffle",label:"Shuffle",get onClick(){return e.shuffle}});var S=K(y,2);et(S,{icon:"Undo",label:"Undo",get onClick(){return e.undo}}),V(b,m)},$$slots:{default:!0}})};le(s,h=>{d(a)&&h(u)})}V(t,l),de()}var _l=Q(`<p>The goal of the pileon solitaire is to rearrange a deck of cards into piles
    of equal ranks from thirteen random piles of four using fifteen piles.</p> <h3>Rules</h3> <ul><li>Each pile can contain up to four cards.</li> <li>Cards can be moved from top of the pile into a pile where the top card is
      of the same rank as the card that is moved.</li> <li>Cards of any rank can be moved into an empty pile.</li> <li>Multiple cards with the same rank can be moved at once.</li> <li>Pile is complete when it contains all four cards with the same rank.</li></ul> <h3>Moving cards</h3> <ol><li>Select the source pile by clicking a pile. Cards to be moved are
      highlighted. Click the source pile again to reduce the amount of selected
      cards.</li> <li>Move cards by clicking the target pile. If the move is valid, the cards
      are moved from the source pile into the target pile.</li></ol> <p>If your device supports drag-and-drop, you can also drag the cards you want
    to move from the source pile into the target pile. Double-clicking the
    source pile automatically moves cards from the pile to an available target
    pile.</p>`,1);function wl(t,e){on(t,{title:"How to play?",$$events:{close(r){jr.call(this,e,r)}},children:(r,n)=>{var a=_l();V(r,a)},$$slots:{default:!0}})}var Sl=Q('<div class="pile svelte-17eyygh"><!></div>'),Tl=Q('<div class="pile svelte-17eyygh"></div>'),El=Q("<main><!> <!></main> <!> <!> <!>",1);function Hn(t,e){ce(e,!1);const r=()=>at(R,"$appearance",n),[n,a]=mt(),i=L(),o=L(),l=L(),s=L(),u=L(),h=L(),b=L(),v=L();let m=L(),N=L(),R=Xa(E=>({size:E.size==="default"?"bridge":E.size,fourColor:E.colors==="four-color"})),p=L([qn()]),_=L([st("start")]),c=L(!1);const y=E=>{E.stopPropagation(),x(c,!0)},S=E=>{E.stopPropagation(),x(w,[void 0,[]]),x(p,[qn()]),x(_,[st("start")])},A=E=>{E.stopPropagation(),d(p).length>1&&(x(w,[void 0,[]]),x(p,d(p).slice(0,d(p).length-1)),x(_,[...d(_),st("undo")]))};let w=L([void 0,[]]);const O=(E,F,I)=>{try{x(w,[void 0,[]]);const q=cn(d(p)[d(p).length-1],E,F,I);x(p,[...d(p),q]),x(_,[...d(_),st("move")])}catch{}},D=E=>{const[F,I]=d(w),q=E.detail.index;d(o).includes(q)||(F===void 0||I.length===0?x(w,[q,dn(d(i)[q])]):F===q?x(w,[q,I.slice(1)]):F!==q&&(O(F,q,I),x(w,[void 0,[]])))},j=E=>F=>{F.preventDefault();const{sourceStack:I,cards:q}=Ys(F);I!==E&&O(I,E,q)},z=E=>F=>{F.preventDefault();try{x(w,[void 0,[]]);const I=rl(d(p)[d(p).length-1],E);x(p,[...d(p),I]),x(_,[...d(_),st("move")])}catch{}};Xt(()=>{Rt.update(E=>({...E,help:y,shuffle:S,undo:A}))}),Ua(()=>{Rt.update(E=>({...E,help:void 0,shuffle:void 0,undo:void 0}))}),W(()=>(d(m),d(N),Kn),()=>{const E=d(m)<800||d(N)<400?"small":"bridge";Kn(F=>({size:F.size==="default"?E:F.size,fourColor:F.colors==="four-color"}))}),W(()=>d(p),()=>{x(i,d(p)[d(p).length-1])}),W(()=>d(i),()=>{x(o,sl(d(i)))}),W(()=>(d(i),d(_),st),()=>{ii(d(i))&&d(_).push(st("stop"))}),W(()=>d(w),()=>{x(l,d(w)[0])}),W(()=>d(w),()=>{x(s,d(w)[1])}),W(()=>r(),()=>{x(u,r().size)}),W(()=>(d(u),d(m),d(N)),()=>{x(h,el(d(u),d(m),d(N)))}),W(()=>(d(b),d(v),d(u)),()=>{(E=>{var F=Br(E,2);x(b,F[0]),x(v,F[1])})(ni(d(u),5,3))}),Ze(),we();var J=El(),H=Ce(J);let U;var C=M(H);Ft(C,1,()=>d(i),Gt,(E,F,I)=>{var q=Sl(),ee=M(q),te=Me(()=>j(I)),ge=Me(()=>z(I));{let Se=Re(()=>(d(o),Z(()=>d(o).includes(I)))),it=Re(()=>(d(l),d(s),Z(()=>d(l)===I?d(s).length:0)));ri(ee,{get cards(){return d(F)},get closed(){return d(Se)},get selectedCardsN(){return d(it)},labelOptions:{title:`Stack ${I+1}`,closed:"rank"},index:I,get isDraggableFn(){return tl},$$events:{drop(...Pe){d(te)?.apply(this,Pe)},dblclick(...Pe){d(ge)?.apply(this,Pe)},select:D}})}V(E,q)});var T=K(C,2);Ft(T,1,()=>($(zn),d(h),Z(()=>zn(d(h).columns,d(h).rows))),Gt,(E,F,I,q)=>{var ee=Tl();ne(te=>ur(ee,te),[()=>($(gr),d(u),Z(()=>`min-width: ${gr(4,d(u))}em`))]),V(E,ee)});var f=K(H,2);{var g=E=>{wl(E,{$$events:{close:()=>{x(c,!1)}}})};le(f,E=>{d(c)&&E(g)})}var k=K(f,2);hl(k,{get events(){return d(_)},get piles(){return d(i)},$$events:{shuffle:S}});var P=K(k,2);yl(P,{get piles(){return d(i)},shuffle:S,undo:A}),ne(()=>{he(H,1,`pileon deal-${d(h),Z(()=>d(h).columns)??""}x${d(h),Z(()=>d(h).rows)??""}`,"svelte-17eyygh"),U=ur(H,"",U,{"font-size":`${d(h),Z(()=>d(h).fontSize)??""}px`,"max-width":`${d(b)*1.25}em`})}),Cn(H,"clientHeight",E=>x(N,E)),Cn(H,"clientWidth",E=>x(m,E)),V(t,J),de(),a()}var Cl=Q("<!> <!> <!>",1);function kl(t,e){ce(e,!1);const r=()=>at(xt,"$settings",a),n=()=>at(Rt,"$actions",a),[a,i]=mt(),o=L(),l=v=>{v.key==="z"&&(v.ctrlKey||v.metaKey)&&n().undo!==void 0&&n().undo(v),v.key==="F1"&&n().help!==void 0&&n().help(v)};W(()=>(r(),Hn),()=>{x(o,r().game==="deck"?Hs:Hn)}),Ze(),we();var s=Cl();be("keydown",ha.body,l);var u=Ce(s);Ss(u,{});var h=K(u,2);So(h,()=>d(o),(v,m)=>{m(v,{})});var b=K(h,2);Lo(b,{}),V(t,s),de(),i()}go(kl,{target:document.body});
