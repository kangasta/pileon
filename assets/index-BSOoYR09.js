var Ba=Object.defineProperty;var an=e=>{throw TypeError(e)};var Ha=(e,t,r)=>t in e?Ba(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var on=(e,t,r)=>Ha(e,typeof t!="symbol"?t+"":t,r),br=(e,t,r)=>t.has(e)||an("Cannot "+r);var Ne=(e,t,r)=>(br(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?an("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),mr=(e,t,r,n)=>(br(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ln=(e,t,r)=>(br(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Wa=!1;var Lt=Array.isArray,Mr=Array.from,Ja=Object.defineProperty,it=Object.getOwnPropertyDescriptor,Mn=Object.getOwnPropertyDescriptors,Ga=Object.prototype,Ya=Array.prototype,Bt=Object.getPrototypeOf;const ot=()=>{};function Za(e){return e()}function _r(e){for(var t=0;t<e.length;t++)e[t]()}const De=2,Rn=4,It=8,Rr=16,Se=32,Mt=64,Ge=128,Ht=256,oe=512,qe=1024,mt=2048,Ce=4096,Rt=8192,Qa=16384,ar=32768,Xa=65536,ei=1<<18,$n=1<<19,lt=Symbol("$state"),ti=Symbol("");function jn(e){return e===this.v}function Un(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function $r(e){return!Un(e,this.v)}function ri(e){throw new Error("effect_in_teardown")}function ni(){throw new Error("effect_in_unowned_derived")}function ai(e){throw new Error("effect_orphan")}function ii(){throw new Error("effect_update_depth_exceeded")}function oi(e){throw new Error("props_invalid_value")}function li(){throw new Error("state_descriptors_fixed")}function ui(){throw new Error("state_prototype_fixed")}function si(){throw new Error("state_unsafe_local_read")}function ci(){throw new Error("state_unsafe_mutation")}let yt=!1;function fi(){yt=!0}function pe(e){return{f:0,v:e,reactions:null,equals:jn,version:0}}function ir(e,t=!1){var n;const r=pe(e);return t||(r.equals=$r),yt&&V!==null&&V.l!==null&&((n=V.l).s??(n.s=[])).push(r),r}function D(e,t=!1){return di(ir(e,t))}function di(e){return W!==null&&W.f&De&&(Ee===null?Ni([e]):Ee.push(e)),e}function m(e,t){return W!==null&&Br()&&W.f&(De|Rr)&&(Ee===null||!Ee.includes(e))&&ci(),wr(e,t)}function wr(e,t){return e.equals(t)||(e.v=t,e.version=ia(),Kn(e,qe),Br()&&z!==null&&z.f&oe&&!(z.f&Se)&&(ie!==null&&ie.includes(e)?(ke(z,qe),dr(z)):je===null?Pi([e]):je.push(e))),t}function Kn(e,t){var r=e.reactions;if(r!==null)for(var n=Br(),a=r.length,i=0;i<a;i++){var o=r[i],l=o.f;l&qe||!n&&o===z||(ke(o,t),l&(oe|Ge)&&(l&De?Kn(o,mt):dr(o)))}}const jr=1,Ur=2,qn=4,vi=8,hi=16,pi=1,gi=2,bi=4,mi=8,yi=16,_i=1,wi=2,se=Symbol();let zn=!1;function nt(e,t=null,r){if(typeof e!="object"||e===null||lt in e)return e;const n=Bt(e);if(n!==Ga&&n!==Ya)return e;var a=new Map,i=Lt(e),o=pe(0);i&&a.set("length",pe(e.length));var l;return new Proxy(e,{defineProperty(u,s,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&li();var d=a.get(s);return d===void 0?(d=pe(f.value),a.set(s,d)):m(d,nt(f.value,l)),!0},deleteProperty(u,s){var f=a.get(s);if(f===void 0)s in u&&a.set(s,pe(se));else{if(i&&typeof s=="string"){var d=a.get("length"),v=Number(s);Number.isInteger(v)&&v<d.v&&m(d,v)}m(f,se),un(o)}return!0},get(u,s,f){var g;if(s===lt)return e;var d=a.get(s),v=s in u;if(d===void 0&&(!v||(g=it(u,s))!=null&&g.writable)&&(d=pe(nt(v?u[s]:se,l)),a.set(s,d)),d!==void 0){var p=c(d);return p===se?void 0:p}return Reflect.get(u,s,f)},getOwnPropertyDescriptor(u,s){var f=Reflect.getOwnPropertyDescriptor(u,s);if(f&&"value"in f){var d=a.get(s);d&&(f.value=c(d))}else if(f===void 0){var v=a.get(s),p=v==null?void 0:v.v;if(v!==void 0&&p!==se)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return f},has(u,s){var p;if(s===lt)return!0;var f=a.get(s),d=f!==void 0&&f.v!==se||Reflect.has(u,s);if(f!==void 0||z!==null&&(!d||(p=it(u,s))!=null&&p.writable)){f===void 0&&(f=pe(d?nt(u[s],l):se),a.set(s,f));var v=c(f);if(v===se)return!1}return d},set(u,s,f,d){var A;var v=a.get(s),p=s in u;if(i&&s==="length")for(var g=f;g<v.v;g+=1){var y=a.get(g+"");y!==void 0?m(y,se):g in u&&(y=pe(se),a.set(g+"",y))}v===void 0?(!p||(A=it(u,s))!=null&&A.writable)&&(v=pe(void 0),m(v,nt(f,l)),a.set(s,v)):(p=v.v!==se,m(v,nt(f,l)));var T=Reflect.getOwnPropertyDescriptor(u,s);if(T!=null&&T.set&&T.set.call(d,f),!p){if(i&&typeof s=="string"){var F=a.get("length"),C=Number(s);Number.isInteger(C)&&C>=F.v&&m(F,C+1)}un(o)}return!0},ownKeys(u){c(o);var s=Reflect.ownKeys(u).filter(v=>{var p=a.get(v);return p===void 0||p.v!==se});for(var[f,d]of a)d.v!==se&&!(f in u)&&s.push(f);return s},setPrototypeOf(){ui()}})}function un(e,t=1){m(e,e.v+t)}var Sr,Vn,Bn,Hn;function Si(){if(Sr===void 0){Sr=window,Vn=document;var e=Element.prototype,t=Node.prototype;Bn=it(t,"firstChild").get,Hn=it(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function or(e=""){return document.createTextNode(e)}function ct(e){return Bn.call(e)}function lr(e){return Hn.call(e)}function N(e,t){return ct(e)}function de(e,t){{var r=ct(e);return r instanceof Comment&&r.data===""?lr(r):r}}function L(e,t=1,r=!1){let n=e;for(;t--;)n=lr(n);return n}function ki(e){e.textContent=""}function fe(e){var t=De|qe;z===null?t|=Ge:z.f|=$n;const r={children:null,ctx:V,deps:null,equals:jn,f:t,fn:e,reactions:null,v:null,version:0,parent:z};if(W!==null&&W.f&De){var n=W;(n.children??(n.children=[])).push(r)}return r}function we(e){const t=fe(e);return t.equals=$r,t}function Wn(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var n=t[r];n.f&De?Kr(n):Ye(n)}}}function Jn(e){var t,r=z;Ae(e.parent);try{Wn(e),t=oa(e)}finally{Ae(r)}return t}function Gn(e){var t=Jn(e),r=(at||e.f&Ge)&&e.deps!==null?mt:oe;ke(e,r),e.equals(t)||(e.v=t,e.version=ia())}function Kr(e){Wn(e),Ot(e,0),ke(e,Rt),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Yn(e){z===null&&W===null&&ai(),W!==null&&W.f&Ge&&ni(),Vr&&ri()}function Ti(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function _t(e,t,r,n=!0){var a=(e&Mt)!==0,i=z,o={ctx:V,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|qe,first:null,fn:t,last:null,next:null,parent:a?null:i,prev:null,teardown:null,transitions:null,version:0};if(r){var l=ut;try{sn(!0),$t(o),o.f|=Qa}catch(f){throw Ye(o),f}finally{sn(l)}}else t!==null&&dr(o);var u=r&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&$n)===0;if(!u&&!a&&n&&(i!==null&&Ti(o,i),W!==null&&W.f&De)){var s=W;(s.children??(s.children=[])).push(o)}return o}function Zn(e){const t=_t(It,null,!1);return ke(t,oe),t.teardown=e,t}function kr(e){Yn();var t=z!==null&&(z.f&Se)!==0&&V!==null&&!V.m;if(t){var r=V;(r.e??(r.e=[])).push({fn:e,effect:z,reaction:W})}else{var n=ur(e);return n}}function Ci(e){return Yn(),sr(e)}function Ei(e){const t=_t(Mt,e,!0);return()=>{Ye(t)}}function ur(e){return _t(Rn,e,!1)}function $(e,t){var r=V,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=sr(()=>{e(),!n.ran&&(n.ran=!0,m(r.l.r2,!0),Fe(t))})}function xe(){var e=V;sr(()=>{if(c(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&oe&&ke(r,mt),wt(r)&&$t(r),t.ran=!1}e.l.r2.v=!1}})}function sr(e){return _t(It,e,!0)}function Z(e){return cr(e)}function cr(e,t=0){return _t(It|Rr|t,e,!0)}function ft(e,t=!0){return _t(It|Se,e,!0,t)}function Qn(e){var t=e.teardown;if(t!==null){const r=Vr,n=W;cn(!0),ze(null);try{t.call(null)}finally{cn(r),ze(n)}}}function Xn(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)Kr(t[r])}}function ea(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;Ye(r,t),r=n}}function Ai(e){for(var t=e.first;t!==null;){var r=t.next;t.f&Se||Ye(t),t=r}}function Ye(e,t=!0){var r=!1;if((t||e.f&ei)&&e.nodes_start!==null){for(var n=e.nodes_start,a=e.nodes_end;n!==null;){var i=n===a?null:lr(n);n.remove(),n=i}r=!0}ea(e,t&&!r),Xn(e),Ot(e,0),ke(e,Rt);var o=e.transitions;if(o!==null)for(const u of o)u.stop();Qn(e);var l=e.parent;l!==null&&l.first!==null&&ta(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.parent=e.fn=e.nodes_start=e.nodes_end=null}function ta(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Wt(e,t){var r=[];qr(e,r,!0),ra(r,()=>{Ye(e),t&&t()})}function ra(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var a of e)a.out(n)}else t()}function qr(e,t,r){if(!(e.f&Ce)){if(e.f^=Ce,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var a=n.next,i=(n.f&ar)!==0||(n.f&Se)!==0;qr(n,t,i?r:!1),n=a}}}function Jt(e){na(e,!0)}function na(e,t){if(e.f&Ce){wt(e)&&$t(e),e.f^=Ce;for(var r=e.first;r!==null;){var n=r.next,a=(r.f&ar)!==0||(r.f&Se)!==0;na(r,a?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Tr=!1,Cr=[];function Oi(){Tr=!1;const e=Cr.slice();Cr=[],_r(e)}function zr(e){Tr||(Tr=!0,queueMicrotask(Oi)),Cr.push(e)}function fr(e){throw new Error("lifecycle_outside_component")}let Gt=!1,ut=!1,Vr=!1;function sn(e){ut=e}function cn(e){Vr=e}let Er=[],Et=0;let W=null;function ze(e){W=e}let z=null;function Ae(e){z=e}let Ee=null;function Ni(e){Ee=e}let ie=null,ce=0,je=null;function Pi(e){je=e}let aa=0,at=!1,V=null;function ia(){return++aa}function Br(){return!yt||V!==null&&V.l===null}function wt(e){var o,l;var t=e.f;if(t&qe)return!0;if(t&mt){var r=e.deps,n=(t&Ge)!==0;if(r!==null){var a;if(t&Ht){for(a=0;a<r.length;a++)((o=r[a]).reactions??(o.reactions=[])).push(e);e.f^=Ht}for(a=0;a<r.length;a++){var i=r[a];if(wt(i)&&Gn(i),n&&z!==null&&!at&&!((l=i==null?void 0:i.reactions)!=null&&l.includes(e))&&(i.reactions??(i.reactions=[])).push(e),i.version>e.version)return!0}}n||ke(e,oe)}return!1}function Di(e,t,r){throw e}function oa(e){var v;var t=ie,r=ce,n=je,a=W,i=at,o=Ee,l=V,u=e.f;ie=null,ce=0,je=null,W=u&(Se|Mt)?null:e,at=!ut&&(u&Ge)!==0,Ee=null,V=e.ctx;try{var s=(0,e.fn)(),f=e.deps;if(ie!==null){var d;if(Ot(e,ce),f!==null&&ce>0)for(f.length=ce+ie.length,d=0;d<ie.length;d++)f[ce+d]=ie[d];else e.deps=f=ie;if(!at)for(d=ce;d<f.length;d++)((v=f[d]).reactions??(v.reactions=[])).push(e)}else f!==null&&ce<f.length&&(Ot(e,ce),f.length=ce);return s}finally{ie=t,ce=r,je=n,W=a,at=i,Ee=o,V=l}}function Fi(e,t){let r=t.reactions;if(r!==null){var n=r.indexOf(e);if(n!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[n]=r[a],r.pop())}}r===null&&t.f&De&&(ie===null||!ie.includes(t))&&(ke(t,mt),t.f&(Ge|Ht)||(t.f^=Ht),Ot(t,0))}function Ot(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Fi(e,r[n])}function $t(e){var t=e.f;if(!(t&Rt)){ke(e,oe);var r=z;z=e;try{t&Rr?Ai(e):ea(e),Xn(e),Qn(e);var n=oa(e);e.teardown=typeof n=="function"?n:null,e.version=aa}catch(a){Di(a)}finally{z=r}}}function xi(){Et>1e3&&(Et=0,ii()),Et++}function Li(e){var t=e.length;if(t!==0){xi();var r=ut;ut=!0;try{for(var n=0;n<t;n++){var a=e[n];a.f&oe||(a.f^=oe);var i=[];la(a,i),Ii(i)}}finally{ut=r}}}function Ii(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];!(n.f&(Rt|Ce))&&wt(n)&&($t(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?ta(n):n.fn=null))}}function Mi(){if(Gt=!1,Et>1001)return;const e=Er;Er=[],Li(e),Gt||(Et=0)}function dr(e){Gt||(Gt=!0,queueMicrotask(Mi));for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(Mt|Se)){if(!(r&oe))return;t.f^=oe}}Er.push(t)}function la(e,t){var r=e.first,n=[];e:for(;r!==null;){var a=r.f,i=(a&Se)!==0,o=i&&(a&oe)!==0;if(!o&&!(a&Ce))if(a&It){i?r.f^=oe:wt(r)&&$t(r);var l=r.first;if(l!==null){r=l;continue}}else a&Rn&&n.push(r);var u=r.next;if(u===null){let d=r.parent;for(;d!==null;){if(e===d)break e;var s=d.next;if(s!==null){r=s;continue e}d=d.parent}}r=u}for(var f=0;f<n.length;f++)l=n[f],t.push(l),la(l,t)}function c(e){var l;var t=e.f,r=(t&De)!==0;if(r&&t&Rt){var n=Jn(e);return Kr(e),n}if(W!==null){Ee!==null&&Ee.includes(e)&&si();var a=W.deps;ie===null&&a!==null&&a[ce]===e?ce++:ie===null?ie=[e]:ie.push(e),je!==null&&z!==null&&z.f&oe&&!(z.f&Se)&&je.includes(e)&&(ke(z,qe),dr(z))}else if(r&&e.deps===null){var i=e,o=i.parent;o!==null&&!((l=o.deriveds)!=null&&l.includes(i))&&(o.deriveds??(o.deriveds=[])).push(i)}return r&&(i=e,wt(i)&&Gn(i)),e.v}function Fe(e){const t=W;try{return W=null,e()}finally{W=t}}const Ri=~(qe|mt|oe);function ke(e,t){e.f=e.f&Ri|t}function ua(e){return sa().get(e)}function $i(e,t){return sa().set(e,t),t}function sa(e){return V===null&&fr(),V.c??(V.c=new Map(ji(V)||void 0))}function ji(e){let t=e.p;for(;t!==null;){const r=t.c;if(r!==null)return r;t=t.p}return null}function ne(e,t=!1,r){V={p:V,c:null,e:null,m:!1,s:e,x:null,l:null},yt&&!t&&(V.l={s:null,u:null,r1:[],r2:pe(!1)})}function ae(e){const t=V;if(t!==null){const o=t.e;if(o!==null){var r=z,n=W;t.e=null;try{for(var a=0;a<o.length;a++){var i=o[a];Ae(i.effect),ze(i.reaction),ur(i.fn)}}finally{Ae(r),ze(n)}}V=t.p,t.m=!0}return{}}function I(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(lt in e)Ar(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&lt in r&&Ar(r)}}}function Ar(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Ar(e[n],t)}catch{}const r=Bt(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Mn(r);for(let a in n){const i=n[a].get;if(i)try{i.call(e)}catch{}}}}}function Ui(e){var t=W,r=z;ze(null),Ae(null);try{return e()}finally{ze(t),Ae(r)}}const Ki=new Set,fn=new Set;function qi(e,t,r,n){function a(i){if(n.capture||Ct.call(t,i),!i.cancelBubble)return Ui(()=>r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?zr(()=>{t.addEventListener(e,a,n)}):t.addEventListener(e,a,n),a}function le(e,t,r,n,a){var i={capture:n,passive:a},o=qi(e,t,r,i);(t===document.body||t===window||t===document)&&Zn(()=>{t.removeEventListener(e,o,i)})}function Ct(e){var C;var t=this,r=t.ownerDocument,n=e.type,a=((C=e.composedPath)==null?void 0:C.call(e))||[],i=a[0]||e.target,o=0,l=e.__root;if(l){var u=a.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var s=a.indexOf(t);if(s===-1)return;u<=s&&(o=u)}if(i=a[o]||e.target,i!==t){Ja(e,"currentTarget",{configurable:!0,get(){return i||r}});var f=W,d=z;ze(null),Ae(null);try{for(var v,p=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+n];if(y!==void 0&&!i.disabled)if(Lt(y)){var[T,...F]=y;T.apply(i,[e,...F])}else y.call(i,e)}catch(A){v?p.push(A):v=A}if(e.cancelBubble||g===t||g===null)break;i=g}if(v){for(let A of p)queueMicrotask(()=>{throw A});throw v}}finally{e.__root=t,delete e.currentTarget,ze(f),Ae(d)}}}function ca(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Nt(e,t){var r=z;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function H(e,t){var r=(t&_i)!==0,n=(t&wi)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=ca(i?e:"<!>"+e),r||(a=ct(a)));var o=n?document.importNode(a,!0):a.cloneNode(!0);if(r){var l=ct(o),u=o.lastChild;Nt(l,u)}else Nt(o,o);return o}}function fa(e,t,r="svg"){var n=!e.startsWith("<!>"),a=`<${r}>${n?e:"<!>"+e}</${r}>`,i;return()=>{if(!i){var o=ca(a),l=ct(o);i=ct(l)}var u=i.cloneNode(!0);return Nt(u,u),u}}function Yt(e=""){{var t=or(e+"");return Nt(t,t),t}}function vr(){var e=document.createDocumentFragment(),t=document.createComment(""),r=or();return e.append(t,r),Nt(t,r),e}function U(e,t){e!==null&&e.before(t)}const zi=["touchstart","touchmove"];function Vi(e){return zi.includes(e)}function _e(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function Bi(e,t){return Hi(e,t)}const Xe=new Map;function Hi(e,{target:t,anchor:r,props:n={},events:a,context:i,intro:o=!0}){Si();var l=new Set,u=d=>{for(var v=0;v<d.length;v++){var p=d[v];if(!l.has(p)){l.add(p);var g=Vi(p);t.addEventListener(p,Ct,{passive:g});var y=Xe.get(p);y===void 0?(document.addEventListener(p,Ct,{passive:g}),Xe.set(p,1)):Xe.set(p,y+1)}}};u(Mr(Ki)),fn.add(u);var s=void 0,f=Ei(()=>{var d=r??t.appendChild(or());return ft(()=>{if(i){ne({});var v=V;v.c=i}a&&(n.$$events=a),s=e(d,n)||{},i&&ae()}),()=>{var g;for(var v of l){t.removeEventListener(v,Ct);var p=Xe.get(v);--p===0?(document.removeEventListener(v,Ct),Xe.delete(v)):Xe.set(v,p)}fn.delete(u),dn.delete(s),d!==r&&((g=d.parentNode)==null||g.removeChild(d))}});return dn.set(s,f),s}let dn=new WeakMap;function re(e,t,r,n=null,a=!1){var i=e,o=null,l=null,u=null,s=a?ar:0;cr(()=>{u!==(u=!!t())&&(u?(o?Jt(o):o=ft(()=>r(i)),l&&Wt(l,()=>{l=null})):(l?Jt(l):n&&(l=ft(()=>n(i))),o&&Wt(o,()=>{o=null})))},s)}function dt(e,t){return t}function Wi(e,t,r,n){for(var a=[],i=t.length,o=0;o<i;o++)qr(t[o].e,a,!0);var l=i>0&&a.length===0&&r!==null;if(l){var u=r.parentNode;ki(u),u.append(r),n.clear(),Me(e,t[0].prev,t[i-1].next)}ra(a,()=>{for(var s=0;s<i;s++){var f=t[s];l||(n.delete(f.k),Me(e,f.prev,f.next)),Ye(f.e,!l)}})}function vt(e,t,r,n,a,i=null){var o=e,l={flags:t,items:new Map,first:null},u=(t&qn)!==0;if(u){var s=e;o=s.appendChild(or())}var f=null,d=!1;cr(()=>{var v=r(),p=Lt(v)?v:v==null?[]:Mr(v),g=p.length;if(!(d&&g===0)){d=g===0;{var y=W;Ji(p,l,o,a,t,(y.f&Ce)!==0,n)}i!==null&&(g===0?f?Jt(f):f=ft(()=>i(o)):f!==null&&Wt(f,()=>{f=null})),r()}})}function Ji(e,t,r,n,a,i,o){var b,w,x,R;var l=(a&vi)!==0,u=(a&(jr|Ur))!==0,s=e.length,f=t.items,d=t.first,v=d,p,g=null,y,T=[],F=[],C,A,O,k;if(l)for(k=0;k<s;k+=1)C=e[k],A=o(C,k),O=f.get(A),O!==void 0&&((b=O.a)==null||b.measure(),(y??(y=new Set)).add(O));for(k=0;k<s;k+=1){if(C=e[k],A=o(C,k),O=f.get(A),O===void 0){var q=v?v.e.nodes_start:r;g=Yi(q,t,g,g===null?t.first:g.next,C,A,k,n,a),f.set(A,g),T=[],F=[],v=g.next;continue}if(u&&Gi(O,C,k,a),O.e.f&Ce&&(Jt(O.e),l&&((w=O.a)==null||w.unfix(),(y??(y=new Set)).delete(O))),O!==v){if(p!==void 0&&p.has(O)){if(T.length<F.length){var E=F[0],B;g=E.prev;var G=T[0],Y=T[T.length-1];for(B=0;B<T.length;B+=1)vn(T[B],E,r);for(B=0;B<F.length;B+=1)p.delete(F[B]);Me(t,G.prev,Y.next),Me(t,g,G),Me(t,Y,E),v=E,g=Y,k-=1,T=[],F=[]}else p.delete(O),vn(O,v,r),Me(t,O.prev,O.next),Me(t,O,g===null?t.first:g.next),Me(t,g,O),g=O;continue}for(T=[],F=[];v!==null&&v.k!==A;)(i||!(v.e.f&Ce))&&(p??(p=new Set)).add(v),F.push(v),v=v.next;if(v===null)continue;O=v}T.push(O),g=O,v=O.next}if(v!==null||p!==void 0){for(var J=p===void 0?[]:Mr(p);v!==null;)(i||!(v.e.f&Ce))&&J.push(v),v=v.next;var _=J.length;if(_>0){var h=a&qn&&s===0?r:null;if(l){for(k=0;k<_;k+=1)(x=J[k].a)==null||x.measure();for(k=0;k<_;k+=1)(R=J[k].a)==null||R.fix()}Wi(t,J,h,f)}}l&&zr(()=>{var S;if(y!==void 0)for(O of y)(S=O.a)==null||S.apply()}),z.first=t.first&&t.first.e,z.last=g&&g.e}function Gi(e,t,r,n){n&jr&&wr(e.v,t),n&Ur?wr(e.i,r):e.i=r}function Yi(e,t,r,n,a,i,o,l,u){var s=(u&jr)!==0,f=(u&hi)===0,d=s?f?ir(a):pe(a):a,v=u&Ur?pe(o):o,p={i:v,v:d,k:i,a:null,e:null,prev:r,next:n};try{return p.e=ft(()=>l(e,d,v),zn),p.e.prev=r&&r.e,p.e.next=n&&n.e,r===null?t.first=p:(r.next=p,r.e.next=p.e),n!==null&&(n.prev=p,n.e.prev=p.e),p}finally{}}function vn(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var o=lr(i);a.before(i),i=o}}function Me(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function hr(e,t,r,n,a){var l;var i=(l=t.$$slots)==null?void 0:l[r],o=!1;i===!0&&(i=t.children,o=!0),i===void 0?a!==null&&a(e):i(e,o?()=>n:n)}function Zi(e,t,r){var n=e,a,i;cr(()=>{a!==(a=t())&&(i&&(Wt(i),i=null),a&&(i=ft(()=>r(n,a))))},ar)}function te(e,t,r,n){var a=e.__attributes??(e.__attributes={});a[t]!==(a[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[ti]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Qi(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var hn=new Map;function Qi(e){var t=hn.get(e.nodeName);if(t)return t;hn.set(e.nodeName,t=[]);for(var r,n=Bt(e),a=Element.prototype;a!==n;){r=Mn(n);for(var i in r)r[i].set&&t.push(i);n=Bt(n)}return t}function Ue(e,t){var r=e.__className,n=Xi(t);(r!==n||zn)&&(t==null?e.removeAttribute("class"):e.className=n,e.__className=n)}function Xi(e){return e??""}function X(e,t,r){if(r){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function pn(e,t,r,n){var a=e.__styles??(e.__styles={});a[t]!==r&&(a[t]=r,r==null?e.style.removeProperty(t):e.style.setProperty(t,r,""))}var Re,st,xt,rr,da;const nr=class nr{constructor(t){St(this,rr);St(this,Re,new WeakMap);St(this,st);St(this,xt);mr(this,xt,t)}observe(t,r){var n=Ne(this,Re).get(t)||new Set;return n.add(r),Ne(this,Re).set(t,n),ln(this,rr,da).call(this).observe(t,Ne(this,xt)),()=>{var a=Ne(this,Re).get(t);a.delete(r),a.size===0&&(Ne(this,Re).delete(t),Ne(this,st).unobserve(t))}}};Re=new WeakMap,st=new WeakMap,xt=new WeakMap,rr=new WeakSet,da=function(){return Ne(this,st)??mr(this,st,new ResizeObserver(t=>{for(var r of t){nr.entries.set(r.target,r);for(var n of Ne(this,Re).get(r.target)||[])n(r)}}))},on(nr,"entries",new WeakMap);let Or=nr;var eo=new Or({box:"border-box"});function gn(e,t,r){var n=eo.observe(e,()=>r(e[t]));ur(()=>(Fe(()=>r(e[t])),n))}function bn(e,t){return e===t||(e==null?void 0:e[lt])===t}function to(e={},t,r,n){return ur(()=>{var a,i;return sr(()=>{a=i,i=[],Fe(()=>{e!==r(...i)&&(t(e,...i),a&&bn(r(...a),e)&&t(null,...a))})}),()=>{zr(()=>{i&&bn(r(...i),e)&&t(null,...i)})}}),e}function ue(e=!1){const t=V,r=t.l.u;if(!r)return;let n=()=>I(t.s);if(e){let a=0,i={};const o=fe(()=>{let l=!1;const u=t.s;for(const s in u)u[s]!==i[s]&&(i[s]=u[s],l=!0);return l&&a++,a});n=()=>c(o)}r.b.length&&Ci(()=>{mn(t,n),_r(r.b)}),kr(()=>{const a=Fe(()=>r.m.map(Za));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&kr(()=>{mn(t,n),_r(r.a)})}function mn(e,t){if(e.l.s)for(const r of e.l.s)c(r);t()}function Nr(e,t){var i;var r=(i=e.$$events)==null?void 0:i[t.type],n=Lt(r)?r.slice():r==null?[]:[r];for(var a of n)a.call(this,t)}function va(e,t,r){if(e==null)return t(void 0),ot;const n=Fe(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}let Ut=!1;function Ve(e,t,r){const n=r[t]??(r[t]={store:null,source:ir(void 0),unsubscribe:ot});if(n.store!==e)if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=ot;else{var a=!0;n.unsubscribe=va(e,i=>{a?n.source.v=i:m(n.source,i)}),a=!1}return c(n.source)}function Ze(){const e={};return Zn(()=>{for(var t in e)e[t].unsubscribe()}),e}function ro(e){var t=Ut;try{return Ut=!1,[e(),Ut]}finally{Ut=t}}function yn(e){for(var t=z,r=z;t!==null&&!(t.f&(Se|Mt));)t=t.parent;try{return Ae(t),e()}finally{Ae(r)}}function K(e,t,r,n){var q;var a=(r&pi)!==0,i=!yt||(r&gi)!==0,o=(r&mi)!==0,l=(r&yi)!==0,u=!1,s;o?[s,u]=ro(()=>e[t]):s=e[t];var f=(q=it(e,t))==null?void 0:q.set,d=n,v=!0,p=!1,g=()=>(p=!0,v&&(v=!1,l?d=Fe(n):d=n),d);s===void 0&&n!==void 0&&(f&&i&&oi(),s=g(),f&&f(s));var y;if(i)y=()=>{var E=e[t];return E===void 0?g():(v=!0,p=!1,E)};else{var T=yn(()=>(a?fe:we)(()=>e[t]));T.f|=Xa,y=()=>{var E=c(T);return E!==void 0&&(d=void 0),E===void 0?d:E}}if(!(r&bi))return y;if(f){var F=e.$$legacy;return function(E,B){return arguments.length>0?((!i||!B||F||u)&&f(B?y():E),E):y()}}var C=!1,A=!1,O=ir(s),k=yn(()=>fe(()=>{var E=y(),B=c(O);return C?(C=!1,A=!0,B):(A=!1,O.v=E)}));return a||(k.equals=$r),function(E,B){if(arguments.length>0){const G=B?c(k):i&&o?nt(E):E;return k.equals(G)||(C=!0,m(O,G),p&&d!==void 0&&(d=G),Fe(()=>c(k))),E}return c(k)}}function jt(e){V===null&&fr(),yt&&V.l!==null?ao(V).m.push(e):kr(()=>{const t=Fe(e);if(typeof t=="function")return t})}function ha(e){V===null&&fr(),jt(()=>()=>Fe(e))}function no(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function Hr(){const e=V;return e===null&&fr(),(t,r,n)=>{var i;const a=(i=e.s.$$events)==null?void 0:i[t];if(a){const o=Lt(a)?a.slice():[a],l=no(t,r,n);for(const u of o)u.call(e.x,l);return!l.defaultPrevented}return!0}}function ao(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const io="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(io);fi();var oo=H("<span></span>"),lo=H('<footer class="svelte-ivyywu"><a href="https://github.com/kangasta/pileon.git" target="_blank">kangasta / pileon</a> <!></footer>');function uo(e,t){ne(t,!1);const r="",n="2580087a941ff0605a865c03782354cfcf13fb42".slice(0,8);ue();var a=lo(),i=L(N(a),2);re(i,()=>n||r,o=>{var l=oo();l.textContent=`at ${r} ${n??""}`,U(o,l)}),U(e,a),ae()}const et=[];function Wr(e,t=ot){let r=null;const n=new Set;function a(l){if(Un(e,l)&&(e=l,r)){const u=!et.length;for(const s of n)s[1](),et.push(s,e);if(u){for(let s=0;s<et.length;s+=2)et[s][0](et[s+1]);et.length=0}}}function i(l){a(l(e))}function o(l,u=ot){const s=[l,u];return n.add(s),n.size===1&&(r=t(a,i)||ot),l(e),()=>{n.delete(s),n.size===0&&r&&(r(),r=null)}}return{set:a,update:i,subscribe:o}}function so(e){let t;return va(e,r=>t=r)(),t}const pa="settings",co={game:"pileon",colors:"default",size:"default"},fo=JSON.parse(localStorage.getItem(pa)??"null"),ht=Wr(fo??co);ht.subscribe(e=>localStorage.setItem(pa,JSON.stringify(e)));const vo={},pt=Wr(vo);/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ga=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Zt=ga.join(","),ba=typeof Element>"u",Je=ba?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Qt=!ba&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Xt=function e(t,r){var n;r===void 0&&(r=!0);var a=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"inert"),i=a===""||a==="true",o=i||r&&t&&e(t.parentNode);return o},ho=function(t){var r,n=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"contenteditable");return n===""||n==="true"},ma=function(t,r,n){if(Xt(t))return[];var a=Array.prototype.slice.apply(t.querySelectorAll(Zt));return r&&Je.call(t,Zt)&&a.unshift(t),a=a.filter(n),a},ya=function e(t,r,n){for(var a=[],i=Array.from(t);i.length;){var o=i.shift();if(!Xt(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),u=l.length?l:o.children,s=e(u,!0,n);n.flatten?a.push.apply(a,s):a.push({scopeParent:o,candidates:s})}else{var f=Je.call(o,Zt);f&&n.filter(o)&&(r||!t.includes(o))&&a.push(o);var d=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),v=!Xt(d,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(d&&v){var p=e(d===!0?o.children:d.children,!0,n);n.flatten?a.push.apply(a,p):a.push({scopeParent:o,candidates:p})}else i.unshift.apply(i,o.children)}}return a},_a=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},We=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||ho(t))&&!_a(t)?0:t.tabIndex},po=function(t,r){var n=We(t);return n<0&&r&&!_a(t)?0:n},go=function(t,r){return t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex},wa=function(t){return t.tagName==="INPUT"},bo=function(t){return wa(t)&&t.type==="hidden"},mo=function(t){var r=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return r},yo=function(t,r){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===r)return t[n]},_o=function(t){if(!t.name)return!0;var r=t.form||Qt(t),n=function(l){return r.querySelectorAll('input[type="radio"][name="'+l+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(t.name));else try{a=n(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=yo(a,t.form);return!i||i===t},wo=function(t){return wa(t)&&t.type==="radio"},So=function(t){return wo(t)&&!_o(t)},ko=function(t){var r,n=t&&Qt(t),a=(r=n)===null||r===void 0?void 0:r.host,i=!1;if(n&&n!==t){var o,l,u;for(i=!!((o=a)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(a)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!i&&a;){var s,f,d;n=Qt(a),a=(s=n)===null||s===void 0?void 0:s.host,i=!!((f=a)!==null&&f!==void 0&&(d=f.ownerDocument)!==null&&d!==void 0&&d.contains(a))}}return i},_n=function(t){var r=t.getBoundingClientRect(),n=r.width,a=r.height;return n===0&&a===0},To=function(t,r){var n=r.displayCheck,a=r.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=Je.call(t,"details>summary:first-of-type"),o=i?t.parentElement:t;if(Je.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof a=="function"){for(var l=t;t;){var u=t.parentElement,s=Qt(t);if(u&&!u.shadowRoot&&a(u)===!0)return _n(t);t.assignedSlot?t=t.assignedSlot:!u&&s!==t.ownerDocument?t=s.host:t=u}t=l}if(ko(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return _n(t);return!1},Co=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var r=t.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var a=r.children.item(n);if(a.tagName==="LEGEND")return Je.call(r,"fieldset[disabled] *")?!0:!a.contains(t)}return!0}r=r.parentElement}return!1},er=function(t,r){return!(r.disabled||Xt(r)||bo(r)||To(r,t)||mo(r)||Co(r))},Pr=function(t,r){return!(So(r)||We(r)<0||!er(t,r))},Eo=function(t){var r=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},Ao=function e(t){var r=[],n=[];return t.forEach(function(a,i){var o=!!a.scopeParent,l=o?a.scopeParent:a,u=po(l,o),s=o?e(a.candidates):l;u===0?o?r.push.apply(r,s):r.push(l):n.push({documentOrder:i,tabIndex:u,item:a,isScope:o,content:s})}),n.sort(go).reduce(function(a,i){return i.isScope?a.push.apply(a,i.content):a.push(i.content),a},[]).concat(r)},Oo=function(t,r){r=r||{};var n;return r.getShadowRoot?n=ya([t],r.includeContainer,{filter:Pr.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Eo}):n=ma(t,r.includeContainer,Pr.bind(null,r)),Ao(n)},No=function(t,r){r=r||{};var n;return r.getShadowRoot?n=ya([t],r.includeContainer,{filter:er.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=ma(t,r.includeContainer,er.bind(null,r)),n},tt=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return Je.call(t,Zt)===!1?!1:Pr(r,t)},Po=ga.concat("iframe").join(","),yr=function(t,r){if(r=r||{},!t)throw new Error("No node provided");return Je.call(t,Po)===!1?!1:er(r,t)};/*!
* focus-trap 7.6.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Dr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Do(e){if(Array.isArray(e))return Dr(e)}function Fo(e,t,r){return(t=Ro(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wn(Object(r),!0).forEach(function(n){Fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Io(e){return Do(e)||xo(e)||$o(e)||Lo()}function Mo(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ro(e){var t=Mo(e,"string");return typeof t=="symbol"?t:t+""}function $o(e,t){if(e){if(typeof e=="string")return Dr(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dr(e,t):void 0}}var kn={activateTrap:function(t,r){if(t.length>0){var n=t[t.length-1];n!==r&&n.pause()}var a=t.indexOf(r);a===-1||t.splice(a,1),t.push(r)},deactivateTrap:function(t,r){var n=t.indexOf(r);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}},jo=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Uo=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},At=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},Ko=function(t){return At(t)&&!t.shiftKey},qo=function(t){return At(t)&&t.shiftKey},Tn=function(t){return setTimeout(t,0)},Cn=function(t,r){var n=-1;return t.every(function(a,i){return r(a)?(n=i,!1):!0}),n},kt=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return typeof t=="function"?t.apply(void 0,n):t},Kt=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},zo=[],Vo=function(t,r){var n=(r==null?void 0:r.document)||document,a=(r==null?void 0:r.trapStack)||zo,i=Sn({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Ko,isKeyBackward:qo},r),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,u=function(h,b,w){return h&&h[b]!==void 0?h[b]:i[w||b]},s=function(h,b){var w=typeof(b==null?void 0:b.composedPath)=="function"?b.composedPath():void 0;return o.containerGroups.findIndex(function(x){var R=x.container,S=x.tabbableNodes;return R.contains(h)||(w==null?void 0:w.includes(R))||S.find(function(P){return P===h})})},f=function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=b.hasFallback,x=w===void 0?!1:w,R=b.params,S=R===void 0?[]:R,P=i[h];if(typeof P=="function"&&(P=P.apply(void 0,Io(S))),P===!0&&(P=void 0),!P){if(P===void 0||P===!1)return P;throw new Error("`".concat(h,"` was specified but was not a node, or did not return a node"))}var M=P;if(typeof P=="string"){try{M=n.querySelector(P)}catch(j){throw new Error("`".concat(h,'` appears to be an invalid selector; error="').concat(j.message,'"'))}if(!M&&!x)throw new Error("`".concat(h,"` as selector refers to no known node"))}return M},d=function(){var h=f("initialFocus",{hasFallback:!0});if(h===!1)return!1;if(h===void 0||h&&!yr(h,i.tabbableOptions))if(s(n.activeElement)>=0)h=n.activeElement;else{var b=o.tabbableGroups[0],w=b&&b.firstTabbableNode;h=w||f("fallbackFocus")}else h===null&&(h=f("fallbackFocus"));if(!h)throw new Error("Your focus-trap needs to have at least one focusable element");return h},v=function(){if(o.containerGroups=o.containers.map(function(h){var b=Oo(h,i.tabbableOptions),w=No(h,i.tabbableOptions),x=b.length>0?b[0]:void 0,R=b.length>0?b[b.length-1]:void 0,S=w.find(function(j){return tt(j)}),P=w.slice().reverse().find(function(j){return tt(j)}),M=!!b.find(function(j){return We(j)>0});return{container:h,tabbableNodes:b,focusableNodes:w,posTabIndexesFound:M,firstTabbableNode:x,lastTabbableNode:R,firstDomTabbableNode:S,lastDomTabbableNode:P,nextTabbableNode:function(ve){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,he=b.indexOf(ve);return he<0?Te?w.slice(w.indexOf(ve)+1).find(function(me){return tt(me)}):w.slice(0,w.indexOf(ve)).reverse().find(function(me){return tt(me)}):b[he+(Te?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(h){return h.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(h){return h.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function(h){var b=h.activeElement;if(b)return b.shadowRoot&&b.shadowRoot.activeElement!==null?p(b.shadowRoot):b},g=function(h){if(h!==!1&&h!==p(document)){if(!h||!h.focus){g(d());return}h.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=h,jo(h)&&h.select()}},y=function(h){var b=f("setReturnFocus",{params:[h]});return b||(b===!1?!1:h)},T=function(h){var b=h.target,w=h.event,x=h.isBackward,R=x===void 0?!1:x;b=b||Kt(w),v();var S=null;if(o.tabbableGroups.length>0){var P=s(b,w),M=P>=0?o.containerGroups[P]:void 0;if(P<0)R?S=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:S=o.tabbableGroups[0].firstTabbableNode;else if(R){var j=Cn(o.tabbableGroups,function(ye){var Oe=ye.firstTabbableNode;return b===Oe});if(j<0&&(M.container===b||yr(b,i.tabbableOptions)&&!tt(b,i.tabbableOptions)&&!M.nextTabbableNode(b,!1))&&(j=P),j>=0){var ve=j===0?o.tabbableGroups.length-1:j-1,Te=o.tabbableGroups[ve];S=We(b)>=0?Te.lastTabbableNode:Te.lastDomTabbableNode}else At(w)||(S=M.nextTabbableNode(b,!1))}else{var he=Cn(o.tabbableGroups,function(ye){var Oe=ye.lastTabbableNode;return b===Oe});if(he<0&&(M.container===b||yr(b,i.tabbableOptions)&&!tt(b,i.tabbableOptions)&&!M.nextTabbableNode(b))&&(he=P),he>=0){var me=he===o.tabbableGroups.length-1?0:he+1,Qe=o.tabbableGroups[me];S=We(b)>=0?Qe.firstTabbableNode:Qe.firstDomTabbableNode}else At(w)||(S=M.nextTabbableNode(b))}}else S=f("fallbackFocus");return S},F=function(h){var b=Kt(h);if(!(s(b,h)>=0)){if(kt(i.clickOutsideDeactivates,h)){l.deactivate({returnFocus:i.returnFocusOnDeactivate});return}kt(i.allowOutsideClick,h)||h.preventDefault()}},C=function(h){var b=Kt(h),w=s(b,h)>=0;if(w||b instanceof Document)w&&(o.mostRecentlyFocusedNode=b);else{h.stopImmediatePropagation();var x,R=!0;if(o.mostRecentlyFocusedNode)if(We(o.mostRecentlyFocusedNode)>0){var S=s(o.mostRecentlyFocusedNode),P=o.containerGroups[S].tabbableNodes;if(P.length>0){var M=P.findIndex(function(j){return j===o.mostRecentlyFocusedNode});M>=0&&(i.isKeyForward(o.recentNavEvent)?M+1<P.length&&(x=P[M+1],R=!1):M-1>=0&&(x=P[M-1],R=!1))}}else o.containerGroups.some(function(j){return j.tabbableNodes.some(function(ve){return We(ve)>0})})||(R=!1);else R=!1;R&&(x=T({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),g(x||o.mostRecentlyFocusedNode||d())}o.recentNavEvent=void 0},A=function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=h;var w=T({event:h,isBackward:b});w&&(At(h)&&h.preventDefault(),g(w))},O=function(h){(i.isKeyForward(h)||i.isKeyBackward(h))&&A(h,i.isKeyBackward(h))},k=function(h){Uo(h)&&kt(i.escapeDeactivates,h)!==!1&&(h.preventDefault(),l.deactivate())},q=function(h){var b=Kt(h);s(b,h)>=0||kt(i.clickOutsideDeactivates,h)||kt(i.allowOutsideClick,h)||(h.preventDefault(),h.stopImmediatePropagation())},E=function(){if(o.active)return kn.activateTrap(a,l),o.delayInitialFocusTimer=i.delayInitialFocus?Tn(function(){g(d())}):g(d()),n.addEventListener("focusin",C,!0),n.addEventListener("mousedown",F,{capture:!0,passive:!1}),n.addEventListener("touchstart",F,{capture:!0,passive:!1}),n.addEventListener("click",q,{capture:!0,passive:!1}),n.addEventListener("keydown",O,{capture:!0,passive:!1}),n.addEventListener("keydown",k),l},B=function(){if(o.active)return n.removeEventListener("focusin",C,!0),n.removeEventListener("mousedown",F,!0),n.removeEventListener("touchstart",F,!0),n.removeEventListener("click",q,!0),n.removeEventListener("keydown",O,!0),n.removeEventListener("keydown",k),l},G=function(h){var b=h.some(function(w){var x=Array.from(w.removedNodes);return x.some(function(R){return R===o.mostRecentlyFocusedNode})});b&&g(d())},Y=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(G):void 0,J=function(){Y&&(Y.disconnect(),o.active&&!o.paused&&o.containers.map(function(h){Y.observe(h,{subtree:!0,childList:!0})}))};return l={get active(){return o.active},get paused(){return o.paused},activate:function(h){if(o.active)return this;var b=u(h,"onActivate"),w=u(h,"onPostActivate"),x=u(h,"checkCanFocusTrap");x||v(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=n.activeElement,b==null||b();var R=function(){x&&v(),E(),J(),w==null||w()};return x?(x(o.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(h){if(!o.active)return this;var b=Sn({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},h);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,B(),o.active=!1,o.paused=!1,J(),kn.deactivateTrap(a,l);var w=u(b,"onDeactivate"),x=u(b,"onPostDeactivate"),R=u(b,"checkCanReturnFocus"),S=u(b,"returnFocus","returnFocusOnDeactivate");w==null||w();var P=function(){Tn(function(){S&&g(y(o.nodeFocusedBeforeActivation)),x==null||x()})};return S&&R?(R(y(o.nodeFocusedBeforeActivation)).then(P,P),this):(P(),this)},pause:function(h){if(o.paused||!o.active)return this;var b=u(h,"onPause"),w=u(h,"onPostPause");return o.paused=!0,b==null||b(),B(),J(),w==null||w(),this},unpause:function(h){if(!o.paused||!o.active)return this;var b=u(h,"onUnpause"),w=u(h,"onPostUnpause");return o.paused=!1,b==null||b(),v(),E(),J(),w==null||w(),this},updateContainerElements:function(h){var b=[].concat(h).filter(Boolean);return o.containers=b.map(function(w){return typeof w=="string"?n.querySelector(w):w}),o.active&&v(),J(),this}},l.updateContainerElements(t),l};const Sa=()=>(Math.random()+1).toString(36).substring(5),Bo={Close:{path:"M 3 3 L 13 13 M 3 13 L 13 3"},Help:{path:"M 8 12 L 8 12 M 8 10 L 8 9 C 8 7 10 8 10 6 A 2 2 0 1 0 6 6 M 8 1.5 A 6.5 6.5 0 0 1 8 14.5 A 6.5 6.5 0 0 1 8 1.5"},Menu:{path:"M 2 4 L 14 4 M 2 8 L 14 8 M 2 12 L 14 12"},Minimize:{path:"M 11 13 L 6.75 13 M 11 11 L 6.75 11 M 11 11 L 11 6.75 M 11 11 L 3 3"},OpenModal:{path:"M 3 3 L 7.25 3 M 3 3 L 3 7.25 M 3 3 L 10 10 M 3 11 A 2 2 0 0 0 5 13 L 11 13 A 2 2 0 0 0 13 11 L 13 5 A 2 2 0 0 0 11 3 L 11 3"},Shuffle:{path:"M 5 2 L 2 5 L 5 8 M 2 5 L 12 5 M 11 14 L 14 11 L 11 8 M 14 11 L 4 11"},Undo:{path:"M 5 3 L 2 6 L 5 9 M 2 6 L 10 6 A 3 3 0 1 1 10 13 L 8 13"}};var Ho=fa('<svg viewBox="0 0 16 16"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"></path></svg>');function ka(e,t){ne(t,!1);let r=K(t,"icon",8);ue();var n=Ho(),a=N(n);Z(()=>te(a,"d",Bo[r()].path)),U(e,n),ae()}var Wo=H('<div class="icon-button clickable svelte-7d82q0"><div class="content svelte-7d82q0"><button class="clickable svelte-7d82q0"><div class="icon svelte-7d82q0"><!></div></button> <div class="label svelte-7d82q0"> </div></div></div>');function $e(e,t){ne(t,!1);let r=K(t,"icon",8),n=K(t,"label",8),a=K(t,"onClick",8);const i=`${Sa()}-label`;ue();var o=Wo(),l=N(o),u=N(l);te(u,"aria-labelledby",i),X(u,"open",open);var s=N(u),f=N(s);ka(f,{get icon(){return r()}});var d=L(u,2);te(d,"id",i);var v=N(d);Z(()=>_e(v,n())),le("click",u,function(...p){var g;(g=a())==null||g.apply(this,p)}),le("click",o,function(...p){var g;(g=a())==null||g.apply(this,p)}),U(e,o),ae()}var Jo=H('<div class="backdrop svelte-fabgrs"></div> <div role="dialog"><div class="header svelte-fabgrs"><h2 class="svelte-fabgrs"> </h2> <!></div> <div class="content svelte-fabgrs"><!></div></div>',1);function Jr(e,t){var O,k;ne(t,!1);let r=K(t,"title",8),n=K(t,"position",8,"center"),a=K(t,"closeIcon",8,"Close");const i=`modal-${Sa()}`,o=`${i}-title`;let l=D(!1);jt(()=>{const q=Vo(`#${i}`,{clickOutsideDeactivates:!0,onDeactivate:()=>s()});q.activate();const E=document.body.style.overflow;return document.body.style.overflow="hidden",setTimeout(()=>{m(l,!0)},0),()=>{q.deactivate(),document.body.style.overflow=E}});const u=Hr(),s=()=>{m(l,!1),setTimeout(()=>u("close"),125)};let f=((O=navigator.windowControlsOverlay)==null?void 0:O.visible)&&((k=navigator.windowControlsOverlay)==null?void 0:k.getTitlebarAreaRect().left)>0;ue();var d=Jo(),v=de(d),p=L(v,2);te(p,"aria-labelledby",o),te(p,"id",i);var g=N(p),y=N(g);te(y,"id",o);var T=N(y),F=L(y,2);$e(F,{get icon(){return a()},label:"Close",onClick:s});var C=L(g,2),A=N(C);hr(A,t,"default",{},null),Z(()=>{X(v,"open",c(l)),Ue(p,`modal ${n()??""} ${(f?"window-controls-on-left":"")??""} svelte-fabgrs`),X(p,"open",c(l)),_e(T,r())}),U(e,d),ae()}var Go=H('<button class="svelte-fhaqyy"><!></button>');function Pe(e,t){ne(t,!1);const r=Ze(),n=()=>Ve(ht,"$settings",r),a=D(),i=D();let o=K(t,"target",8),l=K(t,"value",8);const{update:u}=ht,s=()=>{};$(()=>(n(),I(o()),I(l())),()=>{m(i,n()[o()]===l())}),$(()=>(c(i),I(o()),I(l())),()=>{m(a,c(i)?s:()=>u(v=>({...v,[o()]:l()})))}),xe(),ue();var f=Go(),d=N(f);hr(d,t,"default",{},v=>{var p=Yt();Z(()=>_e(p,l())),U(v,p)}),Z(()=>{te(f,"aria-pressed",c(i)?"true":"false"),f.disabled=c(i),X(f,"pressed",c(i))}),le("click",f,function(...v){var p;(p=c(a))==null||p.apply(this,v)}),U(e,f),ae()}var Yo=H('<div class="drawer svelte-vd9w7o"><ul class="svelte-vd9w7o"><li class="svelte-vd9w7o"><!></li> <li class="svelte-vd9w7o"><!></li></ul> <div class="whitespace svelte-vd9w7o"></div> <h3>Settings</h3> <table class="svelte-vd9w7o"><tbody><tr><th class="svelte-vd9w7o">Colors:</th><td class="svelte-vd9w7o"><!> / <!> / <!></td></tr><tr><th class="svelte-vd9w7o">Size:</th><td class="svelte-vd9w7o"><!> / <!> / <!> / <!></td></tr></tbody></table></div>'),Zo=H('<div class="titlebar svelte-vd9w7o"><div class="window-controls svelte-vd9w7o"></div> <div><!> <!> <!> <!></div> <div class="window-controls svelte-vd9w7o"></div></div> <!>',1);function Qo(e,t){ne(t,!1);const r=Ze(),n=()=>Ve(pt,"$actions",r);let a=D(!1);const i=C=>A=>{m(a,C==="open"),A.stopPropagation()};let o=D(),l=D("");const u=()=>{var O,k;if(!((O=navigator.windowControlsOverlay)!=null&&O.visible))return;const C=c(o).getBoundingClientRect(),A=(k=navigator.windowControlsOverlay)==null?void 0:k.getTitlebarAreaRect();A.left>C.left||A.right<C.right?m(l,"below-titlebar"):m(l,"")};jt(u),ue();var s=Zo();le("resize",Sr,u);var f=de(s),d=L(N(f),2),v=N(d),p=we(()=>i("open"));$e(v,{icon:"Menu",label:"Menu",get onClick(){return c(p)}});var g=L(v,2);re(g,()=>n().help!==void 0,C=>{$e(C,{icon:"Help",label:"Help",get onClick(){return n().help}})});var y=L(g,2);re(y,()=>n().shuffle!==void 0,C=>{$e(C,{icon:"Shuffle",label:"Shuffle",get onClick(){return n().shuffle}})});var T=L(y,2);re(T,()=>n().undo!==void 0,C=>{$e(C,{icon:"Undo",label:"Undo",get onClick(){return n().undo}})}),to(d,C=>m(o,C),()=>c(o));var F=L(f,2);re(F,()=>c(a),C=>{var A=fe(()=>i("close"));Jr(C,{position:"left",title:"Menu",$$events:{close(...O){var k;(k=c(A))==null||k.apply(this,O)}},children:(O,k)=>{var q=Yo(),E=N(q),B=N(E),G=N(B);Pe(G,{target:"game",value:"pileon",children:(me,Qe)=>{var ye=Yt("Pileon solitaire");U(me,ye)},$$slots:{default:!0}});var Y=L(B,2),J=N(Y);Pe(J,{target:"game",value:"deck",children:(me,Qe)=>{var ye=Yt("Deck of cards");U(me,ye)},$$slots:{default:!0}});var _=L(E,6),h=N(_),b=N(h),w=L(N(b)),x=N(w);Pe(x,{target:"colors",value:"default"});var R=L(x,2);Pe(R,{target:"colors",value:"standard"});var S=L(R,2);Pe(S,{target:"colors",value:"four-color"});var P=L(b),M=L(N(P)),j=N(M);Pe(j,{target:"size",value:"default"});var ve=L(j,2);Pe(ve,{target:"size",value:"bridge"});var Te=L(ve,2);Pe(Te,{target:"size",value:"poker"});var he=L(Te,2);Pe(he,{target:"size",value:"small"}),U(O,q)},$$slots:{default:!0}})}),Z(()=>Ue(d,`menu ${c(l)??""} svelte-vd9w7o`)),U(e,s),ae()}var Q={},ge={};function gt(e){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(e)}Object.defineProperty(ge,"__esModule",{value:!0});var Fr=ge.Cards=ge.CardSuits=Pa=ge.CardStringType=ge.Card=void 0;function Le(e,t,r){return t=Ea(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ta(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function En(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ea(n.key),n)}}function Ca(e,t,r){return t&&En(e.prototype,t),r&&En(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ea(e){var t=Xo(e,"string");return gt(t)==="symbol"?t:String(t)}function Xo(e,t){if(gt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function el(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pt(e,t)}function tl(e){var t=Oa();return function(){var n=Dt(e),a;if(t){var i=Dt(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Aa(this,a)}}function Aa(e,t){if(t&&(gt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rl(e)}function rl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e){var t=typeof Map=="function"?new Map:void 0;return xr=function(n){if(n===null||!nl(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return zt(n,arguments,Dt(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Pt(a,n)},xr(e)}function zt(e,t,r){return Oa()?zt=Reflect.construct.bind():zt=function(a,i,o){var l=[null];l.push.apply(l,i);var u=Function.bind.apply(a,l),s=new u;return o&&Pt(s,o.prototype),s},zt.apply(null,arguments)}function Oa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nl(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Pt(e,t){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pt(e,t)}function Dt(e){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dt(e)}function al(e,t){return ul(e)||ll(e,t)||ol(e,t)||il()}function il(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ol(e,t){if(e){if(typeof e=="string")return An(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return An(e,t)}}function An(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ll(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){s=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}function ul(e){if(Array.isArray(e))return e}var Na=function(e){return e[e.Hearts=0]="Hearts",e[e.Spades=1]="Spades",e[e.Diamonds=2]="Diamonds",e[e.Clubs=3]="Clubs",e}({});ge.CardSuits=Na;var Gr=function(e){return e.Char="CHAR",e.Short="SHORT",e.Long="LONG",e.ShortEmoji="SHORT_EMOJI",e.ShortSuit="SHORT_SUIT",e.LongSuit="LONG_SUIT",e.EmojiSuit="EMOJI_SUIT",e.ShortValue="SHORT_VALUE",e.LongValue="LONG_VALUE",e}({}),Pa=ge.CardStringType=Gr,sl={"":0,"":1,"":2,"":3,h:0,s:1,d:2,c:3},cl={A:1,T:10,J:11,Q:12,K:13},fl=function(t){var r=/^([2-9ATJQK]{1}|10)([hsdc]{1})$/,n=t.match(r);if(!n)throw new Error('Could not parse card from "'.concat(t,'". Input should match ').concat(r,"."));var a=al(n,3);a[0];var i=a[1],o=a[2],l=Number(i),u=(Number.isNaN(l)?cl[i]:l)-1;return sl[o]*13+u},dl=function(t){var r=/^_[a-z]+$/i;if(t.match(r)){var n=Array.from(t.slice(1));return n.map(function(a){var i=a.charCodeAt(0);return i<91?i-65:i-97+26})}return t.split(/[\s,]+/)},vl=function(e){el(r,e);var t=tl(r);function r(n){var a;if(Ta(this,r),typeof n=="number")a=t.call(this,n);else{a=t.call(this);var i=Array.isArray(n)?n:dl(n);i.forEach(function(o){return a.push(new be(o))})}return Aa(a)}return Ca(r,[{key:"toString",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:be.StringType.Short;return a===Gr.Char?"_"+this.map(function(i){return i.toString(a)}).join(""):this.map(function(i){return i.toString(a)}).join(", ")}}]),r}(xr(Array));Fr=ge.Cards=vl;var hl=function(t){return typeof t=="string"?fl(t):t instanceof be?t.num:t},be=function(){function e(t){Ta(this,e),Le(this,"num",void 0),this.num=hl(t)}return Ca(e,[{key:"suit",get:function(){return e.getSuit(this.num)}},{key:"value",get:function(){return e.getValue(this.num)}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.StringType.Long;switch(r){case e.StringType.Short:return this.toString(e.StringType.ShortValue)+this.toString(e.StringType.ShortSuit);case e.StringType.ShortEmoji:return this.toString(e.StringType.ShortValue)+this.toString(e.StringType.EmojiSuit);case e.StringType.Long:return this.toString(e.StringType.LongValue)+" of "+this.toString(e.StringType.LongSuit);case e.StringType.Char:return e.chars[this.num];case e.StringType.ShortSuit:return e.shortSuits[this.suit];case e.StringType.LongSuit:return e.longSuits[this.suit];case e.StringType.EmojiSuit:return e.emojiSuits[this.suit];case e.StringType.ShortValue:return e.shortValues[this.value===13?0:this.value];case e.StringType.LongValue:return e.longValues[this.value===13?0:this.value]}throw new Error("Unsupported output type")}}],[{key:"fromJSON",value:function(r){var n=r.num;return new e(n)}},{key:"getSuit",value:function(r){return Math.floor(r/13)%4}},{key:"getValue",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return r%13||n?r%13:13}},{key:"compare",value:function(r,n){return n.value-r.value}}]),e}();ge.Card=be;Le(be,"Suits",Na);Le(be,"StringType",Gr);Le(be,"chars","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz");Le(be,"emojiSuits",["","","",""]);Le(be,"shortSuits",["h","s","d","c"]);Le(be,"longSuits",["hearts","spades","diamonds","clubs"]);Le(be,"shortValues",["A","2","3","4","5","6","7","8","9","T","J","Q","K"]);Le(be,"longValues",["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"]);var pr={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.uniqueFilter=ee.shuffle=ee.last=ee.isSorted=ee.getCombinationsHelper=ee.getCombinations=ee.arraySubtraction=void 0;var pl=function(t,r){return t.filter(function(n){return!r.includes(n)})};ee.arraySubtraction=pl;var Da=function e(t,r,n,a,i){if(a.length>=r)i.push(a);else for(var o=n;o<t.length;o++)e(t,r,o+1,a.concat(t[o]),i)};ee.getCombinationsHelper=Da;var gl=function(t,r){var n=[];return Da(t,r,0,[],n),n};ee.getCombinations=gl;var bl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=n?-1:1;try{return t.reduce(function(i,o){if(a*r(i,o)<=0)return o;throw new Error}),!0}catch{return!1}};ee.isSorted=bl;var ml=function(t){return t[t.length-1]};ee.last=ml;var yl=function(t){for(var r=t.length-1;r>0;r--){var n=Math.floor(Math.random()*(r+1)),a=[t[n],t[r]];t[r]=a[0],t[n]=a[1]}return t};ee.shuffle=yl;var _l=function(t,r,n){return n.indexOf(t)===r};ee.uniqueFilter=_l;Object.defineProperty(pr,"__esModule",{value:!0});pr.Deck=void 0;var On=ee,Tt=ge;function Ft(e){"@babel/helpers - typeof";return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(e)}function wl(e){return Cl(e)||Tl(e)||kl(e)||Sl()}function Sl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kl(e,t){if(e){if(typeof e=="string")return Lr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lr(e,t)}}function Tl(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cl(e){if(Array.isArray(e))return Lr(e)}function Lr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function El(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fa(n.key),n)}}function Al(e,t,r){return t&&Nn(e.prototype,t),r&&Nn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ol(e,t,r){return t=Fa(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fa(e){var t=Nl(e,"string");return Ft(t)==="symbol"?t:String(t)}function Nl(e,t){if(Ft(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ft(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pl=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;El(this,e),Ol(this,"cards",void 0),this.cards=wl(Array(52*r).keys()).map(function(n){return new Tt.Card(n)}),t&&this.shuffle()}return Al(e,[{key:"shuffle",value:function(){(0,On.shuffle)(this.cards)}},{key:"isShuffled",value:function(){return!(0,On.isSorted)(this.cards,function(r,n){return r.num-n.num})}},{key:"cardsRemaining",get:function(){return this.cards.length}},{key:"pop",value:function(){return this.cards.pop()}},{key:"popN",value:function(r){for(var n=[],a,i=0;i<r&&(a=this.pop());i++)n.push(a);return n}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tt.Card.StringType.Char;return new Tt.Cards(this.cards).toString(r)}}],[{key:"fromJSON",value:function(r){var n=r.cards,a=new e(!1,0);return a.cards=n.map(function(i){return Tt.Card.fromJSON(i)}),a}},{key:"fromString",value:function(r){var n=new e(!1,0);return n.cards=new Tt.Cards(r),n}}]),e}();pr.Deck=Pl;var bt={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.uuid4=void 0;var Dl=function(t){var r;do r=Math.random().toString(16).slice(2,t+2);while(r.length<t&&t<=12);return r},Fl=function(){var t=[8,4,4,4,12],r=t.map(Dl).join("-").split("");return r[14]="4",r[19]=(Math.floor(Math.random()*64)%4+8).toString(16),r.join("")};gr.uuid4=Fl;Object.defineProperty(bt,"__esModule",{value:!0});bt.HandRank=bt.Hand=void 0;var rt=ee,Ie=ge,xl=gr;function Ke(e){"@babel/helpers - typeof";return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ke(e)}function Be(e){return Rl(e)||Ml(e)||Il(e)||Ll()}function Ll(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Il(e,t){if(e){if(typeof e=="string")return Ir(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ir(e,t)}}function Ml(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rl(e){if(Array.isArray(e))return Ir(e)}function Ir(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xa(n.key),n)}}function jl(e,t,r){return t&&Pn(e.prototype,t),r&&Pn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vt(e,t,r){return t=xa(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xa(e){var t=Ul(e,"string");return Ke(t)==="symbol"?t:String(t)}function Ul(e,t){if(Ke(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ke(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var La=function(e){return e[e.High=0]="High",e[e.Pair=5]="Pair",e[e.TwoPairs=10]="TwoPairs",e[e.ThreeOfAKind=15]="ThreeOfAKind",e[e.Straight=20]="Straight",e[e.Flush=25]="Flush",e[e.FullHouse=30]="FullHouse",e[e.FourOfAKind=35]="FourOfAKind",e[e.StraightFlush=40]="StraightFlush",e[e.FiveOfAKind=45]="FiveOfAKind",e}({});bt.HandRank=La;var Ia=function(){function e(t,r,n){$l(this,e),Vt(this,"uuid",void 0),Vt(this,"rank",void 0),Vt(this,"cards",void 0),this.rank=t,this.cards=r,this.uuid=n||(0,xl.uuid4)()}return jl(e,[{key:"getCardsString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ie.Card.StringType.Short;return new Ie.Cards(this.cards).toString(r)}},{key:"toString",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ie.Card.StringType.Short,a=Ie.Card.StringType.LongValue,i=function(u){return r.cards[u].toString(a)},o=this.getCardsString(n);switch(this.rank){case e.Rank.FiveOfAKind:return"Five of a kind, ".concat(i(0),"s (").concat(o,")");case e.Rank.StraightFlush:return"Straigth flush, ".concat(i(0)," high (").concat(o,")");case e.Rank.FourOfAKind:return"Four of a kind, ".concat(i(0),"s (").concat(o,")");case e.Rank.FullHouse:return"Full house, ".concat(i(0),"s over ").concat(i(3),"s (").concat(o,")");case e.Rank.Flush:return"Flush, ".concat(i(0)," high (").concat(o,")");case e.Rank.Straight:return"Straigth, ".concat(i(0)," high (").concat(o,")");case e.Rank.ThreeOfAKind:return"Three of a kind, ".concat(i(0),"s (").concat(o,")");case e.Rank.TwoPairs:return"Two pairs, ".concat(i(0),"s and ").concat(i(2),"s (").concat(o,")");case e.Rank.Pair:return"Pair, ".concat(i(0),"s (").concat(o,")");case e.Rank.High:return"".concat(i(0).replace(/^\w/,function(l){return l.toUpperCase()})," high (").concat(o,")")}throw new Error("Unsupported rank value")}}],[{key:"fromJSON",value:function(r){var n=r.rank,a=r.cards,i=r.uuid;return new e(n,a.map(Ie.Card.fromJSON),i)}},{key:"solve",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,a,i;return(a=e.isNumOfAKind(5,r))?i=e.Rank.FiveOfAKind:(a=e.isStraightFlush(r,n))?i=e.Rank.StraightFlush:(a=e.isNumOfAKind(4,r))?i=e.Rank.FourOfAKind:(a=e.isFullHouse(r))?i=e.Rank.FullHouse:(a=e.isFlush(r,n))?i=e.Rank.Flush:(a=e.isStraight(r,n))?i=e.Rank.Straight:(a=e.isNumOfAKind(3,r))?i=e.Rank.ThreeOfAKind:(a=e.isTwoPairs(r))?i=e.Rank.TwoPairs:(a=e.isNumOfAKind(2,r))?i=e.Rank.Pair:(a=[],i=e.Rank.High),a=e.fillWithKickers(a,r),new e(i,a)}},{key:"solveHoldEm",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(a===0)return e.solve([].concat(Be(r),Be(n)));for(var i=(0,rt.getCombinations)(r,r.length-a),o=(0,rt.getCombinations)(n,Math.min(n.length,a)),l=[],u=0;u<i.length;u++)for(var s=0;s<o.length;s++)l.push(e.solve([].concat(Be(i[u]),Be(o[s]))));return e.max.apply(e,l)}},{key:"compare",value:function(r,n){var a;if(r.cards.length!==n.cards.length)throw new Error("Comparing hands with different number of cards");if((a=n.rank-r.rank)!==0)return a;for(var i=0;i<r.cards.length;i++)if((a=Ie.Card.compare(r.cards[i],n.cards[i]))!==0)return a;return 0}},{key:"winners",value:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=e.max.apply(e,n);return n.filter(function(o){return!e.compare(o,i)})}},{key:"max",value:function(){for(var r=function(l,u){return e.compare(l,u)<0?l:u},n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.reduce(function(o,l){return r(o,l)})}},{key:"fillWithKickers",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;return n=(0,rt.arraySubtraction)(n,r).sort(Ie.Card.compare),[].concat(Be(r),Be(n)).slice(0,a)}},{key:"getUniqueValues",value:function(r){return r.map(function(n){return n.value}).filter(rt.uniqueFilter).sort(function(n,a){return a-n})}},{key:"isNumOfAKind",value:function(r,n){for(var a=e.getUniqueValues(n),i,o=function(f){if(i=n.filter(function(d){return d.value==a[f]}),i.length>=r)return{v:i}},l=0;l<a.length;l++){var u=o(l);if(Ke(u)==="object")return u.v}return!1}},{key:"isNumOfAKindCombination",value:function(r,n){for(var a=[],i=0;i<r.length;i++){var o=e.isNumOfAKind(r[i],(0,rt.arraySubtraction)(n,a));if(o===!1)return!1;o=o,a.push.apply(a,Be(o))}return a}},{key:"isStraightFlush",value:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,a=[],i=function(s){if(a=r.filter(function(d){return d.suit===s}),a.length<n)return"continue";var f=e.isStraight(a,n);if(f)return{v:f}},o=0;o<4;o++){var l=i(o);if(l!=="continue"&&Ke(l)==="object")return l.v}return!1}},{key:"isFullHouse",value:function(r){return e.isNumOfAKindCombination([3,2],r)}},{key:"isFlush",value:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,a=function(u){var s=r.filter(function(f){return f.suit==u});if(s.length>=n)return{v:s.sort(Ie.Card.compare).slice(0,n)}},i=0;i<4;i++){var o=a(i);if(Ke(o)==="object")return o.v}return!1}},{key:"isStraight",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,a=e.getUniqueValues(r);if(a.length<n)return!1;a.includes(13)&&a.push(0);for(var i=[a[0]],o=1;o<a.length&&i.length<n;o++)(0,rt.last)(i)-a[o]===1?i.push(a[o]):i=[a[o]];return i.length==n?i.map(function(l){return r.find(function(u){return u.value===(l||13)})}):!1}},{key:"isTwoPairs",value:function(r){return e.isNumOfAKindCombination([2,2],r)}}]),e}();bt.Hand=Ia;Vt(Ia,"Rank",La);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Card",{enumerable:!0,get:function(){return t.Card}}),Object.defineProperty(e,"CardStringType",{enumerable:!0,get:function(){return t.CardStringType}}),Object.defineProperty(e,"Cards",{enumerable:!0,get:function(){return t.Cards}}),Object.defineProperty(e,"Deck",{enumerable:!0,get:function(){return r.Deck}}),Object.defineProperty(e,"Hand",{enumerable:!0,get:function(){return n.Hand}});var t=ge,r=pr,n=bt})(Q);const Kl=4.5,ql=5,zl=3,Dn=7,Vl=5,Ma=e=>{switch(e){case"bridge":return{height:Dn,width:Kl};case"poker":return{height:Dn,width:ql};case"small":return{height:Vl,width:zl}}},Yr="card-appearance",Bl={size:"bridge",fourColor:!1},Hl=({size:e,colors:t})=>({size:e==="default"?"poker":e,fourColor:t==="four-color"}),Ra=e=>{const t=Wr(Bl,r=>(ht.subscribe(n=>r(e(n))),()=>{}));return $i(Yr,t),t},Zr=()=>ua(Yr),Fn=e=>{const t=ua(Yr);if(t){const r=so(ht);t.set(e(r))}},$a=(e,t,r={})=>n=>{(Array.isArray(e)?e:[e]).includes(n.code)&&t!==void 0&&(r.preventDefault&&n.preventDefault(),t())};var Wl=fa('<svg viewBox="0 0 16 20" class="svelte-1jimf84"><path fill="CurrentColor"></path></svg>');function ja(e,t){ne(t,!1);const r=D();let n=K(t,"suit",8,null),a=K(t,"flip",8,!1);const i=u=>{switch(u){case"hearts":return"M 8 2 C 9 0 11 0 12 0 C 13 0 16 1 16 6 C 16 8 15.5 10 14 12 L 8 20 L 2 12 C 0.5 10 0 8 0 6 C 0 1 3 0 4 0 C 5 0 7 0 8 2";case"spades":return"M 8 0 L 13 5 C 16 8 16 10 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 10 0 8 3 5 L 8 0";case"diamonds":return"M 8 0 L 16 10 L 8 20 L 0 10 L 8 0";case"clubs":return"M 8 0 C 10 0 12 2 12 4 C 12 6 11 8 8 10 C 9 8 10 7 12 7 C 14 7 16 9 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 9 2 7 4 7 C 6 7 7 8 8 10 C 5 8 4 6 4 4 C 4 2 6 0 8 0";default:return null}};$(()=>I(n()),()=>{m(r,i(n()))}),xe();var o=vr(),l=de(o);re(l,()=>c(r),u=>{var s=Wl(),f=N(s);Z(()=>{X(s,"flip",a()),te(f,"d",c(r))}),U(u,s)}),U(e,o),ae()}var Jl=H('<span class="svelte-1sm49dl"><!></span>'),Gl=H("<div></div>"),Yl=H('<div class="center-pattern svelte-1sm49dl"></div>');function Zl(e,t){let r=K(t,"suit",8),n=K(t,"rank",8);const a={A:["U"],2:["U","D"],3:["U","U","D"],4:["UU","DD"],5:["UU","U","DD"],6:["UU","UU","DD"],7:["UU","u","UU","DD"],8:["UU","UU","DD","DD"],9:["UU","u","UU","DD","DD"],10:["UU","u","UU","DD","d","DD"]},i=u=>a[u]??[],o=u=>u.toUpperCase()===u?"grow":"";var l=Yl();vt(l,5,()=>i(n()),dt,(u,s)=>{var f=Gl();const d=we(()=>`row ${o(c(s))??""} svelte-1sm49dl`);vt(f,5,()=>c(s).split(""),dt,(v,p)=>{var g=Jl(),y=N(g),T=we(()=>c(p).toLowerCase()==="d");ja(y,{get suit(){return r()},get flip(){return c(T)}}),U(v,g)}),Z(()=>Ue(f,c(d))),U(u,f)}),U(e,l)}var Ql=H('<span class="screen-reader-only svelte-3uotpv"><!></span>');function Xl(e,t){var r=Ql(),n=N(r);hr(n,t,"default",{},null),U(e,r)}var eu=H('<div aria-hidden="true"><div> </div> <div class="suit svelte-hurvu3"><!></div></div> <div class="center svelte-hurvu3"><!></div>',1),tu=H("<div><!> <!></div>");function tr(e,t){ne(t,!1);const r=Ze(),n=()=>Ve(p,"$cardAppearance",r),a=D(),i=D(),o=D(),l=D(),u=D(),s=D(),f=D(),d=D(),v=D(),p=Zr();let g=K(t,"card",8,null),y=K(t,"empty",8,!1),T=K(t,"shadow",8,!1),F=K(t,"stack",8,void 0);const C=["top","bottom"];$(()=>n(),()=>{m(a,n().size==="bridge")}),$(()=>n(),()=>{m(i,n().size==="small")}),$(()=>n(),()=>{m(o,n().fourColor)}),$(()=>(I(g()),I(T())),()=>{m(l,g()===null&&!T())}),$(()=>(I(y()),c(l),I(T())),()=>{m(u,!(y()||c(l)||T()))}),$(()=>(c(u),I(g()),Q.Card),()=>{var q;m(s,c(u)&&((q=g())==null?void 0:q.toString(Q.Card.StringType.ShortValue).replace("T","10"))||"")}),$(()=>(c(u),I(g()),Q.Card),()=>{var q;m(f,c(u)&&((q=g())==null?void 0:q.toString(Q.Card.StringType.LongSuit))||"")}),$(()=>(c(u),I(g())),()=>{var q;m(d,c(u)&&(((q=g())==null?void 0:q.num)??0)%13>9)}),$(()=>(c(u),I(g()),Q.Card),()=>{var q;m(v,c(u)&&((q=g())==null?void 0:q.toString(Q.Card.StringType.Long))||"")}),xe(),ue();var A=tu(),O=N(A);re(O,()=>c(u),q=>{Xl(q,{children:(E,B)=>{var G=Yt();Z(()=>_e(G,c(v))),U(E,G)},$$slots:{default:!0}})});var k=L(O,2);vt(k,1,()=>C,dt,(q,E)=>{var B=eu(),G=de(B),Y=N(G),J=N(Y),_=L(Y,2),h=N(_);ja(h,{get suit(){return c(f)}});var b=L(G,2),w=N(b);re(w,()=>!c(i),x=>{Zl(x,{get suit(){return c(f)},get rank(){return c(s)}})}),Z(()=>{Ue(G,`${c(E)??""} label svelte-hurvu3`),Ue(Y,`rank rank-${c(s)??""} svelte-hurvu3`),_e(J,c(s)),X(b,"face",c(d))}),U(q,B)}),Z(()=>{Ue(A,`card ${c(f)??""} stack-${F()??""} svelte-hurvu3`),X(A,"bridge",c(a)),X(A,"small",c(i)),X(A,"fourColor",c(o)),X(A,"empty",y()),X(A,"hidden",c(l)),X(A,"shadow",T()),X(A,"visible",c(u))}),U(e,A),ae()}var ru=H('<div class="shadow-container svelte-1ns87h6"><!></div>'),nu=H('<div class="deck svelte-1ns87h6" role="button" tabindex="0"><div aria-atomic="true" aria-live="polite"><!> <!></div></div>');function au(e,t){ne(t,!1);const r=Ze(),n=()=>Ve(s,"$cardAppearance",r),a=D(),i=D(),o=D(),l=D(),u=D(),s=Zr();let f=K(t,"numCards",8,52),d=K(t,"numDecks",8,1),v=K(t,"topCard",8,null),p=K(t,"numShadows",8,10),g=K(t,"shuffleAnimationSteps",8,4),y=K(t,"shuffleAnimationMaxDistanceEm",8,.8),T=K(t,"shuffleAnimationMaxRotateDeg",8,7),F=K(t,"onClick",8,()=>{}),C=D(0);function A(_,h,b,w){const x=_/w*h,R=.5*x/(b*52),S=1*x/(b*52);return`translate(${R}em , ${S}em)`}function O(_,h){const b=S=>[1,h+2].includes(_)?0:(Math.random()*2-1)*S,w=b(y()),x=b(y()),R=b(T());return`translate(${w}em, ${x}em) rotate(${R}deg)`}function k(){c(C)>0&&setTimeout(()=>{m(C,c(C)-1),k()},250)}function q(){if(!c(l))return F()()}$(()=>n(),()=>{var _;m(a,((_=n())==null?void 0:_.size)==="bridge")}),$(()=>n(),()=>{var _;m(i,((_=n())==null?void 0:_.size)==="small")}),$(()=>(I(v()),I(f()),I(d()),I(g())),()=>{v()===null&&f()===52*d()&&g()>0&&(m(C,g()+2),k())}),$(()=>c(C),()=>{m(l,c(C)>0)}),$(()=>(I(v()),c(l),I(p()),c(C),I(g()),I(f()),I(d())),()=>{m(o,v()===void 0?[]:c(l)?[...Array(p())].map(()=>({card:null,shadow:!1,transform:O(c(C),g())})):[...Array(p())].map((_,h)=>({card:void 0,shadow:!0,transform:A(h,f(),d(),p())})))}),$(()=>I(v()),()=>{m(u,v()===void 0?"Shuffle the deck":"Draw a card")}),xe(),ue();var E=nu(),B=fe(()=>$a(["Space","Enter"],q,{preventDefault:!0})),G=N(E),Y=N(G);re(Y,()=>!c(l),_=>{var h=we(()=>v()===void 0);tr(_,{get card(){return v()},get empty(){return c(h)}})});var J=L(Y,2);vt(J,1,()=>c(o),dt,(_,h)=>{let b=()=>c(h).card,w=()=>c(h).shadow,x=()=>c(h).transform;var R=ru(),S=N(R);tr(S,{get card(){return b()},get shadow(){return w()}}),Z(()=>te(R,"style",`transform: ${x()??""}`)),U(_,R)}),Z(()=>{te(E,"aria-label",c(u)),te(E,"aria-disabled",c(l)),X(E,"bridge",c(a)),X(E,"small",c(i)),X(E,"shuffling",c(l))}),le("keydown",E,function(..._){var h;(h=c(B))==null||h.apply(this,_)}),le("click",E,q),U(e,E),ae()}var iu=H('<main class="svelte-1tag1lj"><!></main>');function ou(e,t){ne(t,!1),Ra(Hl);let r=new Q.Deck,n=D(r.cardsRemaining),a=D(null);function i(){c(a)!==void 0?m(a,r.pop()):(r=new Q.Deck,m(a,null)),m(n,r.cardsRemaining)}const o=s=>{s.stopPropagation(),r=new Q.Deck,m(a,null),m(n,r.cardsRemaining)};jt(()=>{pt.update(s=>({...s,shuffle:o}))}),ha(()=>{pt.update(s=>({...s,shuffle:void 0}))}),ue();var l=iu(),u=N(l);au(u,{onClick:i,get topCard(){return c(a)},get numCards(){return c(n)}}),U(e,l),ae()}const Qr=(e,t)=>Ma(t).width+(e-1)*1.125,lu=(e,t,r)=>e.length===0?"empty":t?`closed${r==="rank"?`, ${e[0].toString(Q.CardStringType.LongValue)}s`:""}`:e.toString(Q.CardStringType.Long),uu=(e,t,r,n,a=!1)=>{const i=lu(new Q.Cards(t),n,a),o=r>0?` ${r} cards selected: ${new Q.Cards(t.slice(t.length-r)).toString(Q.CardStringType.Long)}`:"";return`${e}: ${i}.${o}`},su=(e,t,r)=>{const n={sourceStack:t,cards:r};e.dataTransfer&&(e.dataTransfer.setData("application/json",JSON.stringify(n)),e.dataTransfer.effectAllowed="move")},cu=e=>{var n;const{sourceStack:t,cards:r}=JSON.parse(((n=e.dataTransfer)==null?void 0:n.getData("application/json"))??"");return{sourceStack:t,cards:r.map(Q.Card.fromJSON)}};var fu=H('<div class="nested svelte-o50ay1"><!></div>'),du=H('<div class="stack svelte-o50ay1" role="button"><div><!> <!></div></div>');function Ua(e,t){ne(t,!1);const r=Ze(),n=()=>Ve(p,"$cardAppearance",r),a=D(),i=D(),o=D(),l=D(),u=D(),s=D(),f=D(),d=D(),v=D(),p=Zr();let g=K(t,"cards",24,()=>[]),y=K(t,"capacity",8,4),T=K(t,"closed",8,!1),F=K(t,"index",8,0),C=K(t,"isDraggableFn",8,()=>!1),A=K(t,"selectedCardsN",8,0),O=K(t,"labelOptions",24,()=>({title:"Stack"})),k=K(t,"nested",8,!1);const q=Hr();$(()=>n(),()=>{m(a,n().size)}),$(()=>(I(y()),c(a)),()=>{m(i,`width: ${Qr(y(),c(a))}em`)}),$(()=>(I(T()),I(C()),I(g())),()=>{m(o,!T()&&C()(g()))}),$(()=>(I(A()),I(g())),()=>{m(l,A()>0&&A()===g().length)}),$(()=>(I(T()),I(g())),()=>{m(u,T()&&g().length===1)}),$(()=>(I(F()),I(g())),()=>{m(s,_=>{_.stopPropagation(),su(_,F(),g())})}),$(()=>{},()=>{m(f,_=>{_.preventDefault()})}),$(()=>(I(k()),I(F())),()=>{m(d,()=>{k()||q("select",{index:F()})})}),$(()=>(I(k()),I(O()),I(g()),I(A()),I(T())),()=>{m(v,k()?void 0:uu(O().title,g(),A(),T(),O().closed))}),xe(),ue();var E=du(),B=fe(()=>$a(["Enter","Space"],c(d),{preventDefault:!0})),G=N(E),Y=N(G);re(Y,()=>g().length===0,_=>{tr(_,{empty:!0})},_=>{var h=we(()=>c(u)?null:g()[0]);tr(_,{get card(){return c(h)},stack:"left"})});var J=L(Y,2);re(J,()=>g().length>1,_=>{var h=fu(),b=N(h),w=we(()=>g().slice(1)),x=we(()=>y()-1);Ua(b,{get cards(){return c(w)},get capacity(){return c(x)},nested:!0,get closed(){return T()},get index(){return F()},get isDraggableFn(){return C()},get selectedCardsN(){return A()}}),U(_,h)}),Z(()=>{te(E,"aria-label",c(v)),te(E,"style",c(i)),te(E,"draggable",c(o)),te(E,"tabindex",k()?void 0:0),X(E,"selected",c(l)),te(G,"aria-hidden",k()?void 0:"true")}),le("dblclick",E,function(_){Nr.call(this,t,_)}),le("dragstart",E,function(..._){var h;(h=c(s))==null||h.apply(this,_)}),le("dragover",E,function(..._){var h;(h=c(f))==null||h.apply(this,_)}),le("drop",E,function(_){Nr.call(this,t,_)}),le("click",E,function(..._){var h;(h=c(d))==null||h.apply(this,_)}),le("keydown",E,function(..._){var h;(h=c(B))==null||h.apply(this,_)}),U(e,E),ae()}const vu=(e,t)=>{const r=e/t;return r<3/4?[3,5]:r<4/3?[4,4]:[5,3]},hu=(e,t)=>({length:e*t-15}),Ka=(e,t,r)=>{const n=Qr(4,e)*t+(t-1),a=Ma(e).height*r+(r-1);return[n,a]},pu=(e,t,r)=>{const n=Math.min(t,r*2.3333333333333335),[a,i]=vu(n,r),[o,l]=Ka(e,a,i),u=n*.95/o,s=r*.95/l;return{fontSize:Math.max(Math.min(u,s),10),columns:a,rows:i,tableWidthEm:o,tableHeightEm:l}},xn=()=>{const e=new Q.Deck;return[...Array(13)].map(()=>e.popN(4)).concat([[],[]])},Xr=e=>{const[t,...r]=e;return r.every(n=>n.value===t.value)},gu=e=>e.length===0?!1:e.length===1?!0:Xr(e),en=(e,t)=>e.length+t.length>4?!1:t.length===0||t[t.length-1].value===e[0].value,tn=(e,t,r,n)=>{const a=e.map(i=>[...i]);if(!en(n,a[r]))throw new Error(`Can not move cards ${n.map(i=>i.toString(Pa.ShortEmoji))} from pile ${t} to pile ${r}`);return a[t]=a[t].slice(0,a[t].length-n.length),a[r]=[...a[r],...n],a},rn=e=>e.length===1||Xr(e)?e:rn(e.slice(1)),bu=(e,t)=>{if(e[t].length===0)throw new Error("Cannot move cards from an empty pile.");if(nn(e[t]))throw new Error("Cannot move cards from a completed pile.");const r=rn(e[t]),n=e.reduce((o,l,u)=>u!==t&&en(r,l)?[...o,u]:o,[]);if(n.length===0)throw new Error(`Cannot move cards from pile ${t} to any other pile`);const a=n.filter(o=>e[o].length>0),i=a.length>0?a[0]:n[0];return tn(e,t,i,r)},mu=(e,t)=>{const r=e[t].slice(-1);return r.length===0?[[],r]:[e.reduce((a,i,o)=>o!==t&&en(r,i)?[...a,o]:a,[]),r]},qa=e=>e.reduce((t,r,n)=>{const[a,i]=mu(e,n);return a.length===0?t:[...t,[n,a,i]]},[]),yu=(e,t)=>{if(e[0]!==t[0]||e[1].length!==t[1].length)return!1;for(let r=0;r<e[1].length;r++)if(e[1][r]!==t[1][r])return!1;return new Fr(e[2]).toString()===new Fr(t[2]).toString()},_u=e=>(t,r,n)=>{var v;const[a,i,o]=t,l=[...o];if(i.length>1)return[!1,[]];const u=i[0],s=tn(e,a,u,o),f=qa(s),d=n.filter(([p])=>p!==u).map(p=>p[0]===a?[u,[a],o]:p).sort((p,g)=>p[0]-g[0]);if(f.length-d.length===1){const p=s[a].slice(-2);if(((v=s[u][0])==null?void 0:v.value)!==o[0].value&&p.length===2&&p.every(g=>g.value===o[0].value))d.push([a,i,[p[1]]]),d.sort((g,y)=>g[0]-y[0]),l.push(p[1]);else return[!1,[]]}return f.length!==d.length?[!1,[]]:[d.every((p,g)=>yu(p,f[g])),l]},wu=e=>{const t=qa(e);if(t.length===0)return["dead-end",[]];const r=t.map(_u(e));return r.every(([n])=>n)&&r.length>0?["infinite-loop",r.reduce((a,i)=>[...a,...i[1]],[])]:[!1,[]]},nn=e=>e.length===4&&Xr(e),za=e=>e.every(t=>nn(t)||t.length===0),Su=e=>e.reduce((t,r,n)=>nn(r)?[...t,n]:t,[]),He=e=>({type:e,timestamp:Date.now()}),ku=e=>{const t={};return e.forEach(({type:r})=>t[r]=(t[r]??0)+1),t},Ln=e=>e.reduce((t,r)=>t+r,0),Tu=e=>{const t=e.filter(a=>a.type==="start").map(a=>a.timestamp),r=e.filter(a=>a.type==="stop").map(a=>a.timestamp);if(t.length===0)return[null,null];const n=(r[r.length-1]??Date.now())-t[0];return t.length!==r.length?[null,n]:[Ln(r)-Ln(t),n]},qt=(e,t)=>e>0?`${e}${t}`:"",Cu=e=>{if(e===null)return"N/A";if(e<1e3)return qt(e,"ms");const t=Math.floor(e/36e5),r=Math.floor(e/6e4-t*60),n=Math.floor(e/1e3-r*60-t*3600);return[qt(t,"h"),qt(r,"min"),qt(n,"s")].join(" ").trim()};var Eu=H('<!> <button><!> <span class="title"> </span></button>',1);function Va(e,t){let r=K(t,"title",8),n=K(t,"position",8,"center"),a=D(!0);const i=()=>{m(a,!1)},o=()=>{m(a,!0)};var l=Eu(),u=de(l);re(u,()=>c(a),p=>{Jr(p,{get title(){return r()},get position(){return n()},closeIcon:"Minimize",$$events:{close:i},children:(g,y)=>{var T=vr(),F=de(T);hr(F,t,"default",{},null),U(g,T)},$$slots:{default:!0}})});var s=L(u,2),f=N(s);ka(f,{icon:"OpenModal"});var d=L(f,2),v=N(d);Z(()=>{Ue(s,`minimized-modal ${(c(a)?"":"open")??""} svelte-ufcprb`),_e(v,r())}),le("click",s,o),U(e,l)}var Au=H(`<p>Here are statistics about the completed game. Undo and undone moves are
  excluded from <i>Significant moves</i> but included in <i>Total moves</i>.</p> <table class="svelte-5tdcck"><tbody><tr><th class="svelte-5tdcck">Elapsed time:</th><td class="svelte-5tdcck"> </td></tr><tr><th class="svelte-5tdcck">Significant moves:</th><td class="svelte-5tdcck"> </td></tr><tr><th class="svelte-5tdcck">Total moves:</th><td class="svelte-5tdcck"> </td></tr><tr><th class="svelte-5tdcck">Undone moves:</th><td class="svelte-5tdcck"> </td></tr></tbody></table>`,1);function Ou(e,t){ne(t,!1);const r=D(),n=D(),a=D();let i=K(t,"events",8);$(()=>I(i()),()=>{m(r,ku(i()))}),$(()=>(c(n),c(a),I(i())),()=>{(k=>(m(n,k[0]),m(a,k[1])))(Tu(i()))}),xe(),ue();var o=Au(),l=L(de(o),2),u=N(l),s=N(u),f=L(N(s)),d=N(f);Z(()=>_e(d,Cu(c(a))));var v=L(s),p=L(N(v)),g=N(p),y=L(v),T=L(N(y)),F=N(T),C=L(y),A=L(N(C)),O=N(A);Z(()=>{_e(g,(c(r).move??0)-(c(r).undo??0)),_e(F,(c(r).move??0)+(c(r).undo??0)),_e(O,c(r).undo??0)}),U(e,o),ae()}var Nu=H('<!> <div class="actions svelte-16kom67"><!></div>',1);function Pu(e,t){ne(t,!1);const r=D();let n=K(t,"events",8),a=K(t,"piles",8);const i=Hr();$(()=>I(a()),()=>{m(r,za(a()))}),xe(),ue();var o=vr(),l=de(o);re(l,()=>c(r),u=>{Va(u,{title:"Completed",children:(s,f)=>{var d=Nu(),v=de(d);Ou(v,{get events(){return n()}});var p=L(v,2),g=N(p);$e(g,{icon:"Shuffle",label:"Shuffle",onClick:()=>i("shuffle")}),U(s,d)},$$slots:{default:!0}})}),U(e,o),ae()}const Du=(e,t=Q.CardStringType.Long)=>{const r=e.map(a=>a.toString(t)),n=[r.slice(0,-1).join(", "),...r.slice(-1)].filter(a=>a).join(" and ");return n.charAt(0).toUpperCase()+n.slice(1)};var Fu=H("<p>No more possible moves. Undo the last move or start a new game.</p>"),xu=H("<p> </p>"),Lu=H('<!> <!> <div class="actions svelte-16kom67"><!> <!></div>',1);function Iu(e,t){ne(t,!0);const r=fe(()=>wu(t.piles)),n=fe(()=>c(r)[0]),a=fe(()=>c(r)[1]),i=fe(()=>Du(c(a)));var o=vr(),l=de(o);re(l,()=>c(n),u=>{Va(u,{title:"Dead end",children:(s,f)=>{var d=Lu(),v=de(d);re(v,()=>c(n)==="dead-end",F=>{var C=Fu();U(F,C)});var p=L(v,2);re(p,()=>c(n)==="infinite-loop",F=>{var C=xu(),A=N(C);Z(()=>_e(A,`${c(i)??""} can be moved back and forth between two piles. There are no
        other possible moves. Undo the last move or start a new game.`)),U(F,C)});var g=L(p,2),y=N(g);$e(y,{icon:"Shuffle",label:"Shuffle",get onClick(){return t.shuffle}});var T=L(y,2);$e(T,{icon:"Undo",label:"Undo",get onClick(){return t.undo}}),U(s,d)},$$slots:{default:!0}})}),U(e,o),ae()}var Mu=H(`<p>The goal of the pileon solitaire is to rearrange a deck of cards into piles
    of equal ranks from thirteen random piles of four using fifteen piles.</p> <h3>Rules</h3> <ul><li>Each pile can contain up to four cards.</li> <li>Cards can be moved from top of the pile into a pile where the top card is
      of the same rank as the card that is moved.</li> <li>Cards of any rank can be moved into an empty pile.</li> <li>Multiple cards with the same rank can be moved at once.</li> <li>Pile is complete when it contains all four cards with the same rank.</li></ul> <h3>Moving cards</h3> <ol><li>Select the source pile by clicking a pile. Cards to be moved are
      highlighted. Click the source pile again to reduce the amount of selected
      cards.</li> <li>Move cards by clicking the target pile. If the move is valid, the cards
      are moved from the source pile into the target pile.</li></ol> <p>If your device supports drag-and-drop, you can also drag the cards you want
    to move from the source pile into the target pile. Double-clicking the
    source pile automatically moves cards from the pile to an available target
    pile.</p>`,1);function Ru(e,t){Jr(e,{title:"How to play?",$$events:{close(r){Nr.call(this,t,r)}},children:(r,n)=>{var a=Mu();U(r,a)},$$slots:{default:!0}})}var $u=H('<div class="pile svelte-3hj6i4"><!></div>'),ju=H('<div class="pile svelte-3hj6i4"></div>'),Uu=H("<main><!> <!></main> <!> <!> <!>",1);function In(e,t){ne(t,!1);const r=Ze(),n=()=>Ve(g,"$appearance",r),a=D(),i=D(),o=D(),l=D(),u=D(),s=D(),f=D(),d=D();let v=D(),p=D(),g=Ra(S=>({size:S.size==="default"?"bridge":S.size,fourColor:S.colors==="four-color"})),y=D([xn()]),T=D([He("start")]),F=D(!1);const C=S=>{S.stopPropagation(),m(F,!0)},A=S=>{S.stopPropagation(),m(k,[void 0,[]]),m(y,[xn()]),m(T,[He("start")])},O=S=>{S.stopPropagation(),c(y).length>1&&(m(k,[void 0,[]]),m(y,c(y).slice(0,c(y).length-1)),m(T,[...c(T),He("undo")]))};let k=D([void 0,[]]);const q=(S,P,M)=>{try{m(k,[void 0,[]]);const j=tn(c(y)[c(y).length-1],S,P,M);m(y,[...c(y),j]),m(T,[...c(T),He("move")])}catch{}},E=S=>{const[P,M]=c(k),j=S.detail.index;c(i).includes(j)||(P===void 0||M.length===0?m(k,[j,rn(c(a)[j])]):P===j?m(k,[j,M.slice(1)]):P!==j&&(q(P,j,M),m(k,[void 0,[]])))},B=S=>P=>{P.preventDefault();const{sourceStack:M,cards:j}=cu(P);M!==S&&q(M,S,j)},G=S=>P=>{P.preventDefault();try{m(k,[void 0,[]]);const M=bu(c(y)[c(y).length-1],S);m(y,[...c(y),M]),m(T,[...c(T),He("move")])}catch{}};jt(()=>{pt.update(S=>({...S,help:C,shuffle:A,undo:O}))}),ha(()=>{pt.update(S=>({...S,help:void 0,shuffle:void 0,undo:void 0}))}),$(()=>(c(v),c(p),Fn),()=>{const S=c(v)<800||c(p)<400?"small":"bridge";Fn(P=>({size:P.size==="default"?S:P.size,fourColor:P.colors==="four-color"}))}),$(()=>c(y),()=>{m(a,c(y)[c(y).length-1])}),$(()=>c(a),()=>{m(i,Su(c(a)))}),$(()=>(c(a),c(T),He),()=>{za(c(a))&&c(T).push(He("stop"))}),$(()=>c(k),()=>{m(o,c(k)[0])}),$(()=>c(k),()=>{m(l,c(k)[1])}),$(()=>n(),()=>{m(u,n().size)}),$(()=>(c(u),c(v),c(p)),()=>{m(s,pu(c(u),c(v),c(p)))}),$(()=>(c(f),c(d),c(u)),()=>{(S=>(m(f,S[0]),m(d,S[1])))(Ka(c(u),5,3))}),xe(),ue();var Y=Uu(),J=de(Y),_=N(J);vt(_,1,()=>c(a),dt,(S,P,M)=>{var j=$u(),ve=N(j),Te=we(()=>c(i).includes(M)),he=we(()=>c(o)===M?c(l).length:0),me=fe(()=>B(M)),Qe=fe(()=>G(M));Ua(ve,{get cards(){return c(P)},get closed(){return c(Te)},get selectedCardsN(){return c(he)},labelOptions:{title:`Stack ${M+1}`,closed:"rank"},index:M,isDraggableFn:gu,$$events:{drop(...ye){var Oe;(Oe=c(me))==null||Oe.apply(this,ye)},dblclick(...ye){var Oe;(Oe=c(Qe))==null||Oe.apply(this,ye)},select:E}}),U(S,j)});var h=L(_,2);vt(h,1,()=>hu(c(s).columns,c(s).rows),dt,(S,P)=>{var M=ju();const j=we(()=>`min-width: ${Qr(4,c(u))}em`);Z(()=>te(M,"style",c(j))),U(S,M)});var w=L(J,2);re(w,()=>c(F),S=>{Ru(S,{$$events:{close:()=>{m(F,!1)}}})});var x=L(w,2);Pu(x,{get events(){return c(T)},get piles(){return c(a)},$$events:{shuffle:A}});var R=L(x,2);Iu(R,{get piles(){return c(a)},shuffle:A,undo:O}),Z(()=>{Ue(J,`pileon deal-${c(s).columns??""}x${c(s).rows??""} svelte-3hj6i4`),pn(J,"font-size",`${c(s).fontSize??""}px`),pn(J,"max-width",`${c(f)*1.25}em`)}),gn(J,"clientHeight",S=>m(p,S)),gn(J,"clientWidth",S=>m(v,S)),U(e,Y),ae()}var Ku=H("<!> <!> <!>",1);function qu(e,t){ne(t,!1);const r=Ze(),n=()=>Ve(ht,"$settings",r),a=()=>Ve(pt,"$actions",r),i=D(),o=d=>{d.key==="z"&&(d.ctrlKey||d.metaKey)&&a().undo!==void 0&&a().undo(d),d.key==="F1"&&a().help!==void 0&&a().help(d)};$(()=>(n(),In),()=>{m(i,n().game==="deck"?ou:In)}),xe(),ue();var l=Ku();le("keydown",Vn.body,o);var u=de(l);Qo(u,{});var s=L(u,2);Zi(s,()=>c(i),(d,v)=>{v(d,{})});var f=L(s,2);uo(f,{}),U(e,l),ae()}Bi(qu,{target:document.body});
