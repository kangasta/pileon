var ur=Object.defineProperty;var fr=(t,e,n)=>e in t?ur(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dt=(t,e,n)=>(fr(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Y(){}function cr(t,e){for(const n in e)t[n]=e[n];return t}function $n(t){return t()}function Ut(){return Object.create(null)}function ye(t){t.forEach($n)}function de(t){return typeof t=="function"}function Z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dr(t){return Object.keys(t).length===0}function Pn(t,...e){if(t==null){for(const r of e)r(void 0);return Y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function mr(t){let e;return Pn(t,n=>e=n)(),e}function ve(t,e,n){t.$$.on_destroy.push(Pn(e,n))}function kt(t,e,n,r){if(t){const i=Fn(t,e,n,r);return t[0](i)}}function Fn(t,e,n,r){return t[1]&&r?cr(n.ctx.slice(),t[1](r(e))):n.ctx}function Ct(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(e.dirty.length,i.length);for(let l=0;l<a;l+=1)o[l]=e.dirty[l]|i[l];return o}return e.dirty|i}return e.dirty}function Tt(t,e,n,r,i,o){if(i){const a=Fn(e,n,r,o);t.p(a,i)}}function Nt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function w(t,e){t.appendChild(e)}function N(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function $e(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function xe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function M(){return G(" ")}function Ot(){return G("")}function re(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function gr(t){return Array.from(t.childNodes)}function fe(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ae(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let Je;function hr(){if(Je===void 0){Je=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Je=!0}}return Je}function pr(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=C("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=hr();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=re(window,"message",a=>{a.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{o=re(r.contentWindow,"resize",e),e()}),w(t,r),()=>{(i||o&&r.contentWindow)&&o(),T(r)}}function H(t,e,n){t.classList.toggle(e,!!n)}function vr(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function Kt(t,e){return new t(e)}let ze;function Ue(t){ze=t}function We(){if(!ze)throw new Error("Function called outside component initialization");return ze}function Et(t){We().$$.on_mount.push(t)}function Ln(t){We().$$.on_destroy.push(t)}function ot(){const t=We();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=vr(e,n,{cancelable:r});return i.slice().forEach(a=>{a.call(t,o)}),!o.defaultPrevented}return!0}}function br(t,e){return We().$$.context.set(t,e),e}function Mn(t){return We().$$.context.get(t)}function ht(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Ee=[],zt=[];let De=[];const Bt=[],yr=Promise.resolve();let pt=!1;function _r(){pt||(pt=!0,yr.then(In))}function Be(t){De.push(t)}const mt=new Set;let Ce=0;function In(){if(Ce!==0)return;const t=ze;do{try{for(;Ce<Ee.length;){const e=Ee[Ce];Ce++,Ue(e),wr(e.$$)}}catch(e){throw Ee.length=0,Ce=0,e}for(Ue(null),Ee.length=0,Ce=0;zt.length;)zt.pop()();for(let e=0;e<De.length;e+=1){const n=De[e];mt.has(n)||(mt.add(n),n())}De.length=0}while(Ee.length);for(;Bt.length;)Bt.pop()();pt=!1,mt.clear(),Ue(t)}function wr(t){if(t.fragment!==null){t.update(),ye(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Be)}}function Sr(t){const e=[],n=[];De.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),De=e}const Ye=new Set;let Se;function X(){Se={r:0,c:[],p:Se}}function x(){Se.r||ye(Se.c),Se=Se.p}function y(t,e){t&&t.i&&(Ye.delete(t),t.i(e))}function S(t,e,n,r){if(t&&t.o){if(Ye.has(t))return;Ye.add(t),Se.c.push(()=>{Ye.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function ae(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function U(t){t&&t.c()}function R(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Be(()=>{const o=t.$$.on_mount.map($n).filter(de);t.$$.on_destroy?t.$$.on_destroy.push(...o):ye(o),t.$$.on_mount=[]}),i.forEach(Be)}function j(t,e){const n=t.$$;n.fragment!==null&&(Sr(n.after_update),ye(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function kr(t,e){t.$$.dirty[0]===-1&&(Ee.push(t),_r(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ee(t,e,n,r,i,o,a,l=[-1]){const s=ze;Ue(t);const u=t.$$={fragment:null,ctx:[],props:o,update:Y,not_equal:i,bound:Ut(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Ut(),dirty:l,skip_bound:!1,root:e.target||s.$$.root};a&&a(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(d,c,...m)=>{const g=m.length?m[0]:c;return u.ctx&&i(u.ctx[d],u.ctx[d]=g)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](g),f&&kr(t,d)),c}):[],u.update(),f=!0,ye(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const d=gr(e.target);u.fragment&&u.fragment.l(d),d.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&y(t.$$.fragment),R(t,e.target,e.anchor),In()}Ue(s)}class te{constructor(){dt(this,"$$");dt(this,"$$set")}$destroy(){j(this,1),this.$destroy=Y}$on(e,n){if(!de(n))return Y;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!dr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Cr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Cr);function Tr(t){let e;return{c(){e=C("span"),e.textContent=`at ${t[0]} ${t[1]}`},m(n,r){N(n,e,r)},p:Y,d(n){n&&T(e)}}}function Nr(t){let e,n,r,i=(t[1]||t[0])&&Tr(t);return{c(){e=C("footer"),n=C("a"),n.textContent="kangasta / pileon",r=M(),i&&i.c(),v(n,"href","https://github.com/kangasta/pileon.git"),v(n,"target","_blank"),v(e,"class","svelte-16t3ryr")},m(o,a){N(o,e,a),w(e,n),w(e,r),i&&i.m(e,null)},p(o,[a]){(o[1]||o[0])&&i.p(o,a)},i:Y,o:Y,d(o){o&&T(e),i&&i.d()}}}function Or(t){const e={}.VITE_TAG??"",n="0e2b52d8470fef46fc439a09b902cc071cfb6045".slice(0,8);return[e,n]}class Er extends te{constructor(e){super(),ee(this,e,Or,Nr,Z,{})}}const Te=[];function At(t,e=Y){let n;const r=new Set;function i(l){if(Z(t,l)&&(t=l,n)){const s=!Te.length;for(const u of r)u[1](),Te.push(u,t);if(s){for(let u=0;u<Te.length;u+=2)Te[u][0](Te[u+1]);Te.length=0}}}function o(l){i(l(t))}function a(l,s=Y){const u=[l,s];return r.add(u),r.size===1&&(n=e(i,o)||Y),l(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:a}}const Rn="settings",Ar={game:"pileon",colors:"default",size:"default"},Dr=JSON.parse(localStorage.getItem(Rn)),Pe=At(Dr??Ar);Pe.subscribe(t=>localStorage.setItem(Rn,JSON.stringify(t)));const $r={},Fe=At($r);/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var jn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],et=jn.join(","),Un=typeof Element>"u",ke=Un?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,tt=!Un&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},nt=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",a=o||n&&e&&t(e.parentNode);return a},Pr=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},Kn=function(e,n,r){if(nt(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(et));return n&&ke.call(e,et)&&i.unshift(e),i=i.filter(r),i},zn=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var a=o.shift();if(!nt(a,!1))if(a.tagName==="SLOT"){var l=a.assignedElements(),s=l.length?l:a.children,u=t(s,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:a,candidates:u})}else{var f=ke.call(a,et);f&&r.filter(a)&&(n||!e.includes(a))&&i.push(a);var d=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),c=!nt(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(d&&c){var m=t(d===!0?a.children:d.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:a,candidates:m})}else o.unshift.apply(o,a.children)}}return i},Bn=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},we=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Pr(e))&&!Bn(e)?0:e.tabIndex},Fr=function(e,n){var r=we(e);return r<0&&n&&!Bn(e)?0:r},Lr=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},qn=function(e){return e.tagName==="INPUT"},Mr=function(e){return qn(e)&&e.type==="hidden"},Ir=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Rr=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},jr=function(e){if(!e.name)return!0;var n=e.form||tt(e),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=Rr(i,e.form);return!o||o===e},Ur=function(e){return qn(e)&&e.type==="radio"},Kr=function(e){return Ur(e)&&!jr(e)},zr=function(e){var n,r=e&&tt(e),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==e){var a,l,s;for(o=!!((a=i)!==null&&a!==void 0&&(l=a.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!o&&i;){var u,f,d;r=tt(i),i=(u=r)===null||u===void 0?void 0:u.host,o=!!((f=i)!==null&&f!==void 0&&(d=f.ownerDocument)!==null&&d!==void 0&&d.contains(i))}}return o},qt=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Br=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=ke.call(e,"details>summary:first-of-type"),a=o?e.parentElement:e;if(ke.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var s=e.parentElement,u=tt(e);if(s&&!s.shadowRoot&&i(s)===!0)return qt(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=l}if(zr(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return qt(e);return!1},qr=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return ke.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},rt=function(e,n){return!(n.disabled||nt(n)||Mr(n)||Br(n,e)||Ir(n)||qr(n))},vt=function(e,n){return!(Kr(n)||we(n)<0||!rt(e,n))},Hr=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Vr=function t(e){var n=[],r=[];return e.forEach(function(i,o){var a=!!i.scopeParent,l=a?i.scopeParent:i,s=Fr(l,a),u=a?t(i.candidates):l;s===0?a?n.push.apply(n,u):n.push(l):r.push({documentOrder:o,tabIndex:s,item:i,isScope:a,content:u})}),r.sort(Lr).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},Wr=function(e,n){n=n||{};var r;return n.getShadowRoot?r=zn([e],n.includeContainer,{filter:vt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Hr}):r=Kn(e,n.includeContainer,vt.bind(null,n)),Vr(r)},Jr=function(e,n){n=n||{};var r;return n.getShadowRoot?r=zn([e],n.includeContainer,{filter:rt.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Kn(e,n.includeContainer,rt.bind(null,n)),r},Ne=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return ke.call(e,et)===!1?!1:vt(n,e)},Gr=jn.concat("iframe").join(","),gt=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return ke.call(e,Gr)===!1?!1:rt(n,e)};/*!
* focus-trap 7.5.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ht(Object(n),!0).forEach(function(r){Qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qr(t,e,n){return e=Zr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yr(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zr(t){var e=Yr(t,"string");return typeof e=="symbol"?e:String(e)}var Wt={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},Xr=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},xr=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ke=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},ei=function(e){return Ke(e)&&!e.shiftKey},ti=function(e){return Ke(e)&&e.shiftKey},Jt=function(e){return setTimeout(e,0)},Gt=function(e,n){var r=-1;return e.every(function(i,o){return n(i)?(r=o,!1):!0}),r},Ie=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},Ge=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ni=[],ri=function(e,n){var r=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||ni,o=Vt({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ei,isKeyBackward:ti},n),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,s=function(p,h,k){return p&&p[h]!==void 0?p[h]:o[k||h]},u=function(p,h){var k=typeof(h==null?void 0:h.composedPath)=="function"?h.composedPath():void 0;return a.containerGroups.findIndex(function(P){var E=P.container,z=P.tabbableNodes;return E.contains(p)||(k==null?void 0:k.includes(E))||z.find(function(V){return V===p})})},f=function(p){var h=o[p];if(typeof h=="function"){for(var k=arguments.length,P=new Array(k>1?k-1:0),E=1;E<k;E++)P[E-1]=arguments[E];h=h.apply(void 0,P)}if(h===!0&&(h=void 0),!h){if(h===void 0||h===!1)return h;throw new Error("`".concat(p,"` was specified but was not a node, or did not return a node"))}var z=h;if(typeof h=="string"&&(z=r.querySelector(h),!z))throw new Error("`".concat(p,"` as selector refers to no known node"));return z},d=function(){var p=f("initialFocus");if(p===!1)return!1;if(p===void 0||!gt(p,o.tabbableOptions))if(u(r.activeElement)>=0)p=r.activeElement;else{var h=a.tabbableGroups[0],k=h&&h.firstTabbableNode;p=k||f("fallbackFocus")}if(!p)throw new Error("Your focus-trap needs to have at least one focusable element");return p},c=function(){if(a.containerGroups=a.containers.map(function(p){var h=Wr(p,o.tabbableOptions),k=Jr(p,o.tabbableOptions),P=h.length>0?h[0]:void 0,E=h.length>0?h[h.length-1]:void 0,z=k.find(function(J){return Ne(J)}),V=k.slice().reverse().find(function(J){return Ne(J)}),W=!!h.find(function(J){return we(J)>0});return{container:p,tabbableNodes:h,focusableNodes:k,posTabIndexesFound:W,firstTabbableNode:P,lastTabbableNode:E,firstDomTabbableNode:z,lastDomTabbableNode:V,nextTabbableNode:function(q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ue=h.indexOf(q);return ue<0?oe?k.slice(k.indexOf(q)+1).find(function(ge){return Ne(ge)}):k.slice(0,k.indexOf(q)).reverse().find(function(ge){return Ne(ge)}):h[ue+(oe?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(p){return p.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(p){return p.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function B(p){if(p!==!1&&p!==r.activeElement){if(!p||!p.focus){B(d());return}p.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=p,Xr(p)&&p.select()}},g=function(p){var h=f("setReturnFocus",p);return h||(h===!1?!1:p)},b=function(p){var h=p.target,k=p.event,P=p.isBackward,E=P===void 0?!1:P;h=h||Ge(k),c();var z=null;if(a.tabbableGroups.length>0){var V=u(h,k),W=V>=0?a.containerGroups[V]:void 0;if(V<0)E?z=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:z=a.tabbableGroups[0].firstTabbableNode;else if(E){var J=Gt(a.tabbableGroups,function(ft){var ct=ft.firstTabbableNode;return h===ct});if(J<0&&(W.container===h||gt(h,o.tabbableOptions)&&!Ne(h,o.tabbableOptions)&&!W.nextTabbableNode(h,!1))&&(J=V),J>=0){var q=J===0?a.tabbableGroups.length-1:J-1,oe=a.tabbableGroups[q];z=we(h)>=0?oe.lastTabbableNode:oe.lastDomTabbableNode}else Ke(k)||(z=W.nextTabbableNode(h,!1))}else{var ue=Gt(a.tabbableGroups,function(ft){var ct=ft.lastTabbableNode;return h===ct});if(ue<0&&(W.container===h||gt(h,o.tabbableOptions)&&!Ne(h,o.tabbableOptions)&&!W.nextTabbableNode(h))&&(ue=V),ue>=0){var ge=ue===a.tabbableGroups.length-1?0:ue+1,jt=a.tabbableGroups[ge];z=we(h)>=0?jt.firstTabbableNode:jt.firstDomTabbableNode}else Ke(k)||(z=W.nextTabbableNode(h))}}else z=f("fallbackFocus");return z},O=function(p){var h=Ge(p);if(!(u(h,p)>=0)){if(Ie(o.clickOutsideDeactivates,p)){l.deactivate({returnFocus:o.returnFocusOnDeactivate});return}Ie(o.allowOutsideClick,p)||p.preventDefault()}},K=function(p){var h=Ge(p),k=u(h,p)>=0;if(k||h instanceof Document)k&&(a.mostRecentlyFocusedNode=h);else{p.stopImmediatePropagation();var P,E=!0;if(a.mostRecentlyFocusedNode)if(we(a.mostRecentlyFocusedNode)>0){var z=u(a.mostRecentlyFocusedNode),V=a.containerGroups[z].tabbableNodes;if(V.length>0){var W=V.findIndex(function(J){return J===a.mostRecentlyFocusedNode});W>=0&&(o.isKeyForward(a.recentNavEvent)?W+1<V.length&&(P=V[W+1],E=!1):W-1>=0&&(P=V[W-1],E=!1))}}else a.containerGroups.some(function(J){return J.tabbableNodes.some(function(q){return we(q)>0})})||(E=!1);else E=!1;E&&(P=b({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),m(P||a.mostRecentlyFocusedNode||d())}a.recentNavEvent=void 0},I=function(p){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=p;var k=b({event:p,isBackward:h});k&&(Ke(p)&&p.preventDefault(),m(k))},$=function(p){if(xr(p)&&Ie(o.escapeDeactivates,p)!==!1){p.preventDefault(),l.deactivate();return}(o.isKeyForward(p)||o.isKeyBackward(p))&&I(p,o.isKeyBackward(p))},_=function(p){var h=Ge(p);u(h,p)>=0||Ie(o.clickOutsideDeactivates,p)||Ie(o.allowOutsideClick,p)||(p.preventDefault(),p.stopImmediatePropagation())},L=function(){if(a.active)return Wt.activateTrap(i,l),a.delayInitialFocusTimer=o.delayInitialFocus?Jt(function(){m(d())}):m(d()),r.addEventListener("focusin",K,!0),r.addEventListener("mousedown",O,{capture:!0,passive:!1}),r.addEventListener("touchstart",O,{capture:!0,passive:!1}),r.addEventListener("click",_,{capture:!0,passive:!1}),r.addEventListener("keydown",$,{capture:!0,passive:!1}),l},A=function(){if(a.active)return r.removeEventListener("focusin",K,!0),r.removeEventListener("mousedown",O,!0),r.removeEventListener("touchstart",O,!0),r.removeEventListener("click",_,!0),r.removeEventListener("keydown",$,!0),l},Q=function(p){var h=p.some(function(k){var P=Array.from(k.removedNodes);return P.some(function(E){return E===a.mostRecentlyFocusedNode})});h&&m(d())},F=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Q):void 0,D=function(){F&&(F.disconnect(),a.active&&!a.paused&&a.containers.map(function(p){F.observe(p,{subtree:!0,childList:!0})}))};return l={get active(){return a.active},get paused(){return a.paused},activate:function(p){if(a.active)return this;var h=s(p,"onActivate"),k=s(p,"onPostActivate"),P=s(p,"checkCanFocusTrap");P||c(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,h==null||h();var E=function(){P&&c(),L(),D(),k==null||k()};return P?(P(a.containers.concat()).then(E,E),this):(E(),this)},deactivate:function(p){if(!a.active)return this;var h=Vt({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},p);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,A(),a.active=!1,a.paused=!1,D(),Wt.deactivateTrap(i,l);var k=s(h,"onDeactivate"),P=s(h,"onPostDeactivate"),E=s(h,"checkCanReturnFocus"),z=s(h,"returnFocus","returnFocusOnDeactivate");k==null||k();var V=function(){Jt(function(){z&&m(g(a.nodeFocusedBeforeActivation)),P==null||P()})};return z&&E?(E(g(a.nodeFocusedBeforeActivation)).then(V,V),this):(V(),this)},pause:function(p){if(a.paused||!a.active)return this;var h=s(p,"onPause"),k=s(p,"onPostPause");return a.paused=!0,h==null||h(),A(),D(),k==null||k(),this},unpause:function(p){if(!a.paused||!a.active)return this;var h=s(p,"onUnpause"),k=s(p,"onPostUnpause");return a.paused=!1,h==null||h(),c(),L(),D(),k==null||k(),this},updateContainerElements:function(p){var h=[].concat(p).filter(Boolean);return a.containers=h.map(function(k){return typeof k=="string"?r.querySelector(k):k}),a.active&&c(),D(),this}},l.updateContainerElements(e),l};const Hn=()=>(Math.random()+1).toString(36).substring(5);function ii(t){let e,n,r,i,o,a,l,s,u,f,d;return{c(){e=C("div"),n=C("div"),r=C("button"),i=xe("svg"),o=xe("path"),l=M(),s=C("div"),u=G(t[1]),v(o,"fill","none"),v(o,"stroke","currentColor"),v(o,"stroke-linecap","round"),v(o,"stroke-linejoin","round"),v(o,"stroke-width","1"),v(o,"d",a=t[3][t[0]].path),v(i,"viewBox","0 0 16 16"),v(i,"class","svelte-17tr1dn"),v(r,"aria-labelledby",t[4]),v(r,"class","clickable svelte-17tr1dn"),H(r,"open",open),v(s,"class","label svelte-17tr1dn"),v(s,"id",t[4]),v(n,"class","content svelte-17tr1dn"),v(e,"class","icon-button clickable svelte-17tr1dn")},m(c,m){N(c,e,m),w(e,n),w(n,r),w(r,i),w(i,o),w(n,l),w(n,s),w(s,u),f||(d=[re(r,"click",function(){de(t[2])&&t[2].apply(this,arguments)}),re(e,"click",function(){de(t[2])&&t[2].apply(this,arguments)})],f=!0)},p(c,[m]){t=c,m&1&&a!==(a=t[3][t[0]].path)&&v(o,"d",a),m&0&&H(r,"open",open),m&2&&fe(u,t[1])},i:Y,o:Y,d(c){c&&T(e),f=!1,ye(d)}}}function oi(t,e,n){const r={Close:{path:"M 3 3 L 13 13 M 3 13 L 13 3"},Help:{path:"M 8 12 L 8 12 M 8 10 L 8 9 C 8 7 10 8 10 6 A 2 2 0 1 0 6 6 M 8 1.5 A 6.5 6.5 0 0 1 8 14.5 A 6.5 6.5 0 0 1 8 1.5"},Menu:{path:"M 2 4 L 14 4 M 2 8 L 14 8 M 2 12 L 14 12"},Shuffle:{path:"M 5 2 L 2 5 L 5 8 M 2 5 L 12 5 M 11 14 L 14 11 L 11 8 M 14 11 L 4 11"},Undo:{path:"M 5 3 L 2 6 L 5 9 M 2 6 L 10 6 A 3 3 0 1 1 10 13 L 8 13"}};let{icon:i}=e,{label:o}=e,{onClick:a}=e;const l=`${Hn()}-label`;return t.$$set=s=>{"icon"in s&&n(0,i=s.icon),"label"in s&&n(1,o=s.label),"onClick"in s&&n(2,a=s.onClick)},[i,o,a,r,l]}class be extends te{constructor(e){super(),ee(this,e,oi,ii,Z,{icon:0,label:1,onClick:2})}}function ai(t){let e,n,r,i,o,a,l,s,u,f,d,c;s=new be({props:{icon:"Close",label:"Close",onClick:t[5]}});const m=t[7].default,g=kt(m,t,t[6],null);return{c(){e=C("div"),n=M(),r=C("div"),i=C("div"),o=C("h2"),a=G(t[0]),l=M(),U(s.$$.fragment),u=M(),f=C("div"),g&&g.c(),v(e,"class","backdrop svelte-1mlnbfi"),H(e,"open",t[2]),v(o,"id",t[4]),v(o,"class","svelte-1mlnbfi"),v(i,"class","header svelte-1mlnbfi"),v(f,"class","content svelte-1mlnbfi"),v(r,"class",d="modal "+t[1]+" svelte-1mlnbfi"),v(r,"role","dialog"),v(r,"aria-labelledby",t[4]),v(r,"id",t[3]),H(r,"open",t[2])},m(b,O){N(b,e,O),N(b,n,O),N(b,r,O),w(r,i),w(i,o),w(o,a),w(i,l),R(s,i,null),w(r,u),w(r,f),g&&g.m(f,null),c=!0},p(b,[O]){(!c||O&4)&&H(e,"open",b[2]),(!c||O&1)&&fe(a,b[0]),g&&g.p&&(!c||O&64)&&Tt(g,m,b,b[6],c?Ct(m,b[6],O,null):Nt(b[6]),null),(!c||O&2&&d!==(d="modal "+b[1]+" svelte-1mlnbfi"))&&v(r,"class",d),(!c||O&6)&&H(r,"open",b[2])},i(b){c||(y(s.$$.fragment,b),y(g,b),c=!0)},o(b){S(s.$$.fragment,b),S(g,b),c=!1},d(b){b&&(T(e),T(n),T(r)),j(s),g&&g.d(b)}}}function li(t,e,n){let{$$slots:r={},$$scope:i}=e,{title:o}=e,{position:a="center"}=e;const l=`modal-${Hn()}`,s=`${l}-title`;let u=!1;Et(()=>{const c=ri(`#${l}`,{clickOutsideDeactivates:!0,onDeactivate:()=>d()});c.activate();const m=document.body.style.overflow;return document.body.style.overflow="hidden",setTimeout(()=>{n(2,u=!0)},0),()=>{c.deactivate(),document.body.style.overflow=m}});const f=ot(),d=()=>{n(2,u=!1),setTimeout(()=>f("close"),125)};return t.$$set=c=>{"title"in c&&n(0,o=c.title),"position"in c&&n(1,a=c.position),"$$scope"in c&&n(6,i=c.$$scope)},[o,a,u,l,s,d,i,r]}class at extends te{constructor(e){super(),ee(this,e,li,ai,Z,{title:0,position:1})}}function si(t){let e;return{c(){e=G(t[0])},m(n,r){N(n,e,r)},p(n,r){r&1&&fe(e,n[0])},d(n){n&&T(e)}}}function ui(t){let e,n,r,i,o;const a=t[6].default,l=kt(a,t,t[5],null),s=l||si(t);return{c(){e=C("button"),s&&s.c(),v(e,"aria-pressed",n=t[1]?"true":"false"),e.disabled=t[1],v(e,"class","svelte-fhaqyy"),H(e,"pressed",t[1])},m(u,f){N(u,e,f),s&&s.m(e,null),r=!0,i||(o=re(e,"click",function(){de(t[2])&&t[2].apply(this,arguments)}),i=!0)},p(u,[f]){t=u,l?l.p&&(!r||f&32)&&Tt(l,a,t,t[5],r?Ct(a,t[5],f,null):Nt(t[5]),null):s&&s.p&&(!r||f&1)&&s.p(t,r?f:-1),(!r||f&2&&n!==(n=t[1]?"true":"false"))&&v(e,"aria-pressed",n),(!r||f&2)&&(e.disabled=t[1]),(!r||f&2)&&H(e,"pressed",t[1])},i(u){r||(y(s,u),r=!0)},o(u){S(s,u),r=!1},d(u){u&&T(e),s&&s.d(u),i=!1,o()}}}function fi(t,e,n){let r,i,o;ve(t,Pe,c=>n(4,o=c));let{$$slots:a={},$$scope:l}=e,{target:s}=e,{value:u}=e;const{update:f}=Pe,d=()=>{};return t.$$set=c=>{"target"in c&&n(3,s=c.target),"value"in c&&n(0,u=c.value),"$$scope"in c&&n(5,l=c.$$scope)},t.$$.update=()=>{t.$$.dirty&25&&n(1,i=o[s]===u),t.$$.dirty&11&&n(2,r=i?d:()=>f(c=>({...c,[s]:u})))},[u,i,r,s,o,l,a]}class ce extends te{constructor(e){super(),ee(this,e,fi,ui,Z,{target:3,value:0})}}function Qt(t){let e,n;return e=new be({props:{icon:"Help",label:"Help",onClick:t[1].help}}),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const o={};i&2&&(o.onClick=r[1].help),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function Yt(t){let e,n;return e=new be({props:{icon:"Shuffle",label:"Shuffle",onClick:t[1].shuffle}}),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const o={};i&2&&(o.onClick=r[1].shuffle),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function Zt(t){let e,n;return e=new be({props:{icon:"Undo",label:"Undo",onClick:t[1].undo}}),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const o={};i&2&&(o.onClick=r[1].undo),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function Xt(t){let e,n;return e=new at({props:{position:"left",title:"Menu",$$slots:{default:[mi]},$$scope:{ctx:t}}}),e.$on("close",t[2]("close")),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const o={};i&8&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function ci(t){let e;return{c(){e=G("Pileon solitaire")},m(n,r){N(n,e,r)},d(n){n&&T(e)}}}function di(t){let e;return{c(){e=G("Deck of cards")},m(n,r){N(n,e,r)},d(n){n&&T(e)}}}function mi(t){let e,n,r,i,o,a,l,s,u,f,d,c,m,g,b,O,K,I,$,_,L,A,Q,F,D,B,p,h,k,P,E,z,V,W,J;return i=new ce({props:{target:"game",value:"pileon",$$slots:{default:[ci]},$$scope:{ctx:t}}}),l=new ce({props:{target:"game",value:"deck",$$slots:{default:[di]},$$scope:{ctx:t}}}),I=new ce({props:{target:"colors",value:"default"}}),_=new ce({props:{target:"colors",value:"standard"}}),A=new ce({props:{target:"colors",value:"four-color"}}),h=new ce({props:{target:"size",value:"default"}}),P=new ce({props:{target:"size",value:"bridge"}}),z=new ce({props:{target:"size",value:"poker"}}),W=new ce({props:{target:"size",value:"small"}}),{c(){e=C("div"),n=C("ul"),r=C("li"),U(i.$$.fragment),o=M(),a=C("li"),U(l.$$.fragment),s=M(),u=C("div"),f=M(),d=C("h3"),d.textContent="Settings",c=M(),m=C("table"),g=C("tr"),b=C("th"),b.textContent="Colors:",O=M(),K=C("td"),U(I.$$.fragment),$=G(" / "),U(_.$$.fragment),L=G(" / "),U(A.$$.fragment),Q=M(),F=C("tr"),D=C("th"),D.textContent="Size:",B=M(),p=C("td"),U(h.$$.fragment),k=G(" / "),U(P.$$.fragment),E=G(" / "),U(z.$$.fragment),V=G(" / "),U(W.$$.fragment),v(r,"class","svelte-182xs6k"),v(a,"class","svelte-182xs6k"),v(n,"class","svelte-182xs6k"),v(u,"class","whitespace svelte-182xs6k"),v(b,"class","svelte-182xs6k"),v(K,"class","svelte-182xs6k"),v(D,"class","svelte-182xs6k"),v(p,"class","svelte-182xs6k"),v(m,"class","svelte-182xs6k"),v(e,"class","drawer svelte-182xs6k")},m(q,oe){N(q,e,oe),w(e,n),w(n,r),R(i,r,null),w(n,o),w(n,a),R(l,a,null),w(e,s),w(e,u),w(e,f),w(e,d),w(e,c),w(e,m),w(m,g),w(g,b),w(g,O),w(g,K),R(I,K,null),w(K,$),R(_,K,null),w(K,L),R(A,K,null),w(m,Q),w(m,F),w(F,D),w(F,B),w(F,p),R(h,p,null),w(p,k),R(P,p,null),w(p,E),R(z,p,null),w(p,V),R(W,p,null),J=!0},p(q,oe){const ue={};oe&8&&(ue.$$scope={dirty:oe,ctx:q}),i.$set(ue);const ge={};oe&8&&(ge.$$scope={dirty:oe,ctx:q}),l.$set(ge)},i(q){J||(y(i.$$.fragment,q),y(l.$$.fragment,q),y(I.$$.fragment,q),y(_.$$.fragment,q),y(A.$$.fragment,q),y(h.$$.fragment,q),y(P.$$.fragment,q),y(z.$$.fragment,q),y(W.$$.fragment,q),J=!0)},o(q){S(i.$$.fragment,q),S(l.$$.fragment,q),S(I.$$.fragment,q),S(_.$$.fragment,q),S(A.$$.fragment,q),S(h.$$.fragment,q),S(P.$$.fragment,q),S(z.$$.fragment,q),S(W.$$.fragment,q),J=!1},d(q){q&&T(e),j(i),j(l),j(I),j(_),j(A),j(h),j(P),j(z),j(W)}}}function gi(t){let e,n,r,i,o,a,l,s;n=new be({props:{icon:"Menu",label:"Menu",onClick:t[2]("open")}});let u=t[1].help!==void 0&&Qt(t),f=t[1].shuffle!==void 0&&Yt(t),d=t[1].undo!==void 0&&Zt(t),c=t[0]&&Xt(t);return{c(){e=C("div"),U(n.$$.fragment),r=M(),u&&u.c(),i=M(),f&&f.c(),o=M(),d&&d.c(),a=M(),c&&c.c(),l=Ot(),v(e,"class","menu svelte-182xs6k")},m(m,g){N(m,e,g),R(n,e,null),w(e,r),u&&u.m(e,null),w(e,i),f&&f.m(e,null),w(e,o),d&&d.m(e,null),N(m,a,g),c&&c.m(m,g),N(m,l,g),s=!0},p(m,[g]){m[1].help!==void 0?u?(u.p(m,g),g&2&&y(u,1)):(u=Qt(m),u.c(),y(u,1),u.m(e,i)):u&&(X(),S(u,1,1,()=>{u=null}),x()),m[1].shuffle!==void 0?f?(f.p(m,g),g&2&&y(f,1)):(f=Yt(m),f.c(),y(f,1),f.m(e,o)):f&&(X(),S(f,1,1,()=>{f=null}),x()),m[1].undo!==void 0?d?(d.p(m,g),g&2&&y(d,1)):(d=Zt(m),d.c(),y(d,1),d.m(e,null)):d&&(X(),S(d,1,1,()=>{d=null}),x()),m[0]?c?(c.p(m,g),g&1&&y(c,1)):(c=Xt(m),c.c(),y(c,1),c.m(l.parentNode,l)):c&&(X(),S(c,1,1,()=>{c=null}),x())},i(m){s||(y(n.$$.fragment,m),y(u),y(f),y(d),y(c),s=!0)},o(m){S(n.$$.fragment,m),S(u),S(f),S(d),S(c),s=!1},d(m){m&&(T(e),T(a),T(l)),j(n),u&&u.d(),f&&f.d(),d&&d.d(),c&&c.d(m)}}}function hi(t,e,n){let r;ve(t,Fe,a=>n(1,r=a));let i=!1;return[i,r,a=>l=>{n(0,i=a==="open"),l.stopPropagation()}]}class pi extends te{constructor(e){super(),ee(this,e,hi,gi,Z,{})}}var ie={},le={};function Le(t){"@babel/helpers - typeof";return Le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(t)}Object.defineProperty(le,"__esModule",{value:!0});var bt=le.Cards=le.CardSuits=Zn=le.CardStringType=le.Card=void 0;function me(t,e,n){return e=Jn(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jn(r.key),r)}}function Wn(t,e,n){return e&&xt(t.prototype,e),n&&xt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jn(t){var e=vi(t,"string");return Le(e)==="symbol"?e:String(e)}function vi(t,e){if(Le(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Le(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qe(t,e)}function yi(t){var e=Qn();return function(){var r=He(t),i;if(e){var o=He(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Gn(this,i)}}function Gn(t,e){if(e&&(Le(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _i(t)}function _i(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t){var e=typeof Map=="function"?new Map:void 0;return yt=function(r){if(r===null||!wi(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Ze(r,arguments,He(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),qe(i,r)},yt(t)}function Ze(t,e,n){return Qn()?Ze=Reflect.construct.bind():Ze=function(i,o,a){var l=[null];l.push.apply(l,o);var s=Function.bind.apply(i,l),u=new s;return a&&qe(u,a.prototype),u},Ze.apply(null,arguments)}function Qn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wi(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function qe(t,e){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qe(t,e)}function He(t){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},He(t)}function Si(t,e){return Ni(t)||Ti(t,e)||Ci(t,e)||ki()}function ki(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ci(t,e){if(t){if(typeof t=="string")return en(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(t,e)}}function en(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ti(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(f){u=!0,i=f}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Ni(t){if(Array.isArray(t))return t}var Yn=function(t){return t[t.Hearts=0]="Hearts",t[t.Spades=1]="Spades",t[t.Diamonds=2]="Diamonds",t[t.Clubs=3]="Clubs",t}({});le.CardSuits=Yn;var Dt=function(t){return t.Char="CHAR",t.Short="SHORT",t.Long="LONG",t.ShortEmoji="SHORT_EMOJI",t.ShortSuit="SHORT_SUIT",t.LongSuit="LONG_SUIT",t.EmojiSuit="EMOJI_SUIT",t.ShortValue="SHORT_VALUE",t.LongValue="LONG_VALUE",t}({}),Zn=le.CardStringType=Dt,Oi={"♥":0,"♠":1,"♦":2,"♣":3,h:0,s:1,d:2,c:3},Ei={A:1,T:10,J:11,Q:12,K:13},Ai=function(e){var n=/^([2-9ATJQK]{1}|10)([♥♠♦♣hsdc]{1})$/,r=e.match(n);if(!r)throw new Error('Could not parse card from "'.concat(e,'". Input should match ').concat(n,"."));var i=Si(r,3);i[0];var o=i[1],a=i[2],l=Number(o),s=(Number.isNaN(l)?Ei[o]:l)-1;return Oi[a]*13+s},Di=function(e){var n=/^_[a-z]+$/i;if(e.match(n)){var r=Array.from(e.slice(1));return r.map(function(i){var o=i.charCodeAt(0);return o<91?o-65:o-97+26})}return e.split(/[\s,]+/)},$i=function(t){bi(n,t);var e=yi(n);function n(r){var i;if(Vn(this,n),typeof r=="number")i=e.call(this,r);else{i=e.call(this);var o=Array.isArray(r)?r:Di(r);o.forEach(function(a){return i.push(new se(a))})}return Gn(i)}return Wn(n,[{key:"toString",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:se.StringType.Short;return i===Dt.Char?"_"+this.map(function(o){return o.toString(i)}).join(""):this.map(function(o){return o.toString(i)}).join(", ")}}]),n}(yt(Array));bt=le.Cards=$i;var Pi=function(e){return typeof e=="string"?Ai(e):e instanceof se?e.num:e},se=function(){function t(e){Vn(this,t),me(this,"num",void 0),this.num=Pi(e)}return Wn(t,[{key:"suit",get:function(){return t.getSuit(this.num)}},{key:"value",get:function(){return t.getValue(this.num)}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.StringType.Long;switch(n){case t.StringType.Short:return this.toString(t.StringType.ShortValue)+this.toString(t.StringType.ShortSuit);case t.StringType.ShortEmoji:return this.toString(t.StringType.ShortValue)+this.toString(t.StringType.EmojiSuit);case t.StringType.Long:return this.toString(t.StringType.LongValue)+" of "+this.toString(t.StringType.LongSuit);case t.StringType.Char:return t.chars[this.num];case t.StringType.ShortSuit:return t.shortSuits[this.suit];case t.StringType.LongSuit:return t.longSuits[this.suit];case t.StringType.EmojiSuit:return t.emojiSuits[this.suit];case t.StringType.ShortValue:return t.shortValues[this.value===13?0:this.value];case t.StringType.LongValue:return t.longValues[this.value===13?0:this.value]}throw new Error("Unsupported output type")}}],[{key:"fromJSON",value:function(n){var r=n.num;return new t(r)}},{key:"getSuit",value:function(n){return Math.floor(n/13)%4}},{key:"getValue",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return n%13||r?n%13:13}},{key:"compare",value:function(n,r){return r.value-n.value}}]),t}();le.Card=se;me(se,"Suits",Yn);me(se,"StringType",Dt);me(se,"chars","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz");me(se,"emojiSuits",["♥","♠","♦","♣"]);me(se,"shortSuits",["h","s","d","c"]);me(se,"longSuits",["hearts","spades","diamonds","clubs"]);me(se,"shortValues",["A","2","3","4","5","6","7","8","9","T","J","Q","K"]);me(se,"longValues",["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"]);var lt={},ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.uniqueFilter=ne.shuffle=ne.last=ne.isSorted=ne.getCombinationsHelper=ne.getCombinations=ne.arraySubtraction=void 0;var Fi=function(e,n){return e.filter(function(r){return!n.includes(r)})};ne.arraySubtraction=Fi;var Xn=function t(e,n,r,i,o){if(i.length>=n)o.push(i);else for(var a=r;a<e.length;a++)t(e,n,a+1,i.concat(e[a]),o)};ne.getCombinationsHelper=Xn;var Li=function(e,n){var r=[];return Xn(e,n,0,[],r),r};ne.getCombinations=Li;var Mi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=r?-1:1;try{return e.reduce(function(o,a){if(i*n(o,a)<=0)return a;throw new Error}),!0}catch{return!1}};ne.isSorted=Mi;var Ii=function(e){return e[e.length-1]};ne.last=Ii;var Ri=function(e){for(var n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),i=[e[r],e[n]];e[n]=i[0],e[r]=i[1]}return e};ne.shuffle=Ri;var ji=function(e,n,r){return r.indexOf(e)===n};ne.uniqueFilter=ji;Object.defineProperty(lt,"__esModule",{value:!0});lt.Deck=void 0;var tn=ne,Re=le;function Ve(t){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(t)}function Ui(t){return qi(t)||Bi(t)||zi(t)||Ki()}function Ki(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zi(t,e){if(t){if(typeof t=="string")return _t(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _t(t,e)}}function Bi(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qi(t){if(Array.isArray(t))return _t(t)}function _t(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xn(r.key),r)}}function Vi(t,e,n){return e&&nn(t.prototype,e),n&&nn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wi(t,e,n){return e=xn(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xn(t){var e=Ji(t,"string");return Ve(e)==="symbol"?e:String(e)}function Ji(t,e){if(Ve(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ve(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gi=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Hi(this,t),Wi(this,"cards",void 0),this.cards=Ui(Array(52*n).keys()).map(function(r){return new Re.Card(r)}),e&&this.shuffle()}return Vi(t,[{key:"shuffle",value:function(){(0,tn.shuffle)(this.cards)}},{key:"isShuffled",value:function(){return!(0,tn.isSorted)(this.cards,function(n,r){return n.num-r.num})}},{key:"cardsRemaining",get:function(){return this.cards.length}},{key:"pop",value:function(){return this.cards.pop()}},{key:"popN",value:function(n){for(var r=[],i,o=0;o<n&&(i=this.pop());o++)r.push(i);return r}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Re.Card.StringType.Char;return new Re.Cards(this.cards).toString(n)}}],[{key:"fromJSON",value:function(n){var r=n.cards,i=new t(!1,0);return i.cards=r.map(function(o){return Re.Card.fromJSON(o)}),i}},{key:"fromString",value:function(n){var r=new t(!1,0);return r.cards=new Re.Cards(n),r}}]),t}();lt.Deck=Gi;var Me={},st={};Object.defineProperty(st,"__esModule",{value:!0});st.uuid4=void 0;var Qi=function(e){var n;do n=Math.random().toString(16).slice(2,e+2);while(n.length<e&&e<=12);return n},Yi=function(){var e=[8,4,4,4,12],n=e.map(Qi).join("-").split("");return n[14]="4",n[19]=(Math.floor(Math.random()*64)%4+8).toString(16),n.join("")};st.uuid4=Yi;Object.defineProperty(Me,"__esModule",{value:!0});Me.HandRank=Me.Hand=void 0;var Oe=ne,he=le,Zi=st;function pe(t){"@babel/helpers - typeof";return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(t)}function _e(t){return to(t)||eo(t)||xi(t)||Xi()}function Xi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xi(t,e){if(t){if(typeof t=="string")return wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(t,e)}}function eo(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function to(t){if(Array.isArray(t))return wt(t)}function wt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function no(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,er(r.key),r)}}function ro(t,e,n){return e&&rn(t.prototype,e),n&&rn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xe(t,e,n){return e=er(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function er(t){var e=io(t,"string");return pe(e)==="symbol"?e:String(e)}function io(t,e){if(pe(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pe(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tr=function(t){return t[t.High=0]="High",t[t.Pair=5]="Pair",t[t.TwoPairs=10]="TwoPairs",t[t.ThreeOfAKind=15]="ThreeOfAKind",t[t.Straight=20]="Straight",t[t.Flush=25]="Flush",t[t.FullHouse=30]="FullHouse",t[t.FourOfAKind=35]="FourOfAKind",t[t.StraightFlush=40]="StraightFlush",t[t.FiveOfAKind=45]="FiveOfAKind",t}({});Me.HandRank=tr;var nr=function(){function t(e,n,r){no(this,t),Xe(this,"uuid",void 0),Xe(this,"rank",void 0),Xe(this,"cards",void 0),this.rank=e,this.cards=n,this.uuid=r||(0,Zi.uuid4)()}return ro(t,[{key:"getCardsString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:he.Card.StringType.Short;return new he.Cards(this.cards).toString(n)}},{key:"toString",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:he.Card.StringType.Short,i=he.Card.StringType.LongValue,o=function(s){return n.cards[s].toString(i)},a=this.getCardsString(r);switch(this.rank){case t.Rank.FiveOfAKind:return"Five of a kind, ".concat(o(0),"s (").concat(a,")");case t.Rank.StraightFlush:return"Straigth flush, ".concat(o(0)," high (").concat(a,")");case t.Rank.FourOfAKind:return"Four of a kind, ".concat(o(0),"s (").concat(a,")");case t.Rank.FullHouse:return"Full house, ".concat(o(0),"s over ").concat(o(3),"s (").concat(a,")");case t.Rank.Flush:return"Flush, ".concat(o(0)," high (").concat(a,")");case t.Rank.Straight:return"Straigth, ".concat(o(0)," high (").concat(a,")");case t.Rank.ThreeOfAKind:return"Three of a kind, ".concat(o(0),"s (").concat(a,")");case t.Rank.TwoPairs:return"Two pairs, ".concat(o(0),"s and ").concat(o(2),"s (").concat(a,")");case t.Rank.Pair:return"Pair, ".concat(o(0),"s (").concat(a,")");case t.Rank.High:return"".concat(o(0).replace(/^\w/,function(l){return l.toUpperCase()})," high (").concat(a,")")}throw new Error("Unsupported rank value")}}],[{key:"fromJSON",value:function(n){var r=n.rank,i=n.cards,o=n.uuid;return new t(r,i.map(he.Card.fromJSON),o)}},{key:"solve",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,i,o;return(i=t.isNumOfAKind(5,n))?o=t.Rank.FiveOfAKind:(i=t.isStraightFlush(n,r))?o=t.Rank.StraightFlush:(i=t.isNumOfAKind(4,n))?o=t.Rank.FourOfAKind:(i=t.isFullHouse(n))?o=t.Rank.FullHouse:(i=t.isFlush(n,r))?o=t.Rank.Flush:(i=t.isStraight(n,r))?o=t.Rank.Straight:(i=t.isNumOfAKind(3,n))?o=t.Rank.ThreeOfAKind:(i=t.isTwoPairs(n))?o=t.Rank.TwoPairs:(i=t.isNumOfAKind(2,n))?o=t.Rank.Pair:(i=[],o=t.Rank.High),i=t.fillWithKickers(i,n),new t(o,i)}},{key:"solveHoldEm",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(i===0)return t.solve([].concat(_e(n),_e(r)));for(var o=(0,Oe.getCombinations)(n,n.length-i),a=(0,Oe.getCombinations)(r,Math.min(r.length,i)),l=[],s=0;s<o.length;s++)for(var u=0;u<a.length;u++)l.push(t.solve([].concat(_e(o[s]),_e(a[u]))));return t.max.apply(t,l)}},{key:"compare",value:function(n,r){var i;if(n.cards.length!==r.cards.length)throw new Error("Comparing hands with different number of cards");if((i=r.rank-n.rank)!==0)return i;for(var o=0;o<n.cards.length;o++)if((i=he.Card.compare(n.cards[o],r.cards[o]))!==0)return i;return 0}},{key:"winners",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=t.max.apply(t,r);return r.filter(function(a){return!t.compare(a,o)})}},{key:"max",value:function(){for(var n=function(l,s){return t.compare(l,s)<0?l:s},r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.reduce(function(a,l){return n(a,l)})}},{key:"fillWithKickers",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;return r=(0,Oe.arraySubtraction)(r,n).sort(he.Card.compare),[].concat(_e(n),_e(r)).slice(0,i)}},{key:"getUniqueValues",value:function(n){return n.map(function(r){return r.value}).filter(Oe.uniqueFilter).sort(function(r,i){return i-r})}},{key:"isNumOfAKind",value:function(n,r){for(var i=t.getUniqueValues(r),o,a=function(f){if(o=r.filter(function(d){return d.value==i[f]}),o.length>=n)return{v:o}},l=0;l<i.length;l++){var s=a(l);if(pe(s)==="object")return s.v}return!1}},{key:"isNumOfAKindCombination",value:function(n,r){for(var i=[],o=0;o<n.length;o++){var a=t.isNumOfAKind(n[o],(0,Oe.arraySubtraction)(r,i));if(a===!1)return!1;a=a,i.push.apply(i,_e(a))}return i}},{key:"isStraightFlush",value:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,i=[],o=function(u){if(i=n.filter(function(d){return d.suit===u}),i.length<r)return"continue";var f=t.isStraight(i,r);if(f)return{v:f}},a=0;a<4;a++){var l=o(a);if(l!=="continue"&&pe(l)==="object")return l.v}return!1}},{key:"isFullHouse",value:function(n){return t.isNumOfAKindCombination([3,2],n)}},{key:"isFlush",value:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,i=function(s){var u=n.filter(function(f){return f.suit==s});if(u.length>=r)return{v:u.sort(he.Card.compare).slice(0,r)}},o=0;o<4;o++){var a=i(o);if(pe(a)==="object")return a.v}return!1}},{key:"isStraight",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,i=t.getUniqueValues(n);if(i.length<r)return!1;i.includes(13)&&i.push(0);for(var o=[i[0]],a=1;a<i.length&&o.length<r;a++)(0,Oe.last)(o)-i[a]===1?o.push(i[a]):o=[i[a]];return o.length==r?o.map(function(l){return n.find(function(s){return s.value===(l||13)})}):!1}},{key:"isTwoPairs",value:function(n){return t.isNumOfAKindCombination([2,2],n)}}]),t}();Me.Hand=nr;Xe(nr,"Rank",tr);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Card",{enumerable:!0,get:function(){return e.Card}}),Object.defineProperty(t,"CardStringType",{enumerable:!0,get:function(){return e.CardStringType}}),Object.defineProperty(t,"Cards",{enumerable:!0,get:function(){return e.Cards}}),Object.defineProperty(t,"Deck",{enumerable:!0,get:function(){return n.Deck}}),Object.defineProperty(t,"Hand",{enumerable:!0,get:function(){return r.Hand}});var e=le,n=lt,r=Me})(ie);const oo=4.5,ao=5,lo=3,on=7,so=5,rr=t=>{switch(t){case"bridge":return{height:on,width:oo};case"poker":return{height:on,width:ao};case"small":return{height:so,width:lo}}},$t="card-appearance",uo={size:"bridge",fourColor:!1},fo=({size:t,colors:e})=>({size:t==="default"?"poker":t,fourColor:e==="four-color"}),ir=t=>{const e=At(uo,n=>(Pe.subscribe(r=>n(t(r))),()=>{}));return br($t,e),e},Pt=()=>Mn($t),co=t=>{const e=Mn($t);if(e){const n=mr(Pe);e.set(t(n))}},St=(t,e,n={})=>r=>{(Array.isArray(t)?t:[t]).includes(r.code)&&e!==void 0&&(n.preventDefault&&r.preventDefault(),e())};function mo(t){let e,n;return{c(){e=xe("svg"),n=xe("path"),v(n,"d",t[1]),v(n,"fill","CurrentColor"),v(e,"viewBox","0 0 16 20"),v(e,"class","svelte-1jimf84"),H(e,"flip",t[0])},m(r,i){N(r,e,i),w(e,n)},p(r,[i]){i&2&&v(n,"d",r[1]),i&1&&H(e,"flip",r[0])},i:Y,o:Y,d(r){r&&T(e)}}}function go(t,e,n){let r,{suit:i=null}=e,{flip:o=!1}=e;const a=l=>{switch(l){case"hearts":return"M 8 2 C 9 0 11 0 12 0 C 13 0 16 1 16 6 C 16 8 15.5 10 14 12 L 8 20 L 2 12 C 0.5 10 0 8 0 6 C 0 1 3 0 4 0 C 5 0 7 0 8 2";case"spades":return"M 8 0 L 13 5 C 16 8 16 10 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 10 0 8 3 5 L 8 0";case"diamonds":return"M 8 0 L 16 10 L 8 20 L 0 10 L 8 0";case"clubs":return"M 8 0 C 10 0 12 2 12 4 C 12 6 11 8 8 10 C 9 8 10 7 12 7 C 14 7 16 9 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 9 2 7 4 7 C 6 7 7 8 8 10 C 5 8 4 6 4 4 C 4 2 6 0 8 0";default:return null}};return t.$$set=l=>{"suit"in l&&n(2,i=l.suit),"flip"in l&&n(0,o=l.flip)},t.$$.update=()=>{t.$$.dirty&4&&n(1,r=a(i))},[o,r,i]}class or extends te{constructor(e){super(),ee(this,e,go,mo,Z,{suit:2,flip:0})}}function an(t,e,n){const r=t.slice();return r[5]=e[n],r}function ln(t,e,n){const r=t.slice();return r[8]=e[n],r}function sn(t){let e,n,r;return n=new or({props:{suit:t[0],flip:t[8].toLowerCase()==="d"}}),{c(){e=C("span"),U(n.$$.fragment),v(e,"class","svelte-1sm49dl")},m(i,o){N(i,e,o),R(n,e,null),r=!0},p(i,o){const a={};o&1&&(a.suit=i[0]),o&2&&(a.flip=i[8].toLowerCase()==="d"),n.$set(a)},i(i){r||(y(n.$$.fragment,i),r=!0)},o(i){S(n.$$.fragment,i),r=!1},d(i){i&&T(e),j(n)}}}function un(t){let e,n,r,i,o=ae(t[5].split("")),a=[];for(let s=0;s<o.length;s+=1)a[s]=sn(ln(t,o,s));const l=s=>S(a[s],1,1,()=>{a[s]=null});return{c(){e=C("div");for(let s=0;s<a.length;s+=1)a[s].c();n=M(),v(e,"class",r="row "+t[3](t[5])+" svelte-1sm49dl")},m(s,u){N(s,e,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);w(e,n),i=!0},p(s,u){if(u&7){o=ae(s[5].split(""));let f;for(f=0;f<o.length;f+=1){const d=ln(s,o,f);a[f]?(a[f].p(d,u),y(a[f],1)):(a[f]=sn(d),a[f].c(),y(a[f],1),a[f].m(e,n))}for(X(),f=o.length;f<a.length;f+=1)l(f);x()}(!i||u&2&&r!==(r="row "+s[3](s[5])+" svelte-1sm49dl"))&&v(e,"class",r)},i(s){if(!i){for(let u=0;u<o.length;u+=1)y(a[u]);i=!0}},o(s){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)S(a[u]);i=!1},d(s){s&&T(e),$e(a,s)}}}function ho(t){let e,n,r=ae(t[2](t[1])),i=[];for(let a=0;a<r.length;a+=1)i[a]=un(an(t,r,a));const o=a=>S(i[a],1,1,()=>{i[a]=null});return{c(){e=C("div");for(let a=0;a<i.length;a+=1)i[a].c();v(e,"class","center-pattern svelte-1sm49dl")},m(a,l){N(a,e,l);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null);n=!0},p(a,[l]){if(l&15){r=ae(a[2](a[1]));let s;for(s=0;s<r.length;s+=1){const u=an(a,r,s);i[s]?(i[s].p(u,l),y(i[s],1)):(i[s]=un(u),i[s].c(),y(i[s],1),i[s].m(e,null))}for(X(),s=r.length;s<i.length;s+=1)o(s);x()}},i(a){if(!n){for(let l=0;l<r.length;l+=1)y(i[l]);n=!0}},o(a){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)S(i[l]);n=!1},d(a){a&&T(e),$e(i,a)}}}function po(t,e,n){let{suit:r}=e,{rank:i}=e;const o={A:["U"],2:["U","D"],3:["U","U","D"],4:["UU","DD"],5:["UU","U","DD"],6:["UU","UU","DD"],7:["UU","u","UU","DD"],8:["UU","UU","DD","DD"],9:["UU","u","UU","DD","DD"],10:["UU","u","UU","DD","d","DD"]},a=s=>o[s]??[],l=s=>s.toUpperCase()===s?"grow":"";return t.$$set=s=>{"suit"in s&&n(0,r=s.suit),"rank"in s&&n(1,i=s.rank)},[r,i,a,l]}class vo extends te{constructor(e){super(),ee(this,e,po,ho,Z,{suit:0,rank:1})}}function bo(t){let e,n;const r=t[1].default,i=kt(r,t,t[0],null);return{c(){e=C("span"),i&&i.c(),v(e,"class","screen-reader-only svelte-3uotpv")},m(o,a){N(o,e,a),i&&i.m(e,null),n=!0},p(o,[a]){i&&i.p&&(!n||a&1)&&Tt(i,r,o,o[0],n?Ct(r,o[0],a,null):Nt(o[0]),null)},i(o){n||(y(i,o),n=!0)},o(o){S(i,o),n=!1},d(o){o&&T(e),i&&i.d(o)}}}function yo(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=o=>{"$$scope"in o&&n(0,i=o.$$scope)},[i,r]}class _o extends te{constructor(e){super(),ee(this,e,yo,bo,Z,{})}}function fn(t,e,n){const r=t.slice();return r[16]=e[n],r}function cn(t){let e,n;return e=new _o({props:{$$slots:{default:[wo]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const o={};i&524320&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function wo(t){let e;return{c(){e=G(t[5])},m(n,r){N(n,e,r)},p(n,r){r&32&&fe(e,n[5])},d(n){n&&T(e)}}}function dn(t){let e,n;return e=new vo({props:{suit:t[7],rank:t[8]}}),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const o={};i&128&&(o.suit=r[7]),i&256&&(o.rank=r[8]),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function mn(t){let e,n,r,i,o,a,l,s,u,f,d;l=new or({props:{suit:t[7]}});let c=!t[10]&&dn(t);return{c(){e=C("div"),n=C("div"),r=G(t[8]),o=M(),a=C("div"),U(l.$$.fragment),s=M(),u=C("div"),c&&c.c(),f=M(),v(n,"class",i="rank rank-"+t[8]+" svelte-t2vtqs"),v(a,"class","suit svelte-t2vtqs"),v(e,"aria-hidden","true"),v(e,"class",t[16]+" label svelte-t2vtqs"),v(u,"class","center svelte-t2vtqs"),H(u,"face",t[6])},m(m,g){N(m,e,g),w(e,n),w(n,r),w(e,o),w(e,a),R(l,a,null),N(m,s,g),N(m,u,g),c&&c.m(u,null),w(u,f),d=!0},p(m,g){(!d||g&256)&&fe(r,m[8]),(!d||g&256&&i!==(i="rank rank-"+m[8]+" svelte-t2vtqs"))&&v(n,"class",i);const b={};g&128&&(b.suit=m[7]),l.$set(b),m[10]?c&&(X(),S(c,1,1,()=>{c=null}),x()):c?(c.p(m,g),g&1024&&y(c,1)):(c=dn(m),c.c(),y(c,1),c.m(u,f)),(!d||g&64)&&H(u,"face",m[6])},i(m){d||(y(l.$$.fragment,m),y(c),d=!0)},o(m){S(l.$$.fragment,m),S(c),d=!1},d(m){m&&(T(e),T(s),T(u)),j(l),c&&c.d()}}}function So(t){let e,n,r,i,o=t[3]&&cn(t),a=ae(t[13]),l=[];for(let u=0;u<a.length;u+=1)l[u]=mn(fn(t,a,u));const s=u=>S(l[u],1,1,()=>{l[u]=null});return{c(){e=C("div"),o&&o.c(),n=M();for(let u=0;u<l.length;u+=1)l[u].c();v(e,"class",r="card "+t[7]+" stack-"+t[2]+" svelte-t2vtqs"),H(e,"bridge",t[11]),H(e,"small",t[10]),H(e,"fourColor",t[9]),H(e,"empty",t[0]),H(e,"hidden",t[4]),H(e,"shadow",t[1]),H(e,"visible",t[3])},m(u,f){N(u,e,f),o&&o.m(e,null),w(e,n);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(e,null);i=!0},p(u,[f]){if(u[3]?o?(o.p(u,f),f&8&&y(o,1)):(o=cn(u),o.c(),y(o,1),o.m(e,n)):o&&(X(),S(o,1,1,()=>{o=null}),x()),f&9664){a=ae(u[13]);let d;for(d=0;d<a.length;d+=1){const c=fn(u,a,d);l[d]?(l[d].p(c,f),y(l[d],1)):(l[d]=mn(c),l[d].c(),y(l[d],1),l[d].m(e,null))}for(X(),d=a.length;d<l.length;d+=1)s(d);x()}(!i||f&132&&r!==(r="card "+u[7]+" stack-"+u[2]+" svelte-t2vtqs"))&&v(e,"class",r),(!i||f&2180)&&H(e,"bridge",u[11]),(!i||f&1156)&&H(e,"small",u[10]),(!i||f&644)&&H(e,"fourColor",u[9]),(!i||f&133)&&H(e,"empty",u[0]),(!i||f&148)&&H(e,"hidden",u[4]),(!i||f&134)&&H(e,"shadow",u[1]),(!i||f&140)&&H(e,"visible",u[3])},i(u){if(!i){y(o);for(let f=0;f<a.length;f+=1)y(l[f]);i=!0}},o(u){S(o),l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)S(l[f]);i=!1},d(u){u&&T(e),o&&o.d(),$e(l,u)}}}function ko(t,e,n){let r,i,o,a,l,s,u,f,d,c;const m=Pt();ve(t,m,$=>n(15,c=$));let{card:g=null}=e,{empty:b=!1}=e,{shadow:O=!1}=e,{stack:K=void 0}=e;const I=["top","bottom"];return t.$$set=$=>{"card"in $&&n(14,g=$.card),"empty"in $&&n(0,b=$.empty),"shadow"in $&&n(1,O=$.shadow),"stack"in $&&n(2,K=$.stack)},t.$$.update=()=>{t.$$.dirty&32768&&n(11,r=c.size==="bridge"),t.$$.dirty&32768&&n(10,i=c.size==="small"),t.$$.dirty&32768&&n(9,o=c.fourColor),t.$$.dirty&16386&&n(4,a=g===null&&!O),t.$$.dirty&19&&n(3,l=!(b||a||O)),t.$$.dirty&16392&&n(8,s=l&&g.toString(ie.Card.StringType.ShortValue).replace("T","10")),t.$$.dirty&16392&&n(7,u=l&&g.toString(ie.Card.StringType.LongSuit)),t.$$.dirty&16392&&n(6,f=l&&g.num%13>9),t.$$.dirty&16392&&n(5,d=l&&g.toString(ie.Card.StringType.Long))},[b,O,K,l,a,d,f,u,s,o,i,r,m,I,g,c]}class ut extends te{constructor(e){super(),ee(this,e,ko,So,Z,{card:14,empty:0,shadow:1,stack:2})}}function gn(t,e,n){const r=t.slice();return r[19]=e[n].card,r[20]=e[n].shadow,r[21]=e[n].transform,r}function hn(t){let e,n;return e=new ut({props:{card:t[0],empty:t[0]===void 0}}),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const o={};i&1&&(o.card=r[0]),i&1&&(o.empty=r[0]===void 0),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function pn(t){let e,n,r,i;return n=new ut({props:{card:t[19],shadow:t[20]}}),{c(){e=C("div"),U(n.$$.fragment),r=M(),v(e,"class","shadow-container svelte-1ns87h6"),Ae(e,"transform",t[21])},m(o,a){N(o,e,a),R(n,e,null),w(e,r),i=!0},p(o,a){const l={};a&8&&(l.card=o[19]),a&8&&(l.shadow=o[20]),n.$set(l),(!i||a&8)&&Ae(e,"transform",o[21])},i(o){i||(y(n.$$.fragment,o),i=!0)},o(o){S(n.$$.fragment,o),i=!1},d(o){o&&T(e),j(n)}}}function Co(t){let e,n,r,i,o,a,l=!t[1]&&hn(t),s=ae(t[3]),u=[];for(let d=0;d<s.length;d+=1)u[d]=pn(gn(t,s,d));const f=d=>S(u[d],1,1,()=>{u[d]=null});return{c(){e=C("div"),n=C("div"),l&&l.c(),r=M();for(let d=0;d<u.length;d+=1)u[d].c();v(n,"aria-atomic","true"),v(n,"aria-live","polite"),v(e,"aria-label",t[2]),v(e,"aria-disabled",t[1]),v(e,"class","deck svelte-1ns87h6"),v(e,"role","button"),v(e,"tabindex","0"),H(e,"bridge",t[5]),H(e,"small",t[4]),H(e,"shuffling",t[1])},m(d,c){N(d,e,c),w(e,n),l&&l.m(n,null),w(n,r);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(n,null);i=!0,o||(a=[re(e,"keydown",St(["Space","Enter"],t[7],{preventDefault:!0})),re(e,"click",t[7])],o=!0)},p(d,[c]){if(d[1]?l&&(X(),S(l,1,1,()=>{l=null}),x()):l?(l.p(d,c),c&2&&y(l,1)):(l=hn(d),l.c(),y(l,1),l.m(n,r)),c&8){s=ae(d[3]);let m;for(m=0;m<s.length;m+=1){const g=gn(d,s,m);u[m]?(u[m].p(g,c),y(u[m],1)):(u[m]=pn(g),u[m].c(),y(u[m],1),u[m].m(n,null))}for(X(),m=s.length;m<u.length;m+=1)f(m);x()}(!i||c&4)&&v(e,"aria-label",d[2]),(!i||c&2)&&v(e,"aria-disabled",d[1]),(!i||c&32)&&H(e,"bridge",d[5]),(!i||c&16)&&H(e,"small",d[4]),(!i||c&2)&&H(e,"shuffling",d[1])},i(d){if(!i){y(l);for(let c=0;c<s.length;c+=1)y(u[c]);i=!0}},o(d){S(l),u=u.filter(Boolean);for(let c=0;c<u.length;c+=1)S(u[c]);i=!1},d(d){d&&T(e),l&&l.d(),$e(u,d),o=!1,ye(a)}}}function To(t,e,n,r){const i=t/r*e,o=.5*i/(n*52),a=1*i/(n*52);return`translate(${o}em , ${a}em)`}function No(t,e,n){let r,i,o,a,l,s;const u=Pt();ve(t,u,A=>n(16,s=A));let{numCards:f=52}=e,{numDecks:d=1}=e,{topCard:c=null}=e,{numShadows:m=10}=e,{shuffleAnimationSteps:g=4}=e,{shuffleAnimationMaxDistanceEm:b=.8}=e,{shuffleAnimationMaxRotateDeg:O=7}=e,{onClick:K=()=>{}}=e,I=0;function $(A,Q){const F=h=>[1,Q+2].includes(A)?0:(Math.random()*2-1)*h,D=F(b),B=F(b),p=F(O);return`translate(${D}em, ${B}em) rotate(${p}deg)`}function _(){I>0&&setTimeout(()=>{n(15,I-=1),_()},250)}function L(){if(!a)return K()}return t.$$set=A=>{"numCards"in A&&n(8,f=A.numCards),"numDecks"in A&&n(9,d=A.numDecks),"topCard"in A&&n(0,c=A.topCard),"numShadows"in A&&n(10,m=A.numShadows),"shuffleAnimationSteps"in A&&n(11,g=A.shuffleAnimationSteps),"shuffleAnimationMaxDistanceEm"in A&&n(12,b=A.shuffleAnimationMaxDistanceEm),"shuffleAnimationMaxRotateDeg"in A&&n(13,O=A.shuffleAnimationMaxRotateDeg),"onClick"in A&&n(14,K=A.onClick)},t.$$.update=()=>{t.$$.dirty&65536&&n(5,r=(s==null?void 0:s.size)==="bridge"),t.$$.dirty&65536&&n(4,i=(s==null?void 0:s.size)==="small"),t.$$.dirty&2817&&c===null&&f===52*d&&g>0&&(n(15,I=g+2),_()),t.$$.dirty&32768&&n(1,a=I>0),t.$$.dirty&36611&&n(3,o=c===void 0?[]:a?[...Array(m)].map(()=>({card:null,shadow:!1,transform:$(I,g)})):[...Array(m)].map((A,Q)=>({card:void 0,shadow:!0,transform:To(Q,f,d,m)}))),t.$$.dirty&1&&n(2,l=c===void 0?"Shuffle the deck":"Draw a card")},[c,a,l,o,i,r,u,L,f,d,m,g,b,O,K,I,s]}class Oo extends te{constructor(e){super(),ee(this,e,No,Co,Z,{numCards:8,numDecks:9,topCard:0,numShadows:10,shuffleAnimationSteps:11,shuffleAnimationMaxDistanceEm:12,shuffleAnimationMaxRotateDeg:13,onClick:14})}}function Eo(t){let e,n,r;return n=new Oo({props:{onClick:t[2],topCard:t[1],numCards:t[0]}}),{c(){e=C("main"),U(n.$$.fragment),v(e,"class","svelte-1tag1lj")},m(i,o){N(i,e,o),R(n,e,null),r=!0},p(i,[o]){const a={};o&2&&(a.topCard=i[1]),o&1&&(a.numCards=i[0]),n.$set(a)},i(i){r||(y(n.$$.fragment,i),r=!0)},o(i){S(n.$$.fragment,i),r=!1},d(i){i&&T(e),j(n)}}}function Ao(t,e,n){ir(fo);let r=new ie.Deck,i=r.cardsRemaining,o=null;function a(){o!==void 0?n(1,o=r.pop()):(r=new ie.Deck,n(1,o=null)),n(0,i=r.cardsRemaining)}const l=s=>{s.stopPropagation(),r=new ie.Deck,n(1,o=null),n(0,i=r.cardsRemaining)};return Et(()=>{Fe.update(s=>({...s,shuffle:l}))}),Ln(()=>{Fe.update(s=>({...s,shuffle:void 0}))}),[i,o,a]}class Do extends te{constructor(e){super(),ee(this,e,Ao,Eo,Z,{})}}const it=(t,e)=>rr(e).width+(t-1)*1.125,$o=(t,e,n)=>t.length===0?"empty":e?`closed${n==="rank"?`, ${t[0].toString(ie.CardStringType.LongValue)}s`:""}`:t.toString(ie.CardStringType.Long),Po=(t,e,n,r,i=!1)=>{const o=$o(new ie.Cards(e),r,i),a=n>0?` ${n} cards selected: ${new ie.Cards(e.slice(e.length-n)).toString(ie.CardStringType.Long)}`:"";return`${t}: ${o}.${a}`},Fo=(t,e,n)=>{const r={sourceStack:e,cards:n};t.dataTransfer.setData("application/json",JSON.stringify(r)),t.dataTransfer.effectAllowed="move"},Lo=t=>{const{sourceStack:e,cards:n}=JSON.parse(t.dataTransfer.getData("application/json"));return{sourceStack:e,cards:n.map(ie.Card.fromJSON)}};function Mo(t){let e,n;return e=new ut({props:{card:t[11]?null:t[0][0],stack:"left"}}),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const o={};i&2049&&(o.card=r[11]?null:r[0][0]),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function Io(t){let e,n;return e=new ut({props:{empty:!0}}),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p:Y,i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function vn(t){let e,n,r;return n=new ar({props:{cards:t[0].slice(1),capacity:t[1]-1,nested:!0,closed:t[2],index:t[3],isDraggableFn:t[4],selectedCardsN:t[5]}}),{c(){e=C("div"),U(n.$$.fragment),v(e,"class","nested svelte-o50ay1")},m(i,o){N(i,e,o),R(n,e,null),r=!0},p(i,o){const a={};o&1&&(a.cards=i[0].slice(1)),o&2&&(a.capacity=i[1]-1),o&4&&(a.closed=i[2]),o&8&&(a.index=i[3]),o&16&&(a.isDraggableFn=i[4]),o&32&&(a.selectedCardsN=i[5]),n.$set(a)},i(i){r||(y(n.$$.fragment,i),r=!0)},o(i){S(n.$$.fragment,i),r=!1},d(i){i&&T(e),j(n)}}}function Ro(t){let e,n,r,i,o,a,l,s,u,f;const d=[Io,Mo],c=[];function m(b,O){return b[0].length===0?0:1}r=m(t),i=c[r]=d[r](t);let g=t[0].length>1&&vn(t);return{c(){e=C("div"),n=C("div"),i.c(),o=M(),g&&g.c(),v(n,"aria-hidden",a=t[6]?void 0:"true"),v(e,"aria-label",t[7]),v(e,"class","stack svelte-o50ay1"),v(e,"style",t[14]),v(e,"draggable",t[13]),v(e,"role","button"),v(e,"tabindex",l=t[6]?void 0:0),H(e,"selected",t[12])},m(b,O){N(b,e,O),w(e,n),c[r].m(n,null),w(n,o),g&&g.m(n,null),s=!0,u||(f=[re(e,"dblclick",t[19]),re(e,"dragstart",function(){de(t[10])&&t[10].apply(this,arguments)}),re(e,"dragover",function(){de(t[9])&&t[9].apply(this,arguments)}),re(e,"drop",t[20]),re(e,"click",function(){de(t[8])&&t[8].apply(this,arguments)}),re(e,"keydown",function(){de(St(["Enter","Space"],t[8],{preventDefault:!0}))&&St(["Enter","Space"],t[8],{preventDefault:!0}).apply(this,arguments)})],u=!0)},p(b,[O]){t=b;let K=r;r=m(t),r===K?c[r].p(t,O):(X(),S(c[K],1,1,()=>{c[K]=null}),x(),i=c[r],i?i.p(t,O):(i=c[r]=d[r](t),i.c()),y(i,1),i.m(n,o)),t[0].length>1?g?(g.p(t,O),O&1&&y(g,1)):(g=vn(t),g.c(),y(g,1),g.m(n,null)):g&&(X(),S(g,1,1,()=>{g=null}),x()),(!s||O&64&&a!==(a=t[6]?void 0:"true"))&&v(n,"aria-hidden",a),(!s||O&128)&&v(e,"aria-label",t[7]),(!s||O&16384)&&v(e,"style",t[14]),(!s||O&8192)&&v(e,"draggable",t[13]),(!s||O&64&&l!==(l=t[6]?void 0:0))&&v(e,"tabindex",l),(!s||O&4096)&&H(e,"selected",t[12])},i(b){s||(y(i),y(g),s=!0)},o(b){S(i),S(g),s=!1},d(b){b&&T(e),c[r].d(),g&&g.d(),u=!1,ye(f)}}}function jo(t,e,n){let r,i,o,a,l,s,u,f,d,c;const m=Pt();ve(t,m,D=>n(18,c=D));let{cards:g=[]}=e,{capacity:b=4}=e,{closed:O=!1}=e,{index:K=0}=e,{isDraggableFn:I=()=>!1}=e,{selectedCardsN:$=0}=e,{labelOptions:_={title:"Stack"}}=e,{nested:L=!1}=e;const A=ot();function Q(D){ht.call(this,t,D)}function F(D){ht.call(this,t,D)}return t.$$set=D=>{"cards"in D&&n(0,g=D.cards),"capacity"in D&&n(1,b=D.capacity),"closed"in D&&n(2,O=D.closed),"index"in D&&n(3,K=D.index),"isDraggableFn"in D&&n(4,I=D.isDraggableFn),"selectedCardsN"in D&&n(5,$=D.selectedCardsN),"labelOptions"in D&&n(16,_=D.labelOptions),"nested"in D&&n(6,L=D.nested)},t.$$.update=()=>{t.$$.dirty&262144&&n(17,r=c.size),t.$$.dirty&131074&&n(14,i=`width: ${it(b,r)}em`),t.$$.dirty&21&&n(13,o=!O&&I(g)),t.$$.dirty&33&&n(12,a=$>0&&$===g.length),t.$$.dirty&5&&n(11,l=O&&g.length===1),t.$$.dirty&9&&n(10,s=D=>{D.stopPropagation(),Fo(D,K,g)}),t.$$.dirty&72&&n(8,f=()=>{L||A("select",{index:K})}),t.$$.dirty&65637&&n(7,d=L?void 0:Po(_.title,g,$,O,_.closed))},n(9,u=D=>{D.preventDefault()}),[g,b,O,K,I,$,L,d,f,u,s,l,a,o,i,m,_,r,c,Q,F]}class ar extends te{constructor(e){super(),ee(this,e,jo,Ro,Z,{cards:0,capacity:1,closed:2,index:3,isDraggableFn:4,selectedCardsN:5,labelOptions:16,nested:6})}}const lr=(t,e)=>{const n=t/e;return n<3/4?[3,5]:n<4/3?[4,4]:[5,3]},bn=(t,e)=>{const[n,r]=lr(t,e);return{length:n*r-15}},Uo=(t,e,n)=>{const r=it(4,t)*e+(t!=="small"?.666:.333)*e*2,i=rr(t).height*n+(t!=="small"?.5:.25)*n*2;return[r,i]},Ko=(t,e,n,r)=>{const i=n>600?n:r,o=Math.min(e,i*(16/9)),[a,l]=lr(e,r),[s,u]=Uo(t,a,l),f=o*.95/s,d=i*.95/u;return{fontSize:Math.min(f,d),columns:a,rows:l,tableWidthEm:s,tableHeightEm:u}},yn=()=>{const t=new ie.Deck;return[...Array(13)].map(()=>t.popN(4)).concat([[],[]])},Ft=t=>{const[e,...n]=t;return n.every(r=>r.value===e.value)},zo=t=>t.length===0?!1:t.length===1?!0:Ft(t),Lt=(t,e)=>t.length+e.length>4?!1:e.length===0||e[e.length-1].value===t[0].value,Mt=(t,e,n,r)=>{const i=t.map(o=>[...o]);if(!Lt(r,i[n]))throw new Error(`Can not move cards ${r.map(o=>o.toString(Zn.ShortEmoji))} from pile ${e} to pile ${n}`);return i[e]=i[e].slice(0,i[e].length-r.length),i[n]=[...i[n],...r],i},It=t=>t.length===1||Ft(t)?t:It(t.slice(1)),Bo=(t,e)=>{if(t[e].length===0)throw new Error("Cannot move cards from an empty pile.");if(Rt(t[e]))throw new Error("Cannot move cards from a completed pile.");const n=It(t[e]),r=t.reduce((a,l,s)=>s!==e&&Lt(n,l)?[...a,s]:a,[]);if(r.length===0)throw new Error(`Cannot move cards from pile ${e} to any other pile`);const i=r.filter(a=>t[a].length>0),o=i.length>0?i[0]:r[0];return Mt(t,e,o,n)},qo=(t,e)=>{const n=t[e].slice(-1);return n.length===0?[[],n]:[t.reduce((i,o,a)=>a!==e&&Lt(n,o)?[...i,a]:i,[]),n]},sr=t=>t.reduce((e,n,r)=>{const[i,o]=qo(t,r);return i.length===0?e:[...e,[r,i,o]]},[]),Ho=(t,e)=>{if(t[0]!==e[0]||t[1].length!==e[1].length)return!1;for(let n=0;n<t[1].length;n++)if(t[1][n]!==e[1][n])return!1;return new bt(t[2]).toString()===new bt(e[2]).toString()},Vo=t=>(e,n,r)=>{var c;const[i,o,a]=e,l=[...a];if(o.length>1)return[!1,[]];const s=o[0],u=Mt(t,i,s,a),f=sr(u),d=r.filter(([m])=>m!==s).map(m=>m[0]===i?[s,[i],a]:m).sort((m,g)=>m[0]-g[0]);if(f.length-d.length===1){const m=u[i].slice(-2);if(((c=u[s][0])==null?void 0:c.value)!==a[0].value&&m.length===2&&m.every(g=>g.value===a[0].value))d.push([i,o,[m[1]]]),d.sort((g,b)=>g[0]-b[0]),l.push(m[1]);else return[!1,[]]}return f.length!==d.length?[!1,[]]:[d.every((m,g)=>Ho(m,f[g])),l]},Wo=t=>{const e=sr(t);if(e.length===0)return["dead-end",[]];const n=e.map(Vo(t));return n.every(([r])=>r)&&n.length>0?["infinite-loop",n.reduce((i,o)=>[...i,...o[1]],[])]:[!1,[]]},Rt=t=>t.length===4&&Ft(t),Jo=t=>t.every(e=>Rt(e)||e.length===0),Go=t=>t.reduce((e,n,r)=>Rt(n)?[...e,r]:e,[]),je=t=>({type:t,timestamp:Date.now()}),Qo=t=>{const e={};return t.forEach(({type:n})=>e[n]=(e[n]??0)+1),e},_n=t=>t.reduce((e,n)=>e+n,0),Yo=t=>{const e=t.filter(i=>i.type==="start").map(i=>i.timestamp),n=t.filter(i=>i.type==="stop").map(i=>i.timestamp);if(e.length===0)return[null,null];const r=(n[n.length-1]??Date.now())-e[0];return e.length!==n.length?[null,r]:[_n(n)-_n(e),r]},Qe=(t,e)=>t>0?`${t} ${e}`:"",wn=t=>{if(t<1e3)return Qe(t,"ms");const e=Math.floor(t/36e5),n=Math.floor(t/6e4-e*60),r=Math.floor(t/1e3-n*60-e*3600);return[Qe(e,"h"),Qe(n,"min"),Qe(r,"s")].join(" ").trim()};function Zo(t){let e,n,r,i,o,a,l,s=wn(t[0])+"",u,f,d,c,m,g,b=(t[1].move??0)-(t[1].undo??0)+"",O,K,I,$,_,L,A=(t[1].move??0)+(t[1].undo??0)+"",Q,F,D,B,p,h,k=(t[1].undo??0)+"",P;return{c(){e=C("p"),e.innerHTML=`Here are statistics about the completed game. Undo and undone moves are
  excluded from <i>Significant moves</i> but included in <i>Total moves</i>.`,n=M(),r=C("table"),i=C("tr"),o=C("th"),o.textContent="Elapsed time:",a=M(),l=C("td"),u=G(s),f=M(),d=C("tr"),c=C("th"),c.textContent="Significant moves:",m=M(),g=C("td"),O=G(b),K=M(),I=C("tr"),$=C("th"),$.textContent="Total moves:",_=M(),L=C("td"),Q=G(A),F=M(),D=C("tr"),B=C("th"),B.textContent="Undone moves:",p=M(),h=C("td"),P=G(k),v(o,"class","svelte-5tdcck"),v(l,"class","svelte-5tdcck"),v(c,"class","svelte-5tdcck"),v(g,"class","svelte-5tdcck"),v($,"class","svelte-5tdcck"),v(L,"class","svelte-5tdcck"),v(B,"class","svelte-5tdcck"),v(h,"class","svelte-5tdcck"),v(r,"class","svelte-5tdcck")},m(E,z){N(E,e,z),N(E,n,z),N(E,r,z),w(r,i),w(i,o),w(i,a),w(i,l),w(l,u),w(r,f),w(r,d),w(d,c),w(d,m),w(d,g),w(g,O),w(r,K),w(r,I),w(I,$),w(I,_),w(I,L),w(L,Q),w(r,F),w(r,D),w(D,B),w(D,p),w(D,h),w(h,P)},p(E,[z]){z&1&&s!==(s=wn(E[0])+"")&&fe(u,s),z&2&&b!==(b=(E[1].move??0)-(E[1].undo??0)+"")&&fe(O,b),z&2&&A!==(A=(E[1].move??0)+(E[1].undo??0)+"")&&fe(Q,A),z&2&&k!==(k=(E[1].undo??0)+"")&&fe(P,k)},i:Y,o:Y,d(E){E&&(T(e),T(n),T(r))}}}function Xo(t,e,n){let r,i,o,{events:a}=e;return t.$$set=l=>{"events"in l&&n(2,a=l.events)},t.$$.update=()=>{t.$$.dirty&4&&n(1,r=Qo(a)),t.$$.dirty&4&&n(0,[i,o]=Yo(a),o)},[o,r,a]}class xo extends te{constructor(e){super(),ee(this,e,Xo,Zo,Z,{events:2})}}function Sn(t){let e,n;return e=new at({props:{title:"Completed",$$slots:{default:[ea]},$$scope:{ctx:t}}}),e.$on("close",t[6]),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const o={};i&129&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function ea(t){let e,n,r,i,o;return e=new xo({props:{events:t[0]}}),i=new be({props:{icon:"Shuffle",label:"Shuffle",onClick:t[5]}}),{c(){U(e.$$.fragment),n=M(),r=C("div"),U(i.$$.fragment),v(r,"class","actions svelte-16kom67")},m(a,l){R(e,a,l),N(a,n,l),N(a,r,l),R(i,r,null),o=!0},p(a,l){const s={};l&1&&(s.events=a[0]),e.$set(s)},i(a){o||(y(e.$$.fragment,a),y(i.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),S(i.$$.fragment,a),o=!1},d(a){a&&(T(n),T(r)),j(e,a),j(i)}}}function ta(t){let e,n,r=t[2]&&t[1]&&Sn(t);return{c(){r&&r.c(),e=Ot()},m(i,o){r&&r.m(i,o),N(i,e,o),n=!0},p(i,[o]){i[2]&&i[1]?r?(r.p(i,o),o&6&&y(r,1)):(r=Sn(i),r.c(),y(r,1),r.m(e.parentNode,e)):r&&(X(),S(r,1,1,()=>{r=null}),x())},i(i){n||(y(r),n=!0)},o(i){S(r),n=!1},d(i){i&&T(e),r&&r.d(i)}}}function na(t,e,n){let r,{events:i}=e,{piles:o}=e,a=!0;const l=ot(),s=()=>l("shuffle"),u=()=>{n(1,a=!1)};return t.$$set=f=>{"events"in f&&n(0,i=f.events),"piles"in f&&n(4,o=f.piles)},t.$$.update=()=>{t.$$.dirty&16&&n(2,r=Jo(o)),t.$$.dirty&1&&n(1,a=!0)},[i,a,r,l,o,s,u]}class ra extends te{constructor(e){super(),ee(this,e,na,ta,Z,{events:0,piles:4})}}const ia=(t,e=ie.CardStringType.Long)=>{const n=t.map(i=>i.toString(e)),r=[n.slice(0,-1).join(", "),...n.slice(-1)].filter(i=>i).join(" and ");return r.charAt(0).toUpperCase()+r.slice(1)};function kn(t){let e,n;return e=new at({props:{title:"Dead end",$$slots:{default:[oa]},$$scope:{ctx:t}}}),e.$on("close",t[8]),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,i){const o={};i&518&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function Cn(t){let e;return{c(){e=C("p"),e.textContent="No more possible moves. Undo the last move or start a new game."},m(n,r){N(n,e,r)},d(n){n&&T(e)}}}function Tn(t){let e,n,r;return{c(){e=C("p"),n=G(t[1]),r=G(` can be moved back and forth between two piles. There are no
        other possible moves. Undo the last move or start a new game.`)},m(i,o){N(i,e,o),w(e,n),w(e,r)},p(i,o){o&2&&fe(n,i[1])},d(i){i&&T(e)}}}function oa(t){let e,n,r,i,o,a,l,s=t[2]==="dead-end"&&Cn(),u=t[2]==="infinite-loop"&&Tn(t);return i=new be({props:{icon:"Shuffle",label:"Shuffle",onClick:t[6]}}),a=new be({props:{icon:"Undo",label:"Undo",onClick:t[7]}}),{c(){s&&s.c(),e=M(),u&&u.c(),n=M(),r=C("div"),U(i.$$.fragment),o=M(),U(a.$$.fragment),v(r,"class","actions svelte-16kom67")},m(f,d){s&&s.m(f,d),N(f,e,d),u&&u.m(f,d),N(f,n,d),N(f,r,d),R(i,r,null),w(r,o),R(a,r,null),l=!0},p(f,d){f[2]==="dead-end"?s||(s=Cn(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),f[2]==="infinite-loop"?u?u.p(f,d):(u=Tn(f),u.c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null)},i(f){l||(y(i.$$.fragment,f),y(a.$$.fragment,f),l=!0)},o(f){S(i.$$.fragment,f),S(a.$$.fragment,f),l=!1},d(f){f&&(T(e),T(n),T(r)),s&&s.d(f),u&&u.d(f),j(i),j(a)}}}function aa(t){let e,n,r=t[2]&&t[0]&&kn(t);return{c(){r&&r.c(),e=Ot()},m(i,o){r&&r.m(i,o),N(i,e,o),n=!0},p(i,[o]){i[2]&&i[0]?r?(r.p(i,o),o&5&&y(r,1)):(r=kn(i),r.c(),y(r,1),r.m(e.parentNode,e)):r&&(X(),S(r,1,1,()=>{r=null}),x())},i(i){n||(y(r),n=!0)},o(i){S(r),n=!1},d(i){i&&T(e),r&&r.d(i)}}}function la(t,e,n){let r,i,o,{piles:a}=e,l=!0;const s=ot(),u=()=>s("shuffle"),f=()=>s("undo"),d=()=>{n(0,l=!1)};return t.$$set=c=>{"piles"in c&&n(4,a=c.piles)},t.$$.update=()=>{t.$$.dirty&16&&n(2,[r,i]=Wo(a),r,(n(5,i),n(4,a))),t.$$.dirty&32&&n(1,o=ia(i)),t.$$.dirty&16&&n(0,l=!0)},[l,o,r,s,a,i,u,f,d]}class sa extends te{constructor(e){super(),ee(this,e,la,aa,Z,{piles:4})}}function ua(t){let e,n,r,i,o,a,l,s,u,f,d;return{c(){e=C("p"),e.textContent=`The goal of the pileon solitaire is to rearrange a deck of cards into piles
    of equal ranks from thirteen random piles of four using fifteen piles.`,n=M(),r=C("h3"),r.textContent="Rules",i=M(),o=C("ul"),o.innerHTML=`<li>Each pile can contain up to four cards.</li> <li>Cards can be moved from top of the pile into a pile where the top card is
      of the same rank as the card that is moved.</li> <li>Cards of any rank can be moved into an empty pile.</li> <li>Multiple cards with the same rank can be moved at once.</li> <li>Pile is complete when it contains all four cards with the same rank.</li>`,a=M(),l=C("h3"),l.textContent="Moving cards",s=M(),u=C("ol"),u.innerHTML=`<li>Select the source pile by clicking a pile. Cards to be moved are
      highlighted. Click the source pile again to reduce the amount of selected
      cards.</li> <li>Move cards by clicking the target pile. If the move is valid, the cards
      are moved from the source pile into the target pile.</li>`,f=M(),d=C("p"),d.textContent=`If your device supports drag-and-drop, you can also drag the cards you want
    to move from the source pile into the target pile. Double-clicking the
    source pile automatically moves cards from the pile to an available target
    pile.`},m(c,m){N(c,e,m),N(c,n,m),N(c,r,m),N(c,i,m),N(c,o,m),N(c,a,m),N(c,l,m),N(c,s,m),N(c,u,m),N(c,f,m),N(c,d,m)},p:Y,d(c){c&&(T(e),T(n),T(r),T(i),T(o),T(a),T(l),T(s),T(u),T(f),T(d))}}}function fa(t){let e,n;return e=new at({props:{title:"How to play?",$$slots:{default:[ua]},$$scope:{ctx:t}}}),e.$on("close",t[0]),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p(r,[i]){const o={};i&2&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function ca(t){function e(n){ht.call(this,t,n)}return[e]}class da extends te{constructor(e){super(),ee(this,e,ca,fa,Z,{})}}function Nn(t,e,n){const r=t.slice();return r[25]=e[n],r}function On(t,e,n){const r=t.slice();return r[28]=e[n],r[30]=n,r}function En(t){let e,n,r;return n=new ar({props:{cards:t[28],closed:t[10].includes(t[30]),selectedCardsN:t[9]===t[30]?t[8].length:0,labelOptions:{title:`Stack ${t[30]+1}`,closed:"rank"},index:t[30],isDraggableFn:zo}}),n.$on("drop",t[15](t[30])),n.$on("dblclick",t[16](t[30])),n.$on("select",t[14]),{c(){e=C("div"),U(n.$$.fragment),v(e,"class","pile svelte-4p00up")},m(i,o){N(i,e,o),R(n,e,null),r=!0},p(i,o){const a={};o&16&&(a.cards=i[28]),o&1024&&(a.closed=i[10].includes(i[30])),o&768&&(a.selectedCardsN=i[9]===i[30]?i[8].length:0),n.$set(a)},i(i){r||(y(n.$$.fragment,i),r=!0)},o(i){S(n.$$.fragment,i),r=!1},d(i){i&&T(e),j(n)}}}function An(t){let e,n;return{c(){e=C("div"),v(e,"class","pile svelte-4p00up"),v(e,"style",n=`min-width: ${it(4,t[3])}em`)},m(r,i){N(r,e,i)},p(r,i){i&8&&n!==(n=`min-width: ${it(4,r[3])}em`)&&v(e,"style",n)},d(r){r&&T(e)}}}function Dn(t){let e,n;return e=new da({}),e.$on("close",t[22]),{c(){U(e.$$.fragment)},m(r,i){R(e,r,i),n=!0},p:Y,i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){j(e,r)}}}function ma(t){let e,n,r,i=`${t[7].fontSize}px`,o=`${t[7].tableWidthEm*1.25}em`,a,l,s,u,f,d,c,m;Be(t[20]);let g=ae(t[4]),b=[];for(let _=0;_<g.length;_+=1)b[_]=En(On(t,g,_));const O=_=>S(b[_],1,1,()=>{b[_]=null});let K=ae(bn(t[0],t[2])),I=[];for(let _=0;_<K.length;_+=1)I[_]=An(Nn(t,K,_));let $=t[6]&&Dn(t);return s=new ra({props:{events:t[5],piles:t[4]}}),s.$on("shuffle",t[12]),f=new sa({props:{piles:t[4]}}),f.$on("shuffle",t[12]),f.$on("undo",t[13]),{c(){e=C("main");for(let _=0;_<b.length;_+=1)b[_].c();n=M();for(let _=0;_<I.length;_+=1)I[_].c();a=M(),$&&$.c(),l=M(),U(s.$$.fragment),u=M(),U(f.$$.fragment),v(e,"class","pileon svelte-4p00up"),Be(()=>t[21].call(e)),Ae(e,"font-size",i),Ae(e,"width",o)},m(_,L){N(_,e,L);for(let A=0;A<b.length;A+=1)b[A]&&b[A].m(e,null);w(e,n);for(let A=0;A<I.length;A+=1)I[A]&&I[A].m(e,null);r=pr(e,t[21].bind(e)),N(_,a,L),$&&$.m(_,L),N(_,l,L),R(s,_,L),N(_,u,L),R(f,_,L),d=!0,c||(m=re(window,"resize",t[20]),c=!0)},p(_,[L]){if(L&116496){g=ae(_[4]);let F;for(F=0;F<g.length;F+=1){const D=On(_,g,F);b[F]?(b[F].p(D,L),y(b[F],1)):(b[F]=En(D),b[F].c(),y(b[F],1),b[F].m(e,n))}for(X(),F=g.length;F<b.length;F+=1)O(F);x()}if(L&13){K=ae(bn(_[0],_[2]));let F;for(F=0;F<K.length;F+=1){const D=Nn(_,K,F);I[F]?I[F].p(D,L):(I[F]=An(D),I[F].c(),I[F].m(e,null))}for(;F<I.length;F+=1)I[F].d(1);I.length=K.length}L&128&&i!==(i=`${_[7].fontSize}px`)&&Ae(e,"font-size",i),L&128&&o!==(o=`${_[7].tableWidthEm*1.25}em`)&&Ae(e,"width",o),_[6]?$?($.p(_,L),L&64&&y($,1)):($=Dn(_),$.c(),y($,1),$.m(l.parentNode,l)):$&&(X(),S($,1,1,()=>{$=null}),x());const A={};L&32&&(A.events=_[5]),L&16&&(A.piles=_[4]),s.$set(A);const Q={};L&16&&(Q.piles=_[4]),f.$set(Q)},i(_){if(!d){for(let L=0;L<g.length;L+=1)y(b[L]);y($),y(s.$$.fragment,_),y(f.$$.fragment,_),d=!0}},o(_){b=b.filter(Boolean);for(let L=0;L<b.length;L+=1)S(b[L]);S($),S(s.$$.fragment,_),S(f.$$.fragment,_),d=!1},d(_){_&&(T(e),T(a),T(l),T(u)),$e(b,_),$e(I,_),r(),$&&$.d(_),j(s,_),j(f,_),c=!1,m()}}}function ga(t,e,n){let r,i,o,a,l,s,u,f,d,c,m=ir(h=>({size:h.size==="default"?"bridge":h.size,fourColor:h.colors==="four-color"}));ve(t,m,h=>n(19,u=h));let g=[yn()],b=[je("start")],O=!1;const K=h=>{h.stopPropagation(),n(6,O=!0)},I=h=>{h.stopPropagation(),n(18,_=[void 0,[]]),n(17,g=[yn()]),n(5,b=[je("start")])},$=h=>{h.stopPropagation(),g.length>1&&(n(18,_=[void 0,[]]),n(17,g=g.slice(0,g.length-1)),n(5,b=[...b,je("undo")]))};let _=[void 0,[]];const L=(h,k,P)=>{try{n(18,_=[void 0,[]]);const E=Mt(g[g.length-1],h,k,P);n(17,g=[...g,E]),n(5,b=[...b,je("move")])}catch{}},A=h=>{const[k,P]=_,E=h.detail.index;i.includes(E)||(k===void 0||P.length===0?n(18,_=[E,It(r[E])]):k===E?n(18,_=[E,P.slice(1)]):k!==E&&(L(k,E,P),n(18,_=[void 0,[]])))},Q=h=>k=>{k.preventDefault();const{sourceStack:P,cards:E}=Lo(k);P!==h&&L(P,h,E)},F=h=>k=>{k.preventDefault();try{n(18,_=[void 0,[]]);const P=Bo(g[g.length-1],h);n(17,g=[...g,P]),n(5,b=[...b,je("move")])}catch{}};Et(()=>{Fe.update(h=>({...h,help:K,shuffle:I,undo:$}))}),Ln(()=>{Fe.update(h=>({...h,help:void 0,shuffle:void 0,undo:void 0}))});function D(){n(2,c=window.innerHeight)}function B(){d=this.clientHeight,f=this.clientWidth,n(1,d),n(0,f)}const p=()=>{n(6,O=!1)};return t.$$.update=()=>{if(t.$$.dirty&5){const h=f<800||c<500?"small":"bridge";co(k=>({size:k.size==="default"?h:k.size,fourColor:k.colors==="four-color"}))}t.$$.dirty&131072&&n(4,r=g[g.length-1]),t.$$.dirty&16&&n(10,i=Go(r)),t.$$.dirty&262144&&n(9,o=_[0]),t.$$.dirty&262144&&n(8,a=_[1]),t.$$.dirty&524288&&n(3,l=u.size),t.$$.dirty&15&&n(7,s=Ko(l,f,d,c))},[f,d,c,l,r,b,O,s,a,o,i,m,I,$,A,Q,F,g,_,u,D,B,p]}class ha extends te{constructor(e){super(),ee(this,e,ga,ma,Z,{})}}function pa(t){let e,n,r,i,o,a,l,s,u;e=new pi({});var f=t[0];function d(c,m){return{}}return f&&(r=Kt(f,d())),a=new Er({}),{c(){U(e.$$.fragment),n=M(),r&&U(r.$$.fragment),i=M(),o=M(),U(a.$$.fragment)},m(c,m){R(e,c,m),N(c,n,m),r&&R(r,c,m),N(c,i,m),N(c,o,m),R(a,c,m),l=!0,s||(u=re(document.body,"keydown",t[1]),s=!0)},p(c,[m]){if(m&1&&f!==(f=c[0])){if(r){X();const g=r;S(g.$$.fragment,1,0,()=>{j(g,1)}),x()}f?(r=Kt(f,d()),U(r.$$.fragment),y(r.$$.fragment,1),R(r,i.parentNode,i)):r=null}},i(c){l||(y(e.$$.fragment,c),r&&y(r.$$.fragment,c),y(a.$$.fragment,c),l=!0)},o(c){S(e.$$.fragment,c),r&&S(r.$$.fragment,c),S(a.$$.fragment,c),l=!1},d(c){c&&(T(n),T(i),T(o)),j(e,c),r&&j(r,c),j(a,c),s=!1,u()}}}function va(t,e,n){let r,i,o;ve(t,Fe,l=>n(3,i=l)),ve(t,Pe,l=>n(2,o=l));const a=l=>{l.key==="z"&&(l.ctrlKey||l.metaKey)&&i.undo!==void 0&&i.undo(l),l.key==="F1"&&i.help!==void 0&&i.help(l)};return t.$$.update=()=>{t.$$.dirty&4&&n(0,r=o.game==="deck"?Do:ha)},[r,a,o]}class ba extends te{constructor(e){super(),ee(this,e,va,pa,Z,{})}}new ba({target:document.body});
