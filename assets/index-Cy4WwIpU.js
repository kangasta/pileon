(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Pr=!1;var br=Array.isArray,fi=Array.prototype.indexOf,Ot=Array.prototype.includes,mr=Array.from,Gn=Object.defineProperty,Ct=Object.getOwnPropertyDescriptor,Jn=Object.getOwnPropertyDescriptors,ci=Object.prototype,di=Array.prototype,Br=Object.getPrototypeOf,pn=Object.isExtensible;const At=()=>{};function vi(t){return t()}function Dr(t){for(var e=0;e<t.length;e++)t[e]()}function Yn(){var t,e,r=new Promise((n,a)=>{t=n,e=a});return{promise:r,resolve:t,reject:e}}function Hr(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const n of t)if(r.push(n),r.length===e)break;return r}const fe=2,or=4,Yt=8,Zn=1<<24,Ye=16,je=32,mt=64,Wr=128,Oe=512,ie=1024,ce=2048,Pe=4096,Te=8192,We=16384,Gr=32768,ht=65536,gn=1<<17,Qn=1<<18,Lt=1<<19,Xn=1<<20,He=1<<25,pt=32768,Fr=1<<21,Jr=1<<22,tt=1<<23,ct=Symbol("$state"),hi=Symbol("legacy props"),pi=Symbol(""),Tt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function yr(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function gi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function bi(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function mi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function yi(t){throw new Error("https://svelte.dev/e/effect_orphan")}function _i(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function wi(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Si(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ti(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ei(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ki(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Ci=1,Ai=2,ea=4,Oi=8,Ni=16,Pi=1,Di=2,Fi=4,xi=8,Ri=16,Ii=1,Mi=2,se=Symbol(),Li="http://www.w3.org/1999/xhtml";function $i(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ta(t){return t===this.v}function ra(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function na(t){return!ra(t,this.v)}let $t=!1,ji=!1;function Ui(){$t=!0}let X=null;function Nt(t){X=t}function aa(t){return ia().get(t)}function Ki(t,e){return ia().set(t,e),e}function de(t,e=!1,r){X={p:X,i:!1,c:null,e:null,s:t,x:null,l:$t&&!e?{s:null,u:null,$:[]}:null}}function ve(t){var e=X,r=e.e;if(r!==null){e.e=null;for(var n of r)Sa(n)}return e.i=!0,X=e.p,{}}function Zt(){return!$t||X!==null&&X.l===null}function ia(t){return X===null&&yr(),X.c??=new Map(zi(X)||void 0)}function zi(t){let e=t.p;for(;e!==null;){const r=e.c;if(r!==null)return r;e=e.p}return null}let Et=[];function qi(){var t=Et;Et=[],Dr(t)}function Ge(t){if(Et.length===0){var e=Et;queueMicrotask(()=>{e===Et&&qi()})}Et.push(t)}function oa(t){var e=Y;if(e===null)return G.f|=tt,t;if((e.f&Gr)===0){if((e.f&Wr)===0)throw t;e.b.error(t)}else Pt(t,e)}function Pt(t,e){for(;e!==null;){if((e.f&Wr)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw t}const Vi=-7169;function ne(t,e){t.f=t.f&Vi|e}function Yr(t){(t.f&Oe)!==0||t.deps===null?ne(t,ie):ne(t,Pe)}function sa(t){if(t!==null)for(const e of t)(e.f&fe)===0||(e.f&pt)===0||(e.f^=pt,sa(e.deps))}function la(t,e,r){(t.f&ce)!==0?e.add(t):(t.f&Pe)!==0&&r.add(t),sa(t.deps),ne(t,ie)}const tr=new Set;let re=null,Ie=null,Re=[],Zr=null,xr=!1;class rt{committed=!1;current=new Map;previous=new Map;#e=new Set;#n=new Set;#t=0;#a=0;#s=null;#i=new Set;#r=new Set;#o=new Map;is_fork=!1;#l=!1;is_deferred(){return this.is_fork||this.#a>0}skip_effect(e){this.#o.has(e)||this.#o.set(e,{d:[],m:[]})}unskip_effect(e){var r=this.#o.get(e);if(r){this.#o.delete(e);for(var n of r.d)ne(n,ce),Me(n);for(n of r.m)ne(n,Pe),Me(n)}}process(e){Re=[],this.apply();var r=[],n=[];for(const a of e)this.#u(a,r,n);if(this.is_deferred()){this.#f(n),this.#f(r);for(const[a,i]of this.#o)ca(a,i)}else{for(const a of this.#e)a();this.#e.clear(),this.#t===0&&this.#c(),re=null,bn(n),bn(r),this.#s?.resolve()}Ie=null}#u(e,r,n){e.f^=ie;for(var a=e.first,i=null;a!==null;){var o=a.f,l=(o&(je|mt))!==0,s=l&&(o&ie)!==0,u=s||(o&Te)!==0||this.#o.has(a);if(!u&&a.fn!==null){l?a.f^=ie:i!==null&&(o&(or|Yt|Zn))!==0?i.b.defer_effect(a):(o&or)!==0?r.push(a):jt(a)&&((o&Ye)!==0&&this.#r.add(a),xt(a));var h=a.first;if(h!==null){a=h;continue}}var b=a.parent;for(a=a.next;a===null&&b!==null;)b===i&&(i=null),a=b.next,b=b.parent}}#f(e){for(var r=0;r<e.length;r+=1)la(e[r],this.#i,this.#r)}capture(e,r){r!==se&&!this.previous.has(e)&&this.previous.set(e,r),(e.f&tt)===0&&(this.current.set(e,e.v),Ie?.set(e,e.v))}activate(){re=this,this.apply()}deactivate(){re===this&&(re=null,Ie=null)}flush(){if(this.activate(),Re.length>0){if(Bi(),re!==null&&re!==this)return}else this.#t===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#n)e(this);this.#n.clear()}#c(){if(tr.size>1){this.previous.clear();var e=Ie,r=!0;for(const a of tr){if(a===this){r=!1;continue}const i=[];for(const[l,s]of this.current){if(a.current.has(l))if(r&&s!==a.current.get(l))a.current.set(l,s);else continue;i.push(l)}if(i.length===0)continue;const o=[...a.current.keys()].filter(l=>!this.current.has(l));if(o.length>0){var n=Re;Re=[];const l=new Set,s=new Map;for(const u of i)ua(u,o,l,s);if(Re.length>0){re=a,a.apply();for(const u of Re)a.#u(u,[],[]);a.deactivate()}Re=n}}re=null,Ie=e}this.committed=!0,tr.delete(this)}increment(e){this.#t+=1,e&&(this.#a+=1)}decrement(e){this.#t-=1,e&&(this.#a-=1),!this.#l&&(this.#l=!0,Ge(()=>{this.#l=!1,this.is_deferred()?Re.length>0&&this.flush():this.revive()}))}revive(){for(const e of this.#i)this.#r.delete(e),ne(e,ce),Me(e);for(const e of this.#r)ne(e,Pe),Me(e);this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#n.add(e)}settled(){return(this.#s??=Yn()).promise}static ensure(){if(re===null){const e=re=new rt;tr.add(re),Ge(()=>{re===e&&e.flush()})}return re}apply(){}}function Bi(){xr=!0;var t=null;try{for(var e=0;Re.length>0;){var r=rt.ensure();if(e++>1e3){var n,a;Hi()}r.process(Re),nt.clear()}}finally{xr=!1,Zr=null}}function Hi(){try{_i()}catch(t){Pt(t,Zr)}}let Ve=null;function bn(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var n=t[r++];if((n.f&(We|Te))===0&&jt(n)&&(Ve=new Set,xt(n),n.deps===null&&n.first===null&&n.nodes===null&&(n.teardown===null&&n.ac===null?Ca(n):n.fn=null),Ve?.size>0)){nt.clear();for(const a of Ve){if((a.f&(We|Te))!==0)continue;const i=[a];let o=a.parent;for(;o!==null;)Ve.has(o)&&(Ve.delete(o),i.push(o)),o=o.parent;for(let l=i.length-1;l>=0;l--){const s=i[l];(s.f&(We|Te))===0&&xt(s)}}Ve.clear()}}Ve=null}}function ua(t,e,r,n){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const a of t.reactions){const i=a.f;(i&fe)!==0?ua(a,e,r,n):(i&(Jr|Ye))!==0&&(i&ce)===0&&fa(a,e,n)&&(ne(a,ce),Me(a))}}function fa(t,e,r){const n=r.get(t);if(n!==void 0)return n;if(t.deps!==null)for(const a of t.deps){if(Ot.call(e,a))return!0;if((a.f&fe)!==0&&fa(a,e,r))return r.set(a,!0),!0}return r.set(t,!1),!1}function Me(t){for(var e=Zr=t;e.parent!==null;){e=e.parent;var r=e.f;if(xr&&e===Y&&(r&Ye)!==0&&(r&Qn)===0)return;if((r&(mt|je))!==0){if((r&ie)===0)return;e.f^=ie}}Re.push(e)}function ca(t,e){if(!((t.f&je)!==0&&(t.f&ie)!==0)){(t.f&ce)!==0?e.d.push(t):(t.f&Pe)!==0&&e.m.push(t),ne(t,ie);for(var r=t.first;r!==null;)ca(r,e),r=r.next}}function Wi(t){let e=0,r=gt(0),n;return()=>{en()&&(v(r),_r(()=>(e===0&&(n=Z(()=>t(()=>Ht(r)))),e+=1,()=>{Ge(()=>{e-=1,e===0&&(n?.(),n=void 0,Ht(r))})})))}}var Gi=ht|Lt|Wr;function Ji(t,e,r){new Yi(t,e,r)}class Yi{parent;is_pending=!1;#e;#n=null;#t;#a;#s;#i=null;#r=null;#o=null;#l=null;#u=null;#f=0;#c=0;#h=!1;#v=!1;#p=new Set;#g=new Set;#d=null;#w=Wi(()=>(this.#d=gt(this.#f),()=>{this.#d=null}));constructor(e,r,n){this.#e=e,this.#t=r,this.#a=n,this.parent=Y.b,this.is_pending=!!this.#t.pending,this.#s=wr(()=>{Y.b=this;{var a=this.#y();try{this.#i=Ce(()=>n(a))}catch(i){this.error(i)}this.#c>0?this.#m():this.is_pending=!1}return()=>{this.#u?.remove()}},Gi)}#S(){try{this.#i=Ce(()=>this.#a(this.#e))}catch(e){this.error(e)}}#T(){const e=this.#t.pending;e&&(this.#r=Ce(()=>e(this.#e)),Ge(()=>{var r=this.#y();this.#i=this.#b(()=>(rt.ensure(),Ce(()=>this.#a(r)))),this.#c>0?this.#m():(dt(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#y(){var e=this.#e;return this.is_pending&&(this.#u=Je(),this.#e.before(this.#u),e=this.#u),e}defer_effect(e){la(e,this.#p,this.#g)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#t.pending}#b(e){var r=Y,n=G,a=X;Ke(this.#s),De(this.#s),Nt(this.#s.ctx);try{return e()}catch(i){return oa(i),null}finally{Ke(r),De(n),Nt(a)}}#m(){const e=this.#t.pending;this.#i!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),Na(this.#i,this.#l)),this.#r===null&&(this.#r=Ce(()=>e(this.#e)))}#_(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#_(e);return}if(this.#c+=e,this.#c===0){this.is_pending=!1;for(const r of this.#p)ne(r,ce),Me(r);for(const r of this.#g)ne(r,Pe),Me(r);this.#p.clear(),this.#g.clear(),this.#r&&dt(this.#r,()=>{this.#r=null}),this.#l&&(this.#e.before(this.#l),this.#l=null)}}update_pending_count(e){this.#_(e),this.#f+=e,!(!this.#d||this.#h)&&(this.#h=!0,Ge(()=>{this.#h=!1,this.#d&&Dt(this.#d,this.#f)}))}get_effect_pending(){return this.#w(),v(this.#d)}error(e){var r=this.#t.onerror;let n=this.#t.failed;if(this.#v||!r&&!n)throw e;this.#i&&(ye(this.#i),this.#i=null),this.#r&&(ye(this.#r),this.#r=null),this.#o&&(ye(this.#o),this.#o=null);var a=!1,i=!1;const o=()=>{if(a){$i();return}a=!0,i&&ki(),rt.ensure(),this.#f=0,this.#o!==null&&dt(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#i=this.#b(()=>(this.#v=!1,Ce(()=>this.#a(this.#e)))),this.#c>0?this.#m():this.is_pending=!1};Ge(()=>{try{i=!0,r?.(e,o),i=!1}catch(l){Pt(l,this.#s&&this.#s.parent)}n&&(this.#o=this.#b(()=>{rt.ensure(),this.#v=!0;try{return Ce(()=>{n(this.#e,()=>e,()=>o)})}catch(l){return Pt(l,this.#s.parent),null}finally{this.#v=!1}}))})}}function Zi(t,e,r,n){const a=Zt()?Qt:$e;var i=t.filter(c=>!c.settled);if(r.length===0&&i.length===0){n(e.map(a));return}var o=re,l=Y,s=Qi(),u=i.length===1?i[0].promise:i.length>1?Promise.all(i.map(c=>c.promise)):null;function h(c){s();try{n(c)}catch(m){(l.f&We)===0&&Pt(m,l)}o?.deactivate(),Rr()}if(r.length===0){u.then(()=>h(e.map(a)));return}function b(){s(),Promise.all(r.map(c=>Xi(c))).then(c=>h([...e.map(a),...c])).catch(c=>Pt(c,l))}u?u.then(b):b()}function Qi(){var t=Y,e=G,r=X,n=re;return function(i=!0){Ke(t),De(e),Nt(r),i&&n?.activate()}}function Rr(){Ke(null),De(null),Nt(null)}function Qt(t){var e=fe|ce,r=G!==null&&(G.f&fe)!==0?G:null;return Y!==null&&(Y.f|=Lt),{ctx:X,deps:null,effects:null,equals:ta,f:e,fn:t,reactions:null,rv:0,v:se,wv:0,parent:r??Y,ac:null}}function Xi(t,e,r){let n=Y;n===null&&gi();var a=n.b,i=void 0,o=gt(se),l=!G,s=new Map;return so(()=>{var u=Yn();i=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{h===re&&h.committed&&h.deactivate(),Rr()})}catch(m){u.reject(m),Rr()}var h=re;if(l){var b=a.is_rendered();a.update_pending_count(1),h.increment(b),s.get(h)?.reject(Tt),s.delete(h),s.set(h,u)}const c=(m,A=void 0)=>{if(h.activate(),A)A!==Tt&&(o.f|=tt,Dt(o,A));else{(o.f&tt)!==0&&(o.f^=tt),Dt(o,m);for(const[F,p]of s){if(s.delete(F),F===h)break;p.reject(Tt)}}l&&(a.update_pending_count(-1),h.decrement(b))};u.promise.then(c,m=>c(null,m||"unknown"))}),tn(()=>{for(const u of s.values())u.reject(Tt)}),new Promise(u=>{function h(b){function c(){b===i?u(o):h(i)}b.then(c,c)}h(i)})}function Ue(t){const e=Qt(t);return Pa(e),e}function $e(t){const e=Qt(t);return e.equals=na,e}function da(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)ye(e[r])}}function eo(t){for(var e=t.parent;e!==null;){if((e.f&fe)===0)return(e.f&We)===0?e:null;e=e.parent}return null}function Qr(t){var e,r=Y;Ke(eo(t));try{t.f&=~pt,da(t),e=Ra(t)}finally{Ke(r)}return e}function va(t){var e=Qr(t);if(!t.equals(e)&&(t.wv=Fa(),(!re?.is_fork||t.deps===null)&&(t.v=e,t.deps===null))){ne(t,ie);return}at||(Ie!==null?(en()||re?.is_fork)&&Ie.set(t,e):Yr(t))}let Ir=new Set;const nt=new Map;let ha=!1;function gt(t,e){var r={f:0,v:t,reactions:null,equals:ta,rv:0,wv:0};return r}function Qe(t,e){const r=gt(t);return Pa(r),r}function L(t,e=!1,r=!0){const n=gt(t);return e||(n.equals=na),$t&&r&&X!==null&&X.l!==null&&(X.l.s??=[]).push(n),n}function R(t,e,r=!1){G!==null&&(!Le||(G.f&gn)!==0)&&Zt()&&(G.f&(fe|Ye|Jr|gn))!==0&&(Ne===null||!Ot.call(Ne,t))&&Ei();let n=r?kt(e):e;return Dt(t,n)}function Dt(t,e){if(!t.equals(e)){var r=t.v;at?nt.set(t,e):nt.set(t,r),t.v=e;var n=rt.ensure();if(n.capture(t,r),(t.f&fe)!==0){const a=t;(t.f&ce)!==0&&Qr(a),Yr(a)}t.wv=Fa(),pa(t,ce),Zt()&&Y!==null&&(Y.f&ie)!==0&&(Y.f&(je|mt))===0&&(ke===null?fo([t]):ke.push(t)),!n.is_fork&&Ir.size>0&&!ha&&to()}return e}function to(){ha=!1;for(const t of Ir)(t.f&ie)!==0&&ne(t,Pe),jt(t)&&xt(t);Ir.clear()}function Ht(t){R(t,t.v+1)}function pa(t,e){var r=t.reactions;if(r!==null)for(var n=Zt(),a=r.length,i=0;i<a;i++){var o=r[i],l=o.f;if(!(!n&&o===Y)){var s=(l&ce)===0;if(s&&ne(o,e),(l&fe)!==0){var u=o;Ie?.delete(u),(l&pt)===0&&(l&Oe&&(o.f|=pt),pa(u,Pe))}else s&&((l&Ye)!==0&&Ve!==null&&Ve.add(o),Me(o))}}}function kt(t){if(typeof t!="object"||t===null||ct in t)return t;const e=Br(t);if(e!==ci&&e!==di)return t;var r=new Map,n=br(t),a=Qe(0),i=vt,o=l=>{if(vt===i)return l();var s=G,u=vt;De(null),yn(i);var h=l();return De(s),yn(u),h};return n&&r.set("length",Qe(t.length)),new Proxy(t,{defineProperty(l,s,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Si();var h=r.get(s);return h===void 0?h=o(()=>{var b=Qe(u.value);return r.set(s,b),b}):R(h,u.value,!0),!0},deleteProperty(l,s){var u=r.get(s);if(u===void 0){if(s in l){const h=o(()=>Qe(se));r.set(s,h),Ht(a)}}else R(u,se),Ht(a);return!0},get(l,s,u){if(s===ct)return t;var h=r.get(s),b=s in l;if(h===void 0&&(!b||Ct(l,s)?.writable)&&(h=o(()=>{var m=kt(b?l[s]:se),A=Qe(m);return A}),r.set(s,h)),h!==void 0){var c=v(h);return c===se?void 0:c}return Reflect.get(l,s,u)},getOwnPropertyDescriptor(l,s){var u=Reflect.getOwnPropertyDescriptor(l,s);if(u&&"value"in u){var h=r.get(s);h&&(u.value=v(h))}else if(u===void 0){var b=r.get(s),c=b?.v;if(b!==void 0&&c!==se)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return u},has(l,s){if(s===ct)return!0;var u=r.get(s),h=u!==void 0&&u.v!==se||Reflect.has(l,s);if(u!==void 0||Y!==null&&(!h||Ct(l,s)?.writable)){u===void 0&&(u=o(()=>{var c=h?kt(l[s]):se,m=Qe(c);return m}),r.set(s,u));var b=v(u);if(b===se)return!1}return h},set(l,s,u,h){var b=r.get(s),c=s in l;if(n&&s==="length")for(var m=u;m<b.v;m+=1){var A=r.get(m+"");A!==void 0?R(A,se):m in l&&(A=o(()=>Qe(se)),r.set(m+"",A))}if(b===void 0)(!c||Ct(l,s)?.writable)&&(b=o(()=>Qe(void 0)),R(b,kt(u)),r.set(s,b));else{c=b.v!==se;var F=o(()=>kt(u));R(b,F)}var p=Reflect.getOwnPropertyDescriptor(l,s);if(p?.set&&p.set.call(h,u),!c){if(n&&typeof s=="string"){var _=r.get("length"),d=Number(s);Number.isInteger(d)&&d>=_.v&&R(_,d+1)}Ht(a)}return!0},ownKeys(l){v(a);var s=Reflect.ownKeys(l).filter(b=>{var c=r.get(b);return c===void 0||c.v!==se});for(var[u,h]of r)h.v!==se&&!(u in l)&&s.push(u);return s},setPrototypeOf(){Ti()}})}var Mr,ga,ba,ma,ya;function ro(){if(Mr===void 0){Mr=window,ga=document,ba=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;ma=Ct(e,"firstChild").get,ya=Ct(e,"nextSibling").get,pn(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),pn(r)&&(r.__t=void 0)}}function Je(t=""){return document.createTextNode(t)}function Ft(t){return ma.call(t)}function Xt(t){return ya.call(t)}function M(t,e){return Ft(t)}function Ee(t,e=!1){{var r=Ft(t);return r instanceof Comment&&r.data===""?Xt(r):r}}function K(t,e=1,r=!1){let n=t;for(;e--;)n=Xt(n);return n}function no(t){t.textContent=""}function _a(){return!1}function Xr(t){var e=G,r=Y;De(null),Ke(null);try{return t()}finally{De(e),Ke(r)}}function wa(t){Y===null&&(G===null&&yi(),mi()),at&&bi()}function ao(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function ze(t,e,r){var n=Y;n!==null&&(n.f&Te)!==0&&(t|=Te);var a={ctx:X,deps:null,nodes:null,f:t|ce|Oe,first:null,fn:e,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{xt(a),a.f|=Gr}catch(l){throw ye(a),l}else e!==null&&Me(a);var i=a;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Lt)===0&&(i=i.first,(t&Ye)!==0&&(t&ht)!==0&&i!==null&&(i.f|=ht)),i!==null&&(i.parent=n,n!==null&&ao(i,n),G!==null&&(G.f&fe)!==0&&(t&mt)===0)){var o=G;(o.effects??=[]).push(i)}return a}function en(){return G!==null&&!Le}function tn(t){const e=ze(Yt,null,!1);return ne(e,ie),e.teardown=t,e}function Lr(t){wa();var e=Y.f,r=!G&&(e&je)!==0&&(e&Gr)===0;if(r){var n=X;(n.e??=[]).push(t)}else return Sa(t)}function Sa(t){return ze(or|Xn,t,!1)}function io(t){return wa(),ze(Yt|Xn,t,!0)}function oo(t){rt.ensure();const e=ze(mt|Lt,t,!0);return(r={})=>new Promise(n=>{r.outro?dt(e,()=>{ye(e),n(void 0)}):(ye(e),n(void 0))})}function Ta(t){return ze(or,t,!1)}function W(t,e){var r=X,n={effect:null,ran:!1,deps:t};r.l.$.push(n),n.effect=_r(()=>{t(),!n.ran&&(n.ran=!0,Z(e))})}function Ze(){var t=X;_r(()=>{for(var e of t.l.$){e.deps();var r=e.effect;(r.f&ie)!==0&&r.deps!==null&&ne(r,Pe),jt(r)&&xt(r),e.ran=!1}})}function so(t){return ze(Jr|Lt,t,!0)}function _r(t,e=0){return ze(Yt|e,t,!0)}function ae(t,e=[],r=[],n=[]){Zi(n,e,r,a=>{ze(Yt,()=>t(...a.map(v)),!0)})}function wr(t,e=0){var r=ze(Ye|e,t,!0);return r}function Ce(t){return ze(je|Lt,t,!0)}function Ea(t){var e=t.teardown;if(e!==null){const r=at,n=G;mn(!0),De(null);try{e.call(null)}finally{mn(r),De(n)}}}function ka(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const a=r.ac;a!==null&&Xr(()=>{a.abort(Tt)});var n=r.next;(r.f&mt)!==0?r.parent=null:ye(r,e),r=n}}function lo(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&je)===0&&ye(e),e=r}}function ye(t,e=!0){var r=!1;(e||(t.f&Qn)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(uo(t.nodes.start,t.nodes.end),r=!0),ka(t,e&&!r),sr(t,0),ne(t,We);var n=t.nodes&&t.nodes.t;if(n!==null)for(const i of n)i.stop();Ea(t);var a=t.parent;a!==null&&a.first!==null&&Ca(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function uo(t,e){for(;t!==null;){var r=t===e?null:Xt(t);t.remove(),t=r}}function Ca(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function dt(t,e,r=!0){var n=[];Aa(t,n,!0);var a=()=>{r&&ye(t),e&&e()},i=n.length;if(i>0){var o=()=>--i||a();for(var l of n)l.out(o)}else a()}function Aa(t,e,r){if((t.f&Te)===0){t.f^=Te;var n=t.nodes&&t.nodes.t;if(n!==null)for(const l of n)(l.is_global||r)&&e.push(l);for(var a=t.first;a!==null;){var i=a.next,o=(a.f&ht)!==0||(a.f&je)!==0&&(t.f&Ye)!==0;Aa(a,e,o?r:!1),a=i}}}function rn(t){Oa(t,!0)}function Oa(t,e){if((t.f&Te)!==0){t.f^=Te,(t.f&ie)===0&&(ne(t,ce),Me(t));for(var r=t.first;r!==null;){var n=r.next,a=(r.f&ht)!==0||(r.f&je)!==0;Oa(r,a?e:!1),r=n}var i=t.nodes&&t.nodes.t;if(i!==null)for(const o of i)(o.is_global||e)&&o.in()}}function Na(t,e){if(t.nodes)for(var r=t.nodes.start,n=t.nodes.end;r!==null;){var a=r===n?null:Xt(r);e.append(r),r=a}}let ir=!1,at=!1;function mn(t){at=t}let G=null,Le=!1;function De(t){G=t}let Y=null;function Ke(t){Y=t}let Ne=null;function Pa(t){G!==null&&(Ne===null?Ne=[t]:Ne.push(t))}let ge=null,Se=0,ke=null;function fo(t){ke=t}let Da=1,ft=0,vt=ft;function yn(t){vt=t}function Fa(){return++Da}function jt(t){var e=t.f;if((e&ce)!==0)return!0;if(e&fe&&(t.f&=~pt),(e&Pe)!==0){for(var r=t.deps,n=r.length,a=0;a<n;a++){var i=r[a];if(jt(i)&&va(i),i.wv>t.wv)return!0}(e&Oe)!==0&&Ie===null&&ne(t,ie)}return!1}function xa(t,e,r=!0){var n=t.reactions;if(n!==null&&!(Ne!==null&&Ot.call(Ne,t)))for(var a=0;a<n.length;a++){var i=n[a];(i.f&fe)!==0?xa(i,e,!1):e===i&&(r?ne(i,ce):(i.f&ie)!==0&&ne(i,Pe),Me(i))}}function Ra(t){var e=ge,r=Se,n=ke,a=G,i=Ne,o=X,l=Le,s=vt,u=t.f;ge=null,Se=0,ke=null,G=(u&(je|mt))===0?t:null,Ne=null,Nt(t.ctx),Le=!1,vt=++ft,t.ac!==null&&(Xr(()=>{t.ac.abort(Tt)}),t.ac=null);try{t.f|=Fr;var h=t.fn,b=h(),c=t.deps,m=re?.is_fork;if(ge!==null){var A;if(m||sr(t,Se),c!==null&&Se>0)for(c.length=Se+ge.length,A=0;A<ge.length;A++)c[Se+A]=ge[A];else t.deps=c=ge;if(en()&&(t.f&Oe)!==0)for(A=Se;A<c.length;A++)(c[A].reactions??=[]).push(t)}else!m&&c!==null&&Se<c.length&&(sr(t,Se),c.length=Se);if(Zt()&&ke!==null&&!Le&&c!==null&&(t.f&(fe|Pe|ce))===0)for(A=0;A<ke.length;A++)xa(ke[A],t);if(a!==null&&a!==t){if(ft++,a.deps!==null)for(let F=0;F<r;F+=1)a.deps[F].rv=ft;if(e!==null)for(const F of e)F.rv=ft;ke!==null&&(n===null?n=ke:n.push(...ke))}return(t.f&tt)!==0&&(t.f^=tt),b}catch(F){return oa(F)}finally{t.f^=Fr,ge=e,Se=r,ke=n,G=a,Ne=i,Nt(o),Le=l,vt=s}}function co(t,e){let r=e.reactions;if(r!==null){var n=fi.call(r,t);if(n!==-1){var a=r.length-1;a===0?r=e.reactions=null:(r[n]=r[a],r.pop())}}if(r===null&&(e.f&fe)!==0&&(ge===null||!Ot.call(ge,e))){var i=e;(i.f&Oe)!==0&&(i.f^=Oe,i.f&=~pt),Yr(i),da(i),sr(i,0)}}function sr(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)co(t,r[n])}function xt(t){var e=t.f;if((e&We)===0){ne(t,ie);var r=Y,n=ir;Y=t,ir=!0;try{(e&(Ye|Zn))!==0?lo(t):ka(t),Ea(t);var a=Ra(t);t.teardown=typeof a=="function"?a:null,t.wv=Da;var i;Pr&&ji&&(t.f&ce)!==0&&t.deps}finally{ir=n,Y=r}}}function v(t){var e=t.f,r=(e&fe)!==0;if(G!==null&&!Le){var n=Y!==null&&(Y.f&We)!==0;if(!n&&(Ne===null||!Ot.call(Ne,t))){var a=G.deps;if((G.f&Fr)!==0)t.rv<ft&&(t.rv=ft,ge===null&&a!==null&&a[Se]===t?Se++:ge===null?ge=[t]:ge.push(t));else{(G.deps??=[]).push(t);var i=t.reactions;i===null?t.reactions=[G]:Ot.call(i,G)||i.push(G)}}}if(at&&nt.has(t))return nt.get(t);if(r){var o=t;if(at){var l=o.v;return((o.f&ie)===0&&o.reactions!==null||Ma(o))&&(l=Qr(o)),nt.set(o,l),l}var s=(o.f&Oe)===0&&!Le&&G!==null&&(ir||(G.f&Oe)!==0),u=o.deps===null;jt(o)&&(s&&(o.f|=Oe),va(o)),s&&!u&&Ia(o)}if(Ie?.has(t))return Ie.get(t);if((t.f&tt)!==0)throw t.v;return t.v}function Ia(t){if(t.deps!==null){t.f|=Oe;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&fe)!==0&&(e.f&Oe)===0&&Ia(e)}}function Ma(t){if(t.v===se)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(nt.has(e)||(e.f&fe)!==0&&Ma(e))return!0;return!1}function Z(t){var e=Le;try{return Le=!0,t()}finally{Le=e}}function $(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(ct in t)$r(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&ct in r&&$r(r)}}}function $r(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{$r(t[n],e)}catch{}const r=Br(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Jn(r);for(let a in n){const i=n[a].get;if(i)try{i.call(t)}catch{}}}}}const vo=["touchstart","touchmove"];function ho(t){return vo.includes(t)}const po=new Set,_n=new Set;function go(t,e,r,n={}){function a(i){if(n.capture||Vt.call(e,i),!i.cancelBubble)return Xr(()=>r?.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Ge(()=>{e.addEventListener(t,a,n)}):e.addEventListener(t,a,n),a}function be(t,e,r,n,a){var i={capture:n,passive:a},o=go(t,e,r,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&tn(()=>{e.removeEventListener(t,o,i)})}let wn=null;function Vt(t){var e=this,r=e.ownerDocument,n=t.type,a=t.composedPath?.()||[],i=a[0]||t.target;wn=t;var o=0,l=wn===t&&t.__root;if(l){var s=a.indexOf(l);if(s!==-1&&(e===document||e===window)){t.__root=e;return}var u=a.indexOf(e);if(u===-1)return;s<=u&&(o=s)}if(i=a[o]||t.target,i!==e){Gn(t,"currentTarget",{configurable:!0,get(){return i||r}});var h=G,b=Y;De(null),Ke(null);try{for(var c,m=[];i!==null;){var A=i.assignedSlot||i.parentNode||i.host||null;try{var F=i["__"+n];F!=null&&(!i.disabled||t.target===i)&&F.call(i,t)}catch(p){c?m.push(p):c=p}if(t.cancelBubble||A===e||A===null)break;i=A}if(c){for(let p of m)queueMicrotask(()=>{throw p});throw c}}finally{t.__root=e,delete t.currentTarget,De(h),Ke(b)}}}function La(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Gt(t,e){var r=Y;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function Q(t,e){var r=(e&Ii)!==0,n=(e&Mi)!==0,a,i=!t.startsWith("<!>");return()=>{a===void 0&&(a=La(i?t:"<!>"+t),r||(a=Ft(a)));var o=n||ba?document.importNode(a,!0):a.cloneNode(!0);if(r){var l=Ft(o),s=o.lastChild;Gt(l,s)}else Gt(o,o);return o}}function bo(t,e,r="svg"){var n=!t.startsWith("<!>"),a=`<${r}>${n?t:"<!>"+t}</${r}>`,i;return()=>{if(!i){var o=La(a),l=Ft(o);i=Ft(l)}var s=i.cloneNode(!0);return Gt(s,s),s}}function $a(t,e){return bo(t,e,"svg")}function lr(t=""){{var e=Je(t+"");return Gt(e,e),e}}function Sr(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Je();return t.append(e,r),Gt(e,r),t}function V(t,e){t!==null&&t.before(e)}function Ae(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function mo(t,e){return yo(t,e)}const _t=new Map;function yo(t,{target:e,anchor:r,props:n={},events:a,context:i,intro:o=!0}){ro();var l=new Set,s=b=>{for(var c=0;c<b.length;c++){var m=b[c];if(!l.has(m)){l.add(m);var A=ho(m);e.addEventListener(m,Vt,{passive:A});var F=_t.get(m);F===void 0?(document.addEventListener(m,Vt,{passive:A}),_t.set(m,1)):_t.set(m,F+1)}}};s(mr(po)),_n.add(s);var u=void 0,h=oo(()=>{var b=r??e.appendChild(Je());return Ji(b,{pending:()=>{}},c=>{if(i){de({});var m=X;m.c=i}a&&(n.$$events=a),u=t(c,n)||{},i&&ve()}),()=>{for(var c of l){e.removeEventListener(c,Vt);var m=_t.get(c);--m===0?(document.removeEventListener(c,Vt),_t.delete(c)):_t.set(c,m)}_n.delete(s),b!==r&&b.parentNode?.removeChild(b)}});return _o.set(u,h),u}let _o=new WeakMap;class ja{anchor;#e=new Map;#n=new Map;#t=new Map;#a=new Set;#s=!0;constructor(e,r=!0){this.anchor=e,this.#s=r}#i=()=>{var e=re;if(this.#e.has(e)){var r=this.#e.get(e),n=this.#n.get(r);if(n)rn(n),this.#a.delete(r);else{var a=this.#t.get(r);a&&(this.#n.set(r,a.effect),this.#t.delete(r),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),n=a.effect)}for(const[i,o]of this.#e){if(this.#e.delete(i),i===e)break;const l=this.#t.get(o);l&&(ye(l.effect),this.#t.delete(o))}for(const[i,o]of this.#n){if(i===r||this.#a.has(i))continue;const l=()=>{if(Array.from(this.#e.values()).includes(i)){var u=document.createDocumentFragment();Na(o,u),u.append(Je()),this.#t.set(i,{effect:o,fragment:u})}else ye(o);this.#a.delete(i),this.#n.delete(i)};this.#s||!n?(this.#a.add(i),dt(o,l,!1)):l()}}};#r=e=>{this.#e.delete(e);const r=Array.from(this.#e.values());for(const[n,a]of this.#t)r.includes(n)||(ye(a.effect),this.#t.delete(n))};ensure(e,r){var n=re,a=_a();if(r&&!this.#n.has(e)&&!this.#t.has(e))if(a){var i=document.createDocumentFragment(),o=Je();i.append(o),this.#t.set(e,{effect:Ce(()=>r(o)),fragment:i})}else this.#n.set(e,Ce(()=>r(this.anchor)));if(this.#e.set(n,e),a){for(const[l,s]of this.#n)l===e?n.unskip_effect(s):n.skip_effect(s);for(const[l,s]of this.#t)l===e?n.unskip_effect(s.effect):n.skip_effect(s.effect);n.oncommit(this.#i),n.ondiscard(this.#r)}else this.#i()}}function ue(t,e,r=!1){var n=new ja(t),a=r?ht:0;function i(o,l){n.ensure(o,l)}wr(()=>{var o=!1;e((l,s=!0)=>{o=!0,i(s,l)}),o||i(!1,null)},a)}function Jt(t,e){return e}function wo(t,e,r){for(var n=[],a=e.length,i,o=e.length,l=0;l<a;l++){let b=e[l];dt(b,()=>{if(i){if(i.pending.delete(b),i.done.add(b),i.pending.size===0){var c=t.outrogroups;jr(mr(i.done)),c.delete(i),c.size===0&&(t.outrogroups=null)}}else o-=1},!1)}if(o===0){var s=n.length===0&&r!==null;if(s){var u=r,h=u.parentNode;no(h),h.append(u),t.items.clear()}jr(e,!s)}else i={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(i)}function jr(t,e=!0){for(var r=0;r<t.length;r++)ye(t[r],e)}var Sn;function Rt(t,e,r,n,a,i=null){var o=t,l=new Map,s=(e&ea)!==0;if(s){var u=t;o=u.appendChild(Je())}var h=null,b=$e(()=>{var _=r();return br(_)?_:_==null?[]:mr(_)}),c,m=!0;function A(){p.fallback=h,So(p,c,o,e,n),h!==null&&(c.length===0?(h.f&He)===0?rn(h):(h.f^=He,Bt(h,null,o)):dt(h,()=>{h=null}))}var F=wr(()=>{c=v(b);for(var _=c.length,d=new Set,y=re,S=_a(),O=0;O<_;O+=1){var w=c[O],N=n(w,O),D=m?null:l.get(N);D?(D.v&&Dt(D.v,w),D.i&&Dt(D.i,O),S&&y.unskip_effect(D.e)):(D=To(l,m?o:Sn??=Je(),w,N,O,a,e,r),m||(D.e.f|=He),l.set(N,D)),d.add(N)}if(_===0&&i&&!h&&(m?h=Ce(()=>i(o)):(h=Ce(()=>i(Sn??=Je())),h.f|=He)),!m)if(S){for(const[j,z]of l)d.has(j)||y.skip_effect(z.e);y.oncommit(A),y.ondiscard(()=>{})}else A();v(b)}),p={effect:F,items:l,outrogroups:null,fallback:h};m=!1}function Ut(t){for(;t!==null&&(t.f&je)===0;)t=t.next;return t}function So(t,e,r,n,a){var i=(n&Oi)!==0,o=e.length,l=t.items,s=Ut(t.effect.first),u,h=null,b,c=[],m=[],A,F,p,_;if(i)for(_=0;_<o;_+=1)A=e[_],F=a(A,_),p=l.get(F).e,(p.f&He)===0&&(p.nodes?.a?.measure(),(b??=new Set).add(p));for(_=0;_<o;_+=1){if(A=e[_],F=a(A,_),p=l.get(F).e,t.outrogroups!==null)for(const z of t.outrogroups)z.pending.delete(p),z.done.delete(p);if((p.f&He)!==0)if(p.f^=He,p===s)Bt(p,null,r);else{var d=h?h.next:s;p===t.effect.last&&(t.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),Xe(t,h,p),Xe(t,p,d),Bt(p,d,r),h=p,c=[],m=[],s=Ut(h.next);continue}if((p.f&Te)!==0&&(rn(p),i&&(p.nodes?.a?.unfix(),(b??=new Set).delete(p))),p!==s){if(u!==void 0&&u.has(p)){if(c.length<m.length){var y=m[0],S;h=y.prev;var O=c[0],w=c[c.length-1];for(S=0;S<c.length;S+=1)Bt(c[S],y,r);for(S=0;S<m.length;S+=1)u.delete(m[S]);Xe(t,O.prev,w.next),Xe(t,h,O),Xe(t,w,y),s=y,h=w,_-=1,c=[],m=[]}else u.delete(p),Bt(p,s,r),Xe(t,p.prev,p.next),Xe(t,p,h===null?t.effect.first:h.next),Xe(t,h,p),h=p;continue}for(c=[],m=[];s!==null&&s!==p;)(u??=new Set).add(s),m.push(s),s=Ut(s.next);if(s===null)continue}(p.f&He)===0&&c.push(p),h=p,s=Ut(p.next)}if(t.outrogroups!==null){for(const z of t.outrogroups)z.pending.size===0&&(jr(mr(z.done)),t.outrogroups?.delete(z));t.outrogroups.size===0&&(t.outrogroups=null)}if(s!==null||u!==void 0){var N=[];if(u!==void 0)for(p of u)(p.f&Te)===0&&N.push(p);for(;s!==null;)(s.f&Te)===0&&s!==t.fallback&&N.push(s),s=Ut(s.next);var D=N.length;if(D>0){var j=(n&ea)!==0&&o===0?r:null;if(i){for(_=0;_<D;_+=1)N[_].nodes?.a?.measure();for(_=0;_<D;_+=1)N[_].nodes?.a?.fix()}wo(t,N,j)}}i&&Ge(()=>{if(b!==void 0)for(p of b)p.nodes?.a?.apply()})}function To(t,e,r,n,a,i,o,l){var s=(o&Ci)!==0?(o&Ni)===0?L(r,!1,!1):gt(r):null,u=(o&Ai)!==0?gt(a):null;return{v:s,i:u,e:Ce(()=>(i(e,s??r,u??a,l),()=>{t.delete(n)}))}}function Bt(t,e,r){if(t.nodes)for(var n=t.nodes.start,a=t.nodes.end,i=e&&(e.f&He)===0?e.nodes.start:r;n!==null;){var o=Xt(n);if(i.before(n),n===a)return;n=o}}function Xe(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function Tr(t,e,r,n,a){var i=e.$$slots?.[r],o=!1;i===!0&&(i=e.children,o=!0),i===void 0?a!==null&&a(t):i(t,o?()=>n:n)}function Eo(t,e,r){var n=new ja(t);wr(()=>{var a=e()??null;n.ensure(a,a&&(i=>r(i,a)))},ht)}const Tn=[...` 	
\r\fÂ \v\uFEFF`];function ko(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var a in r)if(r[a])n=n?n+" "+a:a;else if(n.length)for(var i=a.length,o=0;(o=n.indexOf(a,o))>=0;){var l=o+i;(o===0||Tn.includes(n[o-1]))&&(l===n.length||Tn.includes(n[l]))?n=(o===0?"":n.substring(0,o))+n.substring(l+1):o=l}}return n===""?null:n}function En(t,e=!1){var r=e?" !important;":";",n="";for(var a in t){var i=t[a];i!=null&&i!==""&&(n+=" "+a+": "+i+r)}return n}function Cr(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Co(t,e){if(e){var r="",n,a;if(Array.isArray(e)?(n=e[0],a=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,o=0,l=!1,s=[];n&&s.push(...Object.keys(n).map(Cr)),a&&s.push(...Object.keys(a).map(Cr));var u=0,h=-1;const F=t.length;for(var b=0;b<F;b++){var c=t[b];if(l?c==="/"&&t[b-1]==="*"&&(l=!1):i?i===c&&(i=!1):c==="/"&&t[b+1]==="*"?l=!0:c==='"'||c==="'"?i=c:c==="("?o++:c===")"&&o--,!l&&i===!1&&o===0){if(c===":"&&h===-1)h=b;else if(c===";"||b===F-1){if(h!==-1){var m=Cr(t.substring(u,h).trim());if(!s.includes(m)){c!==";"&&b++;var A=t.substring(u,b).trim();r+=" "+A+";"}}u=b+1,h=-1}}}}return n&&(r+=En(n)),a&&(r+=En(a,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function he(t,e,r,n,a,i){var o=t.__className;if(o!==r||o===void 0){var l=ko(r,n,i);l==null?t.removeAttribute("class"):e?t.className=l:t.setAttribute("class",l),t.__className=r}else if(i&&a!==i)for(var s in i){var u=!!i[s];(a==null||u!==!!a[s])&&t.classList.toggle(s,u)}return i}function Ar(t,e={},r,n){for(var a in r){var i=r[a];e[a]!==i&&(r[a]==null?t.style.removeProperty(a):t.style.setProperty(a,i,n))}}function ur(t,e,r,n){var a=t.__style;if(a!==e){var i=Co(e,n);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else n&&(Array.isArray(n)?(Ar(t,r?.[0],n[0]),Ar(t,r?.[1],n[1],"important")):Ar(t,r,n));return n}const Ao=Symbol("is custom element"),Oo=Symbol("is html");function me(t,e,r,n){var a=No(t);a[e]!==(a[e]=r)&&(e==="loading"&&(t[pi]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Po(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function No(t){return t.__attributes??={[Ao]:t.nodeName.includes("-"),[Oo]:t.namespaceURI===Li}}var kn=new Map;function Po(t){var e=t.getAttribute("is")||t.nodeName,r=kn.get(e);if(r)return r;kn.set(e,r=[]);for(var n,a=t,i=Element.prototype;i!==a;){n=Jn(a);for(var o in n)n[o].set&&r.push(o);a=Br(a)}return r}class nn{#e=new WeakMap;#n;#t;static entries=new WeakMap;constructor(e){this.#t=e}observe(e,r){var n=this.#e.get(e)||new Set;return n.add(r),this.#e.set(e,n),this.#a().observe(e,this.#t),()=>{var a=this.#e.get(e);a.delete(r),a.size===0&&(this.#e.delete(e),this.#n.unobserve(e))}}#a(){return this.#n??(this.#n=new ResizeObserver(e=>{for(var r of e){nn.entries.set(r.target,r);for(var n of this.#e.get(r.target)||[])n(r)}}))}}var Do=new nn({box:"border-box"});function Cn(t,e,r){var n=Do.observe(t,()=>r(t[e]));Ta(()=>(Z(()=>r(t[e])),n))}function An(t,e){return t===e||t?.[ct]===e}function Fo(t={},e,r,n){return Ta(()=>{var a,i;return _r(()=>{a=i,i=[],Z(()=>{t!==r(...i)&&(e(t,...i),a&&An(r(...a),t)&&e(null,...a))})}),()=>{Ge(()=>{i&&An(r(...i),t)&&e(null,...i)})}}),t}function _e(t=!1){const e=X,r=e.l.u;if(!r)return;let n=()=>$(e.s);if(t){let a=0,i={};const o=Qt(()=>{let l=!1;const s=e.s;for(const u in s)s[u]!==i[u]&&(i[u]=s[u],l=!0);return l&&a++,a});n=()=>v(o)}r.b.length&&io(()=>{On(e,n),Dr(r.b)}),Lr(()=>{const a=Z(()=>r.m.map(vi));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&Lr(()=>{On(e,n),Dr(r.a)})}function On(t,e){if(t.l.s)for(const r of t.l.s)v(r);e()}function Ur(t,e){var r=t.$$events?.[e.type],n=br(r)?r.slice():r==null?[]:[r];for(var a of n)a.call(this,e)}function Ua(t,e,r){if(t==null)return e(void 0),At;const n=Z(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}const wt=[];function an(t,e=At){let r=null;const n=new Set;function a(l){if(ra(t,l)&&(t=l,r)){const s=!wt.length;for(const u of n)u[1](),wt.push(u,t);if(s){for(let u=0;u<wt.length;u+=2)wt[u][0](wt[u+1]);wt.length=0}}}function i(l){a(l(t))}function o(l,s=At){const u=[l,s];return n.add(u),n.size===1&&(r=e(a,i)||At),l(t),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:a,update:i,subscribe:o}}function Ka(t){let e;return Ua(t,r=>e=r)(),e}let rr=!1,Kr=Symbol();function it(t,e,r){const n=r[e]??={store:null,source:L(void 0),unsubscribe:At};if(n.store!==t&&!(Kr in r))if(n.unsubscribe(),n.store=t??null,t==null)n.source.v=void 0,n.unsubscribe=At;else{var a=!0;n.unsubscribe=Ua(t,i=>{a?n.source.v=i:R(n.source,i)}),a=!1}return t&&Kr in r?Ka(t):v(n.source)}function yt(){const t={};function e(){tn(()=>{for(var r in t)t[r].unsubscribe();Gn(t,Kr,{enumerable:!1,value:!0})})}return[t,e]}function xo(t){var e=rr;try{return rr=!1,[t(),rr]}finally{rr=e}}function B(t,e,r,n){var a=!$t||(r&Di)!==0,i=(r&xi)!==0,o=(r&Ri)!==0,l=n,s=!0,u=()=>(s&&(s=!1,l=o?Z(n):n),l),h;if(i){var b=ct in t||hi in t;h=Ct(t,e)?.set??(b&&e in t?y=>t[e]=y:void 0)}var c,m=!1;i?[c,m]=xo(()=>t[e]):c=t[e],c===void 0&&n!==void 0&&(c=u(),h&&(a&&wi(),h(c)));var A;if(a?A=()=>{var y=t[e];return y===void 0?u():(s=!0,y)}:A=()=>{var y=t[e];return y!==void 0&&(l=void 0),y===void 0?l:y},a&&(r&Fi)===0)return A;if(h){var F=t.$$legacy;return(function(y,S){return arguments.length>0?((!a||!S||F||m)&&h(S?A():y),y):A()})}var p=!1,_=((r&Pi)!==0?Qt:$e)(()=>(p=!1,A()));i&&v(_);var d=Y;return(function(y,S){if(arguments.length>0){const O=S?v(_):a&&i?kt(y):y;return R(_,O),p=!0,l!==void 0&&(l=O),y}return at&&p||(d.f&We)!==0?_.v:v(_)})}function er(t){X===null&&yr(),$t&&X.l!==null?Io(X).m.push(t):Lr(()=>{const e=Z(t);if(typeof e=="function")return e})}function za(t){X===null&&yr(),er(()=>()=>Z(t))}function Ro(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}function on(){const t=X;return t===null&&yr(),(e,r,n)=>{const a=t.s.$$events?.[e];if(a){const i=br(a)?a.slice():[a],o=Ro(e,r,n);for(const l of i)l.call(t.x,o);return!o.defaultPrevented}return!0}}function Io(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const Mo="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Mo);Ui();var Lo=Q("<span> </span>"),$o=Q('<footer class="svelte-1sr6y3t"><a href="https://github.com/kangasta/pileon.git" target="_blank">kangasta / pileon</a> <!></footer>');function jo(t,e){de(e,!1);const r="",n="df1fb63339f5e5fb6e8d46aed9002966e6b634ef".slice(0,8);_e();var a=$o(),i=K(M(a),2);{var o=l=>{var s=Lo(),u=M(s);ae(()=>Ae(u,`at ${r} ${n??""}`)),V(l,s)};ue(i,l=>{(n||r)&&l(o)})}V(t,a),ve()}const qa="settings",Uo={game:"pileon",colors:"default",size:"default"},Ko=JSON.parse(localStorage.getItem(qa)??"null"),It=an(Ko??Uo);It.subscribe(t=>localStorage.setItem(qa,JSON.stringify(t)));const zo={},Mt=an(zo);var Va=["input:not([inert]):not([inert] *)","select:not([inert]):not([inert] *)","textarea:not([inert]):not([inert] *)","a[href]:not([inert]):not([inert] *)","button:not([inert]):not([inert] *)","[tabindex]:not(slot):not([inert]):not([inert] *)","audio[controls]:not([inert]):not([inert] *)","video[controls]:not([inert]):not([inert] *)",'[contenteditable]:not([contenteditable="false"]):not([inert]):not([inert] *)',"details>summary:first-of-type:not([inert]):not([inert] *)","details:not([inert]):not([inert] *)"],fr=Va.join(","),Ba=typeof Element>"u",bt=Ba?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,cr=!Ba&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},dr=function(e,r){var n;r===void 0&&(r=!0);var a=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),i=a===""||a==="true",o=i||r&&e&&(typeof e.closest=="function"?e.closest("[inert]"):dr(e.parentNode));return o},qo=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},Ha=function(e,r,n){if(dr(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(fr));return r&&bt.call(e,fr)&&a.unshift(e),a=a.filter(n),a},vr=function(e,r,n){for(var a=[],i=Array.from(e);i.length;){var o=i.shift();if(!dr(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),s=l.length?l:o.children,u=vr(s,!0,n);n.flatten?a.push.apply(a,u):a.push({scopeParent:o,candidates:u})}else{var h=bt.call(o,fr);h&&n.filter(o)&&(r||!e.includes(o))&&a.push(o);var b=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),c=!dr(b,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(b&&c){var m=vr(b===!0?o.children:b.children,!0,n);n.flatten?a.push.apply(a,m):a.push({scopeParent:o,candidates:m})}else i.unshift.apply(i,o.children)}}return a},Wa=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ut=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||qo(e))&&!Wa(e)?0:e.tabIndex},Vo=function(e,r){var n=ut(e);return n<0&&r&&!Wa(e)?0:n},Bo=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Ga=function(e){return e.tagName==="INPUT"},Ho=function(e){return Ga(e)&&e.type==="hidden"},Wo=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},Go=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},Jo=function(e){if(!e.name)return!0;var r=e.form||cr(e),n=function(l){return r.querySelectorAll('input[type="radio"][name="'+l+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(e.name));else try{a=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=Go(a,e.form);return!i||i===e},Yo=function(e){return Ga(e)&&e.type==="radio"},Zo=function(e){return Yo(e)&&!Jo(e)},Qo=function(e){var r,n=e&&cr(e),a=(r=n)===null||r===void 0?void 0:r.host,i=!1;if(n&&n!==e){var o,l,s;for(i=!!((o=a)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(a)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!i&&a;){var u,h,b;n=cr(a),a=(u=n)===null||u===void 0?void 0:u.host,i=!!((h=a)!==null&&h!==void 0&&(b=h.ownerDocument)!==null&&b!==void 0&&b.contains(a))}}return i},Nn=function(e){var r=e.getBoundingClientRect(),n=r.width,a=r.height;return n===0&&a===0},Xo=function(e,r){var n=r.displayCheck,a=r.getShadowRoot;if(n==="full-native"&&"checkVisibility"in e){var i=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(e).visibility==="hidden")return!0;var o=bt.call(e,"details>summary:first-of-type"),l=o?e.parentElement:e;if(bt.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof a=="function"){for(var s=e;e;){var u=e.parentElement,h=cr(e);if(u&&!u.shadowRoot&&a(u)===!0)return Nn(e);e.assignedSlot?e=e.assignedSlot:!u&&h!==e.ownerDocument?e=h.host:e=u}e=s}if(Qo(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Nn(e);return!1},es=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var a=r.children.item(n);if(a.tagName==="LEGEND")return bt.call(r,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}r=r.parentElement}return!1},hr=function(e,r){return!(r.disabled||Ho(r)||Xo(r,e)||Wo(r)||es(r))},zr=function(e,r){return!(Zo(r)||ut(r)<0||!hr(e,r))},ts=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},Ja=function(e){var r=[],n=[];return e.forEach(function(a,i){var o=!!a.scopeParent,l=o?a.scopeParent:a,s=Vo(l,o),u=o?Ja(a.candidates):l;s===0?o?r.push.apply(r,u):r.push(l):n.push({documentOrder:i,tabIndex:s,item:a,isScope:o,content:u})}),n.sort(Bo).reduce(function(a,i){return i.isScope?a.push.apply(a,i.content):a.push(i.content),a},[]).concat(r)},rs=function(e,r){r=r||{};var n;return r.getShadowRoot?n=vr([e],r.includeContainer,{filter:zr.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:ts}):n=Ha(e,r.includeContainer,zr.bind(null,r)),Ja(n)},ns=function(e,r){r=r||{};var n;return r.getShadowRoot?n=vr([e],r.includeContainer,{filter:hr.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=Ha(e,r.includeContainer,hr.bind(null,r)),n},St=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return bt.call(e,fr)===!1?!1:zr(r,e)},as=Va.concat("iframe:not([inert]):not([inert] *)").join(","),Or=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return bt.call(e,as)===!1?!1:hr(r,e)};function qr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function is(t){if(Array.isArray(t))return qr(t)}function Pn(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ya(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){l=!0,i=s},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function os(t,e,r){return(e=cs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ss(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ls(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dn(Object(r),!0).forEach(function(n){os(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function us(t){return is(t)||ss(t)||Ya(t)||ls()}function fs(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cs(t){var e=fs(t,"string");return typeof e=="symbol"?e:e+""}function Ya(t,e){if(t){if(typeof t=="string")return qr(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qr(t,e):void 0}}var Be={getActiveTrap:function(e){return e?.length>0?e[e.length-1]:null},activateTrap:function(e,r){var n=Be.getActiveTrap(e);r!==n&&Be.pauseTrap(e);var a=e.indexOf(r);a===-1||e.splice(a,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),Be.unpauseTrap(e)},pauseTrap:function(e){var r=Be.getActiveTrap(e);r?._setPausedState(!0)},unpauseTrap:function(e){var r=Be.getActiveTrap(e);r&&!r._isManuallyPaused()&&r._setPausedState(!1)}},ds=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},vs=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},Wt=function(e){return e?.key==="Tab"||e?.keyCode===9},hs=function(e){return Wt(e)&&!e.shiftKey},ps=function(e){return Wt(e)&&e.shiftKey},xn=function(e){return setTimeout(e,0)},Kt=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,n):e},nr=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},gs=[],bs=function(e,r){var n=r?.document||document,a=r?.trapStack||gs,i=Fn({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isolateSubtrees:!1,isKeyForward:hs,isKeyBackward:ps},r),o={containers:[],containerGroups:[],tabbableGroups:[],adjacentElements:new Set,alreadyInert:new Set,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,s=function(k,T,f){return k&&k[T]!==void 0?k[T]:i[f||T]},u=function(k,T){var f=typeof T?.composedPath=="function"?T.composedPath():void 0;return o.containerGroups.findIndex(function(g){var C=g.container,P=g.tabbableNodes;return C.contains(k)||f?.includes(C)||P.find(function(E){return E===k})})},h=function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=T.hasFallback,g=f===void 0?!1:f,C=T.params,P=C===void 0?[]:C,E=i[k];if(typeof E=="function"&&(E=E.apply(void 0,us(P))),E===!0&&(E=void 0),!E){if(E===void 0||E===!1)return E;throw new Error("`".concat(k,"` was specified but was not a node, or did not return a node"))}var x=E;if(typeof E=="string"){try{x=n.querySelector(E)}catch(I){throw new Error("`".concat(k,'` appears to be an invalid selector; error="').concat(I.message,'"'))}if(!x&&!g)throw new Error("`".concat(k,"` as selector refers to no known node"))}return x},b=function(){var k=h("initialFocus",{hasFallback:!0});if(k===!1)return!1;if(k===void 0||k&&!Or(k,i.tabbableOptions))if(u(n.activeElement)>=0)k=n.activeElement;else{var T=o.tabbableGroups[0],f=T&&T.firstTabbableNode;k=f||h("fallbackFocus")}else k===null&&(k=h("fallbackFocus"));if(!k)throw new Error("Your focus-trap needs to have at least one focusable element");return k},c=function(){if(o.containerGroups=o.containers.map(function(k){var T=rs(k,i.tabbableOptions),f=ns(k,i.tabbableOptions),g=T.length>0?T[0]:void 0,C=T.length>0?T[T.length-1]:void 0,P=f.find(function(I){return St(I)}),E=f.slice().reverse().find(function(I){return St(I)}),x=!!T.find(function(I){return ut(I)>0});return{container:k,tabbableNodes:T,focusableNodes:f,posTabIndexesFound:x,firstTabbableNode:g,lastTabbableNode:C,firstDomTabbableNode:P,lastDomTabbableNode:E,nextTabbableNode:function(q){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,te=T.indexOf(q);return te<0?ee?f.slice(f.indexOf(q)+1).find(function(pe){return St(pe)}):f.slice(0,f.indexOf(q)).reverse().find(function(pe){return St(pe)}):T[te+(ee?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(k){return k.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(k){return k.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function(k){var T=k.activeElement;if(T)return T.shadowRoot&&T.shadowRoot.activeElement!==null?m(T.shadowRoot):T},A=function(k){if(k!==!1&&k!==m(document)){if(!k||!k.focus){A(b());return}k.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=k,ds(k)&&k.select()}},F=function(k){var T=h("setReturnFocus",{params:[k]});return T||(T===!1?!1:k)},p=function(k){var T=k.target,f=k.event,g=k.isBackward,C=g===void 0?!1:g;T=T||nr(f),c();var P=null;if(o.tabbableGroups.length>0){var E=u(T,f),x=E>=0?o.containerGroups[E]:void 0;if(E<0)C?P=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:P=o.tabbableGroups[0].firstTabbableNode;else if(C){var I=o.tabbableGroups.findIndex(function(ot){var Fe=ot.firstTabbableNode;return T===Fe});if(I<0&&(x.container===T||Or(T,i.tabbableOptions)&&!St(T,i.tabbableOptions)&&!x.nextTabbableNode(T,!1))&&(I=E),I>=0){var q=I===0?o.tabbableGroups.length-1:I-1,ee=o.tabbableGroups[q];P=ut(T)>=0?ee.lastTabbableNode:ee.lastDomTabbableNode}else Wt(f)||(P=x.nextTabbableNode(T,!1))}else{var te=o.tabbableGroups.findIndex(function(ot){var Fe=ot.lastTabbableNode;return T===Fe});if(te<0&&(x.container===T||Or(T,i.tabbableOptions)&&!St(T,i.tabbableOptions)&&!x.nextTabbableNode(T))&&(te=E),te>=0){var pe=te===o.tabbableGroups.length-1?0:te+1,we=o.tabbableGroups[pe];P=ut(T)>=0?we.firstTabbableNode:we.firstDomTabbableNode}else Wt(f)||(P=x.nextTabbableNode(T))}}else P=h("fallbackFocus");return P},_=function(k){var T=nr(k);if(!(u(T,k)>=0)){if(Kt(i.clickOutsideDeactivates,k)){l.deactivate({returnFocus:i.returnFocusOnDeactivate});return}Kt(i.allowOutsideClick,k)||k.preventDefault()}},d=function(k){var T=nr(k),f=u(T,k)>=0;if(f||T instanceof Document)f&&(o.mostRecentlyFocusedNode=T);else{k.stopImmediatePropagation();var g,C=!0;if(o.mostRecentlyFocusedNode)if(ut(o.mostRecentlyFocusedNode)>0){var P=u(o.mostRecentlyFocusedNode),E=o.containerGroups[P].tabbableNodes;if(E.length>0){var x=E.findIndex(function(I){return I===o.mostRecentlyFocusedNode});x>=0&&(i.isKeyForward(o.recentNavEvent)?x+1<E.length&&(g=E[x+1],C=!1):x-1>=0&&(g=E[x-1],C=!1))}}else o.containerGroups.some(function(I){return I.tabbableNodes.some(function(q){return ut(q)>0})})||(C=!1);else C=!1;C&&(g=p({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),A(g||o.mostRecentlyFocusedNode||b())}o.recentNavEvent=void 0},y=function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=k;var f=p({event:k,isBackward:T});f&&(Wt(k)&&k.preventDefault(),A(f))},S=function(k){(i.isKeyForward(k)||i.isKeyBackward(k))&&y(k,i.isKeyBackward(k))},O=function(k){vs(k)&&Kt(i.escapeDeactivates,k)!==!1&&(k.preventDefault(),l.deactivate())},w=function(k){var T=nr(k);u(T,k)>=0||Kt(i.clickOutsideDeactivates,k)||Kt(i.allowOutsideClick,k)||(k.preventDefault(),k.stopImmediatePropagation())},N=function(){if(o.active)return Be.activateTrap(a,l),o.delayInitialFocusTimer=i.delayInitialFocus?xn(function(){A(b())}):A(b()),n.addEventListener("focusin",d,!0),n.addEventListener("mousedown",_,{capture:!0,passive:!1}),n.addEventListener("touchstart",_,{capture:!0,passive:!1}),n.addEventListener("click",w,{capture:!0,passive:!1}),n.addEventListener("keydown",S,{capture:!0,passive:!1}),n.addEventListener("keydown",O),l},D=function(k){o.active&&!o.paused&&l._setSubtreeIsolation(!1),o.adjacentElements.clear(),o.alreadyInert.clear();var T=new Set,f=new Set,g=Pn(k),C;try{for(g.s();!(C=g.n()).done;){var P=C.value;T.add(P);for(var E=typeof ShadowRoot<"u"&&P.getRootNode()instanceof ShadowRoot,x=P;x;){T.add(x);var I=x.parentElement,q=[];I?q=I.children:!I&&E&&(q=x.getRootNode().children,I=x.getRootNode().host,E=typeof ShadowRoot<"u"&&I.getRootNode()instanceof ShadowRoot);var ee=Pn(q),te;try{for(ee.s();!(te=ee.n()).done;){var pe=te.value;f.add(pe)}}catch(we){ee.e(we)}finally{ee.f()}x=I}}}catch(we){g.e(we)}finally{g.f()}T.forEach(function(we){f.delete(we)}),o.adjacentElements=f},j=function(){if(o.active)return n.removeEventListener("focusin",d,!0),n.removeEventListener("mousedown",_,!0),n.removeEventListener("touchstart",_,!0),n.removeEventListener("click",w,!0),n.removeEventListener("keydown",S,!0),n.removeEventListener("keydown",O),l},z=function(k){var T=k.some(function(f){var g=Array.from(f.removedNodes);return g.some(function(C){return C===o.mostRecentlyFocusedNode})});T&&A(b())},J=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(z):void 0,H=function(){J&&(J.disconnect(),o.active&&!o.paused&&o.containers.map(function(k){J.observe(k,{subtree:!0,childList:!0})}))};return l={get active(){return o.active},get paused(){return o.paused},activate:function(k){if(o.active)return this;var T=s(k,"onActivate"),f=s(k,"onPostActivate"),g=s(k,"checkCanFocusTrap"),C=Be.getActiveTrap(a),P=!1;C&&!C.paused&&(C._setSubtreeIsolation(!1),P=!0);try{g||c(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=m(n),T?.();var E=function(){g&&c(),N(),H(),i.isolateSubtrees&&l._setSubtreeIsolation(!0),f?.()};if(g)return g(o.containers.concat()).then(E,E),this;E()}catch(x){throw C===Be.getActiveTrap(a)&&P&&C._setSubtreeIsolation(!0),x}return this},deactivate:function(k){if(!o.active)return this;var T=Fn({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},k);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,o.paused||l._setSubtreeIsolation(!1),o.alreadyInert.clear(),j(),o.active=!1,o.paused=!1,H(),Be.deactivateTrap(a,l);var f=s(T,"onDeactivate"),g=s(T,"onPostDeactivate"),C=s(T,"checkCanReturnFocus"),P=s(T,"returnFocus","returnFocusOnDeactivate");f?.();var E=function(){xn(function(){P&&A(F(o.nodeFocusedBeforeActivation)),g?.()})};return P&&C?(C(F(o.nodeFocusedBeforeActivation)).then(E,E),this):(E(),this)},pause:function(k){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,k)):this},unpause:function(k){return o.active?(o.manuallyPaused=!1,a[a.length-1]!==this?this:this._setPausedState(!1,k)):this},updateContainerElements:function(k){var T=[].concat(k).filter(Boolean);return o.containers=T.map(function(f){return typeof f=="string"?n.querySelector(f):f}),i.isolateSubtrees&&D(o.containers),o.active&&(c(),i.isolateSubtrees&&!o.paused&&l._setSubtreeIsolation(!0)),H(),this}},Object.defineProperties(l,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(k,T){if(o.paused===k)return this;if(o.paused=k,k){var f=s(T,"onPause"),g=s(T,"onPostPause");f?.(),j(),H(),l._setSubtreeIsolation(!1),g?.()}else{var C=s(T,"onUnpause"),P=s(T,"onPostUnpause");C?.(),l._setSubtreeIsolation(!0),c(),N(),H(),P?.()}return this}},_setSubtreeIsolation:{value:function(k){i.isolateSubtrees&&o.adjacentElements.forEach(function(T){if(k){var f=T.inert||T.hasAttribute("inert");f&&o.alreadyInert.add(T),T.inert=!0}else o.alreadyInert.has(T)||(T.inert=!1)})}}}),l.updateContainerElements(e),l};const Za=()=>(Math.random()+1).toString(36).substring(5),Rn={Close:{path:"M 3 3 L 13 13 M 3 13 L 13 3"},Help:{path:"M 8 12 L 8 12 M 8 10 L 8 9 C 8 7 10 8 10 6 A 2 2 0 1 0 6 6 M 8 1.5 A 6.5 6.5 0 0 1 8 14.5 A 6.5 6.5 0 0 1 8 1.5"},Menu:{path:"M 2 4 L 14 4 M 2 8 L 14 8 M 2 12 L 14 12"},Minimize:{path:"M 11 13 L 6.75 13 M 11 11 L 6.75 11 M 11 11 L 11 6.75 M 11 11 L 3 3"},OpenModal:{path:"M 3 3 L 7.25 3 M 3 3 L 3 7.25 M 3 3 L 10 10 M 3 11 A 2 2 0 0 0 5 13 L 11 13 A 2 2 0 0 0 13 11 L 13 5 A 2 2 0 0 0 11 3 L 11 3"},Shuffle:{path:"M 5 2 L 2 5 L 5 8 M 2 5 L 12 5 M 11 14 L 14 11 L 11 8 M 14 11 L 4 11"},Undo:{path:"M 5 3 L 2 6 L 5 9 M 2 6 L 10 6 A 3 3 0 1 1 10 13 L 8 13"}};var ms=$a('<svg viewBox="0 0 16 16"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"></path></svg>');function Qa(t,e){de(e,!1);let r=B(e,"icon",8);_e();var n=ms(),a=M(n);ae(()=>me(a,"d",($(Rn),$(r()),Z(()=>Rn[r()].path)))),V(t,n),ve()}var ys=Q('<div class="icon-button clickable svelte-1882mcx"><div class="content svelte-1882mcx"><button><div class="icon svelte-1882mcx"><!></div></button> <div class="label svelte-1882mcx"> </div></div></div>');function et(t,e){de(e,!1);let r=B(e,"icon",8),n=B(e,"label",8),a=B(e,"onClick",8);const i=`${Za()}-label`;_e();var o=ys(),l=M(o),s=M(l);he(s,1,"clickable svelte-1882mcx",null,{},{open});var u=M(s),h=M(u);Qa(h,{get icon(){return r()}});var b=K(s,2),c=M(b);ae(()=>{me(s,"aria-labelledby",i),me(b,"id",i),Ae(c,n())}),be("click",s,function(...m){a()?.apply(this,m)}),be("click",o,function(...m){a()?.apply(this,m)}),V(t,o),ve()}var _s=Q('<div></div> <div role="dialog"><div class="header svelte-1bxxaoh"><h2 class="svelte-1bxxaoh"> </h2> <!></div> <div class="content svelte-1bxxaoh"><!></div></div>',1);function sn(t,e){de(e,!1);let r=B(e,"title",8),n=B(e,"position",8,"center"),a=B(e,"closeIcon",8,"Close");const i=`modal-${Za()}`,o=`${i}-title`;let l=L(!1);er(()=>{const w=bs(`#${i}`,{clickOutsideDeactivates:!0,onDeactivate:()=>u()});w.activate();const N=document.body.style.overflow;return document.body.style.overflow="hidden",setTimeout(()=>{R(l,!0)},0),()=>{w.deactivate(),document.body.style.overflow=N}});const s=on(),u=()=>{R(l,!1),setTimeout(()=>s("close"),125)};let h=navigator.windowControlsOverlay?.visible&&navigator.windowControlsOverlay?.getTitlebarAreaRect().left>0;_e();var b=_s(),c=Ee(b);let m;var A=K(c,2);let F;var p=M(A),_=M(p),d=M(_),y=K(_,2);et(y,{get icon(){return a()},label:"Close",onClick:u});var S=K(p,2),O=M(S);Tr(O,e,"default",{},null),ae(()=>{m=he(c,1,"backdrop svelte-1bxxaoh",null,m,{open:v(l)}),F=he(A,1,`modal ${n()??""} ${h?"window-controls-on-left":""}`,"svelte-1bxxaoh",F,{open:v(l)}),me(A,"aria-labelledby",o),me(A,"id",i),me(_,"id",o),Ae(d,r())}),V(t,b),ve()}var ws=Q("<button><!></button>");function qe(t,e){de(e,!1);const r=()=>it(It,"$settings",n),[n,a]=yt(),i=L(),o=L();let l=B(e,"target",8),s=B(e,"value",8);const{update:u}=It,h=()=>{};W(()=>(r(),$(l()),$(s())),()=>{R(o,r()[l()]===s())}),W(()=>(v(o),$(l()),$(s())),()=>{R(i,v(o)?h:()=>u(A=>({...A,[l()]:s()})))}),Ze(),_e();var b=ws();let c;var m=M(b);Tr(m,e,"default",{},A=>{var F=lr();ae(()=>Ae(F,s())),V(A,F)}),ae(()=>{me(b,"aria-pressed",v(o)?"true":"false"),b.disabled=v(o),c=he(b,1,"svelte-1s00cb8",null,c,{pressed:v(o)})}),be("click",b,function(...A){v(i)?.apply(this,A)}),V(t,b),ve(),a()}var Ss=Q('<div class="drawer svelte-oa8ggr"><ul class="svelte-oa8ggr"><li class="svelte-oa8ggr"><!></li> <li class="svelte-oa8ggr"><!></li></ul> <div class="whitespace svelte-oa8ggr"></div> <h3>Settings</h3> <table class="svelte-oa8ggr"><tbody><tr><th class="svelte-oa8ggr">Colors:</th><td class="svelte-oa8ggr"><!> / <!> / <!></td></tr><tr><th class="svelte-oa8ggr">Size:</th><td class="svelte-oa8ggr"><!> / <!> / <!> / <!></td></tr></tbody></table></div>'),Ts=Q('<div class="titlebar svelte-oa8ggr"><div class="window-controls svelte-oa8ggr"></div> <div><!> <!> <!> <!></div> <div class="window-controls svelte-oa8ggr"></div></div> <!>',1);function Es(t,e){de(e,!1);const r=()=>it(Mt,"$actions",n),[n,a]=yt();let i=L(!1);const o=w=>N=>{R(i,w==="open"),N.stopPropagation()};let l=L(),s=L("");const u=()=>{if(!navigator.windowControlsOverlay?.visible)return;const w=v(l).getBoundingClientRect(),N=navigator.windowControlsOverlay?.getTitlebarAreaRect();N.left>w.left||N.right<w.right?R(s,"below-titlebar"):R(s,"")};er(u),_e();var h=Ts();be("resize",Mr,u);var b=Ee(h),c=K(M(b),2),m=M(c);{let w=$e(()=>o("open"));et(m,{icon:"Menu",label:"Menu",get onClick(){return v(w)}})}var A=K(m,2);{var F=w=>{et(w,{icon:"Help",label:"Help",get onClick(){return r().help}})};ue(A,w=>{r().help!==void 0&&w(F)})}var p=K(A,2);{var _=w=>{et(w,{icon:"Shuffle",label:"Shuffle",get onClick(){return r().shuffle}})};ue(p,w=>{r().shuffle!==void 0&&w(_)})}var d=K(p,2);{var y=w=>{et(w,{icon:"Undo",label:"Undo",get onClick(){return r().undo}})};ue(d,w=>{r().undo!==void 0&&w(y)})}Fo(c,w=>R(l,w),()=>v(l));var S=K(b,2);{var O=w=>{var N=Ue(()=>o("close"));sn(w,{position:"left",title:"Menu",$$events:{close(...D){v(N)?.apply(this,D)}},children:(D,j)=>{var z=Ss(),J=M(z),H=M(J),U=M(H);qe(U,{target:"game",value:"pileon",children:(Fe,ui)=>{var kr=lr("Pileon solitaire");V(Fe,kr)},$$slots:{default:!0}});var k=K(H,2),T=M(k);qe(T,{target:"game",value:"deck",children:(Fe,ui)=>{var kr=lr("Deck of cards");V(Fe,kr)},$$slots:{default:!0}});var f=K(J,6),g=M(f),C=M(g),P=K(M(C)),E=M(P);qe(E,{target:"colors",value:"default"});var x=K(E,2);qe(x,{target:"colors",value:"standard"});var I=K(x,2);qe(I,{target:"colors",value:"four-color"});var q=K(C),ee=K(M(q)),te=M(ee);qe(te,{target:"size",value:"default"});var pe=K(te,2);qe(pe,{target:"size",value:"bridge"});var we=K(pe,2);qe(we,{target:"size",value:"poker"});var ot=K(we,2);qe(ot,{target:"size",value:"small"}),V(D,z)},$$slots:{default:!0}})};ue(S,w=>{v(i)&&w(O)})}ae(()=>he(c,1,`menu ${v(s)??""}`,"svelte-oa8ggr")),V(t,h),ve(),a()}var Nr={},xe={},In;function Er(){if(In)return xe;In=1;function t(f){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(f)}Object.defineProperty(xe,"__esModule",{value:!0}),xe.Cards=xe.CardSuits=xe.CardStringType=xe.Card=void 0;function e(f,g,C){return g=i(g),g in f?Object.defineProperty(f,g,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[g]=C,f}function r(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function n(f,g){for(var C=0;C<g.length;C++){var P=g[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,i(P.key),P)}}function a(f,g,C){return g&&n(f.prototype,g),C&&n(f,C),Object.defineProperty(f,"prototype",{writable:!1}),f}function i(f){var g=o(f,"string");return t(g)==="symbol"?g:String(g)}function o(f,g){if(t(f)!=="object"||f===null)return f;var C=f[Symbol.toPrimitive];if(C!==void 0){var P=C.call(f,g);if(t(P)!=="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(f)}function l(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),g&&F(f,g)}function s(f){var g=m();return function(){var P=p(f),E;if(g){var x=p(this).constructor;E=Reflect.construct(P,arguments,x)}else E=P.apply(this,arguments);return u(this,E)}}function u(f,g){if(g&&(t(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(f)}function h(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function b(f){var g=typeof Map=="function"?new Map:void 0;return b=function(P){if(P===null||!A(P))return P;if(typeof P!="function")throw new TypeError("Super expression must either be null or a function");if(typeof g<"u"){if(g.has(P))return g.get(P);g.set(P,E)}function E(){return c(P,arguments,p(this).constructor)}return E.prototype=Object.create(P.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),F(E,P)},b(f)}function c(f,g,C){return m()?c=Reflect.construct.bind():c=function(E,x,I){var q=[null];q.push.apply(q,x);var ee=Function.bind.apply(E,q),te=new ee;return I&&F(te,I.prototype),te},c.apply(null,arguments)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(f){return Function.toString.call(f).indexOf("[native code]")!==-1}function F(f,g){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,E){return P.__proto__=E,P},F(f,g)}function p(f){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},p(f)}function _(f,g){return w(f)||O(f,g)||y(f,g)||d()}function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(f,g){if(f){if(typeof f=="string")return S(f,g);var C=Object.prototype.toString.call(f).slice(8,-1);if(C==="Object"&&f.constructor&&(C=f.constructor.name),C==="Map"||C==="Set")return Array.from(f);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return S(f,g)}}function S(f,g){(g==null||g>f.length)&&(g=f.length);for(var C=0,P=new Array(g);C<g;C++)P[C]=f[C];return P}function O(f,g){var C=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(C!=null){var P,E,x,I,q=[],ee=!0,te=!1;try{if(x=(C=C.call(f)).next,g!==0)for(;!(ee=(P=x.call(C)).done)&&(q.push(P.value),q.length!==g);ee=!0);}catch(pe){te=!0,E=pe}finally{try{if(!ee&&C.return!=null&&(I=C.return(),Object(I)!==I))return}finally{if(te)throw E}}return q}}function w(f){if(Array.isArray(f))return f}var N=(function(f){return f[f.Hearts=0]="Hearts",f[f.Spades=1]="Spades",f[f.Diamonds=2]="Diamonds",f[f.Clubs=3]="Clubs",f})({});xe.CardSuits=N;var D=(function(f){return f.Char="CHAR",f.Short="SHORT",f.Long="LONG",f.ShortEmoji="SHORT_EMOJI",f.ShortSuit="SHORT_SUIT",f.LongSuit="LONG_SUIT",f.EmojiSuit="EMOJI_SUIT",f.ShortValue="SHORT_VALUE",f.LongValue="LONG_VALUE",f})({});xe.CardStringType=D;var j={"â¥":0,"â ":1,"â¦":2,"â£":3,h:0,s:1,d:2,c:3},z={A:1,T:10,J:11,Q:12,K:13},J=function(g){var C=/^([2-9ATJQK]{1}|10)([â¥â â¦â£hsdc]{1})$/,P=g.match(C);if(!P)throw new Error('Could not parse card from "'.concat(g,'". Input should match ').concat(C,"."));var E=_(P,3);E[0];var x=E[1],I=E[2],q=Number(x),ee=(Number.isNaN(q)?z[x]:q)-1;return j[I]*13+ee},H=function(g){var C=/^_[a-z]+$/i;if(g.match(C)){var P=Array.from(g.slice(1));return P.map(function(E){var x=E.charCodeAt(0);return x<91?x-65:x-97+26})}return g.split(/[\s,]+/)},U=(function(f){l(C,f);var g=s(C);function C(P){var E;if(r(this,C),typeof P=="number")E=g.call(this,P);else{E=g.call(this);var x=Array.isArray(P)?P:H(P);x.forEach(function(I){return E.push(new T(I))})}return u(E)}return a(C,[{key:"toString",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T.StringType.Short;return E===D.Char?"_"+this.map(function(x){return x.toString(E)}).join(""):this.map(function(x){return x.toString(E)}).join(", ")}}]),C})(b(Array));xe.Cards=U;var k=function(g){return typeof g=="string"?J(g):g instanceof T?g.num:g},T=(function(){function f(g){r(this,f),e(this,"num",void 0),this.num=k(g)}return a(f,[{key:"suit",get:function(){return f.getSuit(this.num)}},{key:"value",get:function(){return f.getValue(this.num)}},{key:"toString",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.StringType.Long;switch(C){case f.StringType.Short:return this.toString(f.StringType.ShortValue)+this.toString(f.StringType.ShortSuit);case f.StringType.ShortEmoji:return this.toString(f.StringType.ShortValue)+this.toString(f.StringType.EmojiSuit);case f.StringType.Long:return this.toString(f.StringType.LongValue)+" of "+this.toString(f.StringType.LongSuit);case f.StringType.Char:return f.chars[this.num];case f.StringType.ShortSuit:return f.shortSuits[this.suit];case f.StringType.LongSuit:return f.longSuits[this.suit];case f.StringType.EmojiSuit:return f.emojiSuits[this.suit];case f.StringType.ShortValue:return f.shortValues[this.value===13?0:this.value];case f.StringType.LongValue:return f.longValues[this.value===13?0:this.value]}throw new Error("Unsupported output type")}}],[{key:"fromJSON",value:function(C){var P=C.num;return new f(P)}},{key:"getSuit",value:function(C){return Math.floor(C/13)%4}},{key:"getValue",value:function(C){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C%13||P?C%13:13}},{key:"compare",value:function(C,P){return P.value-C.value}}]),f})();return xe.Card=T,e(T,"Suits",N),e(T,"StringType",D),e(T,"chars","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),e(T,"emojiSuits",["â¥","â ","â¦","â£"]),e(T,"shortSuits",["h","s","d","c"]),e(T,"longSuits",["hearts","spades","diamonds","clubs"]),e(T,"shortValues",["A","2","3","4","5","6","7","8","9","T","J","Q","K"]),e(T,"longValues",["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"]),xe}var zt={},oe={},Mn;function Xa(){if(Mn)return oe;Mn=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.uniqueFilter=oe.shuffle=oe.last=oe.isSorted=oe.getCombinationsHelper=oe.getCombinations=oe.arraySubtraction=void 0;var t=function(s,u){return s.filter(function(h){return!u.includes(h)})};oe.arraySubtraction=t;var e=function l(s,u,h,b,c){if(b.length>=u)c.push(b);else for(var m=h;m<s.length;m++)l(s,u,m+1,b.concat(s[m]),c)};oe.getCombinationsHelper=e;var r=function(s,u){var h=[];return e(s,u,0,[],h),h};oe.getCombinations=r;var n=function(s,u){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=h?-1:1;try{return s.reduce(function(c,m){if(b*u(c,m)<=0)return m;throw new Error}),!0}catch{return!1}};oe.isSorted=n;var a=function(s){return s[s.length-1]};oe.last=a;var i=function(s){for(var u=s.length-1;u>0;u--){var h=Math.floor(Math.random()*(u+1)),b=[s[h],s[u]];s[u]=b[0],s[h]=b[1]}return s};oe.shuffle=i;var o=function(s,u,h){return h.indexOf(s)===u};return oe.uniqueFilter=o,oe}var Ln;function ks(){if(Ln)return zt;Ln=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.Deck=void 0;var t=Xa(),e=Er();function r(p){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},r(p)}function n(p){return l(p)||o(p)||i(p)||a()}function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(p,_){if(p){if(typeof p=="string")return s(p,_);var d=Object.prototype.toString.call(p).slice(8,-1);if(d==="Object"&&p.constructor&&(d=p.constructor.name),d==="Map"||d==="Set")return Array.from(p);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return s(p,_)}}function o(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}function l(p){if(Array.isArray(p))return s(p)}function s(p,_){(_==null||_>p.length)&&(_=p.length);for(var d=0,y=new Array(_);d<_;d++)y[d]=p[d];return y}function u(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function h(p,_){for(var d=0;d<_.length;d++){var y=_[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,m(y.key),y)}}function b(p,_,d){return _&&h(p.prototype,_),d&&h(p,d),Object.defineProperty(p,"prototype",{writable:!1}),p}function c(p,_,d){return _=m(_),_ in p?Object.defineProperty(p,_,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[_]=d,p}function m(p){var _=A(p,"string");return r(_)==="symbol"?_:String(_)}function A(p,_){if(r(p)!=="object"||p===null)return p;var d=p[Symbol.toPrimitive];if(d!==void 0){var y=d.call(p,_);if(r(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(p)}var F=(function(){function p(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u(this,p),c(this,"cards",void 0),this.cards=n(Array(52*d).keys()).map(function(y){return new e.Card(y)}),_&&this.shuffle()}return b(p,[{key:"shuffle",value:function(){(0,t.shuffle)(this.cards)}},{key:"isShuffled",value:function(){return!(0,t.isSorted)(this.cards,function(d,y){return d.num-y.num})}},{key:"cardsRemaining",get:function(){return this.cards.length}},{key:"pop",value:function(){return this.cards.pop()}},{key:"popN",value:function(d){for(var y=[],S,O=0;O<d&&(S=this.pop());O++)y.push(S);return y}},{key:"toString",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Char;return new e.Cards(this.cards).toString(d)}}],[{key:"fromJSON",value:function(d){var y=d.cards,S=new p(!1,0);return S.cards=y.map(function(O){return e.Card.fromJSON(O)}),S}},{key:"fromString",value:function(d){var y=new p(!1,0);return y.cards=new e.Cards(d),y}}]),p})();return zt.Deck=F,zt}var st={},qt={},$n;function Cs(){if($n)return qt;$n=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.uuid4=void 0;var t=function(n){var a;do a=Math.random().toString(16).slice(2,n+2);while(a.length<n&&n<=12);return a},e=function(){var n=[8,4,4,4,12],a=n.map(t).join("-").split("");return a[14]="4",a[19]=(Math.floor(Math.random()*64)%4+8).toString(16),a.join("")};return qt.uuid4=e,qt}var jn;function As(){if(jn)return st;jn=1,Object.defineProperty(st,"__esModule",{value:!0}),st.HandRank=st.Hand=void 0;var t=Xa(),e=Er(),r=Cs();function n(d){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},n(d)}function a(d){return s(d)||l(d)||o(d)||i()}function i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(d,y){if(d){if(typeof d=="string")return u(d,y);var S=Object.prototype.toString.call(d).slice(8,-1);if(S==="Object"&&d.constructor&&(S=d.constructor.name),S==="Map"||S==="Set")return Array.from(d);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return u(d,y)}}function l(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function s(d){if(Array.isArray(d))return u(d)}function u(d,y){(y==null||y>d.length)&&(y=d.length);for(var S=0,O=new Array(y);S<y;S++)O[S]=d[S];return O}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function b(d,y){for(var S=0;S<y.length;S++){var O=y[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(d,A(O.key),O)}}function c(d,y,S){return y&&b(d.prototype,y),S&&b(d,S),Object.defineProperty(d,"prototype",{writable:!1}),d}function m(d,y,S){return y=A(y),y in d?Object.defineProperty(d,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):d[y]=S,d}function A(d){var y=F(d,"string");return n(y)==="symbol"?y:String(y)}function F(d,y){if(n(d)!=="object"||d===null)return d;var S=d[Symbol.toPrimitive];if(S!==void 0){var O=S.call(d,y);if(n(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(d)}var p=(function(d){return d[d.High=0]="High",d[d.Pair=5]="Pair",d[d.TwoPairs=10]="TwoPairs",d[d.ThreeOfAKind=15]="ThreeOfAKind",d[d.Straight=20]="Straight",d[d.Flush=25]="Flush",d[d.FullHouse=30]="FullHouse",d[d.FourOfAKind=35]="FourOfAKind",d[d.StraightFlush=40]="StraightFlush",d[d.FiveOfAKind=45]="FiveOfAKind",d})({});st.HandRank=p;var _=(function(){function d(y,S,O){h(this,d),m(this,"uuid",void 0),m(this,"rank",void 0),m(this,"cards",void 0),this.rank=y,this.cards=S,this.uuid=O||(0,r.uuid4)()}return c(d,[{key:"getCardsString",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Short;return new e.Cards(this.cards).toString(S)}},{key:"toString",value:function(){var S=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Short,w=e.Card.StringType.LongValue,N=function(z){return S.cards[z].toString(w)},D=this.getCardsString(O);switch(this.rank){case d.Rank.FiveOfAKind:return"Five of a kind, ".concat(N(0),"s (").concat(D,")");case d.Rank.StraightFlush:return"Straigth flush, ".concat(N(0)," high (").concat(D,")");case d.Rank.FourOfAKind:return"Four of a kind, ".concat(N(0),"s (").concat(D,")");case d.Rank.FullHouse:return"Full house, ".concat(N(0),"s over ").concat(N(3),"s (").concat(D,")");case d.Rank.Flush:return"Flush, ".concat(N(0)," high (").concat(D,")");case d.Rank.Straight:return"Straigth, ".concat(N(0)," high (").concat(D,")");case d.Rank.ThreeOfAKind:return"Three of a kind, ".concat(N(0),"s (").concat(D,")");case d.Rank.TwoPairs:return"Two pairs, ".concat(N(0),"s and ").concat(N(2),"s (").concat(D,")");case d.Rank.Pair:return"Pair, ".concat(N(0),"s (").concat(D,")");case d.Rank.High:return"".concat(N(0).replace(/^\w/,function(j){return j.toUpperCase()})," high (").concat(D,")")}throw new Error("Unsupported rank value")}}],[{key:"fromJSON",value:function(S){var O=S.rank,w=S.cards,N=S.uuid;return new d(O,w.map(e.Card.fromJSON),N)}},{key:"solve",value:function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w,N;return(w=d.isNumOfAKind(5,S))?N=d.Rank.FiveOfAKind:(w=d.isStraightFlush(S,O))?N=d.Rank.StraightFlush:(w=d.isNumOfAKind(4,S))?N=d.Rank.FourOfAKind:(w=d.isFullHouse(S))?N=d.Rank.FullHouse:(w=d.isFlush(S,O))?N=d.Rank.Flush:(w=d.isStraight(S,O))?N=d.Rank.Straight:(w=d.isNumOfAKind(3,S))?N=d.Rank.ThreeOfAKind:(w=d.isTwoPairs(S))?N=d.Rank.TwoPairs:(w=d.isNumOfAKind(2,S))?N=d.Rank.Pair:(w=[],N=d.Rank.High),w=d.fillWithKickers(w,S),new d(N,w)}},{key:"solveHoldEm",value:function(S,O){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(w===0)return d.solve([].concat(a(S),a(O)));for(var N=(0,t.getCombinations)(S,S.length-w),D=(0,t.getCombinations)(O,Math.min(O.length,w)),j=[],z=0;z<N.length;z++)for(var J=0;J<D.length;J++)j.push(d.solve([].concat(a(N[z]),a(D[J]))));return d.max.apply(d,j)}},{key:"compare",value:function(S,O){var w;if(S.cards.length!==O.cards.length)throw new Error("Comparing hands with different number of cards");if((w=O.rank-S.rank)!==0)return w;for(var N=0;N<S.cards.length;N++)if((w=e.Card.compare(S.cards[N],O.cards[N]))!==0)return w;return 0}},{key:"winners",value:function(){for(var S=arguments.length,O=new Array(S),w=0;w<S;w++)O[w]=arguments[w];var N=d.max.apply(d,O);return O.filter(function(D){return!d.compare(D,N)})}},{key:"max",value:function(){for(var S=function(j,z){return d.compare(j,z)<0?j:z},O=arguments.length,w=new Array(O),N=0;N<O;N++)w[N]=arguments[N];return w.reduce(function(D,j){return S(D,j)})}},{key:"fillWithKickers",value:function(S,O){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;return O=(0,t.arraySubtraction)(O,S).sort(e.Card.compare),[].concat(a(S),a(O)).slice(0,w)}},{key:"getUniqueValues",value:function(S){return S.map(function(O){return O.value}).filter(t.uniqueFilter).sort(function(O,w){return w-O})}},{key:"isNumOfAKind",value:function(S,O){for(var w=d.getUniqueValues(O),N,D=function(H){if(N=O.filter(function(U){return U.value==w[H]}),N.length>=S)return{v:N}},j=0;j<w.length;j++){var z=D(j);if(n(z)==="object")return z.v}return!1}},{key:"isNumOfAKindCombination",value:function(S,O){for(var w=[],N=0;N<S.length;N++){var D=d.isNumOfAKind(S[N],(0,t.arraySubtraction)(O,w));if(D===!1)return!1;D=D,w.push.apply(w,a(D))}return w}},{key:"isStraightFlush",value:function(S){for(var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=[],N=function(J){if(w=S.filter(function(U){return U.suit===J}),w.length<O)return"continue";var H=d.isStraight(w,O);if(H)return{v:H}},D=0;D<4;D++){var j=N(D);if(j!=="continue"&&n(j)==="object")return j.v}return!1}},{key:"isFullHouse",value:function(S){return d.isNumOfAKindCombination([3,2],S)}},{key:"isFlush",value:function(S){for(var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=function(z){var J=S.filter(function(H){return H.suit==z});if(J.length>=O)return{v:J.sort(e.Card.compare).slice(0,O)}},N=0;N<4;N++){var D=w(N);if(n(D)==="object")return D.v}return!1}},{key:"isStraight",value:function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=d.getUniqueValues(S);if(w.length<O)return!1;w.includes(13)&&w.push(0);for(var N=[w[0]],D=1;D<w.length&&N.length<O;D++)(0,t.last)(N)-w[D]===1?N.push(w[D]):N=[w[D]];return N.length==O?N.map(function(j){return S.find(function(z){return z.value===(j||13)})}):!1}},{key:"isTwoPairs",value:function(S){return d.isNumOfAKindCombination([2,2],S)}}]),d})();return st.Hand=_,m(_,"Rank",p),st}var Un;function Os(){return Un||(Un=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Card",{enumerable:!0,get:function(){return e.Card}}),Object.defineProperty(t,"CardStringType",{enumerable:!0,get:function(){return e.CardStringType}}),Object.defineProperty(t,"Cards",{enumerable:!0,get:function(){return e.Cards}}),Object.defineProperty(t,"Deck",{enumerable:!0,get:function(){return r.Deck}}),Object.defineProperty(t,"Hand",{enumerable:!0,get:function(){return n.Hand}});var e=Er(),r=ks(),n=As()})(Nr)),Nr}var le=Os();const Ns=4.5,Ps=5,Ds=3,Kn=7,Fs=5,ei=t=>{switch(t){case"bridge":return{height:Kn,width:Ns};case"poker":return{height:Kn,width:Ps};case"small":return{height:Fs,width:Ds}}},ln="card-appearance",xs={size:"bridge",fourColor:!1},Rs=({size:t,colors:e})=>({size:t==="default"?"poker":t,fourColor:e==="four-color"}),ti=t=>{const e=an(xs,r=>(It.subscribe(n=>r(t(n))),()=>{}));return Ki(ln,e),e},un=()=>aa(ln),zn=t=>{const e=aa(ln);if(e){const r=Ka(It);e.set(t(r))}},ri=(t,e,r={})=>n=>{(Array.isArray(t)?t:[t]).includes(n.code)&&e!==void 0&&(r.preventDefault&&n.preventDefault(),e())};var Is=$a('<svg viewBox="0 0 16 20"><path fill="CurrentColor"></path></svg>');function ni(t,e){de(e,!1);const r=L();let n=B(e,"suit",8,null),a=B(e,"flip",8,!1);const i=u=>{switch(u){case"hearts":return"M 8 2 C 9 0 11 0 12 0 C 13 0 16 1 16 6 C 16 8 15.5 10 14 12 L 8 20 L 2 12 C 0.5 10 0 8 0 6 C 0 1 3 0 4 0 C 5 0 7 0 8 2";case"spades":return"M 8 0 L 13 5 C 16 8 16 10 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 10 0 8 3 5 L 8 0";case"diamonds":return"M 8 0 L 16 10 L 8 20 L 0 10 L 8 0";case"clubs":return"M 8 0 C 10 0 12 2 12 4 C 12 6 11 8 8 10 C 9 8 10 7 12 7 C 14 7 16 9 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 9 2 7 4 7 C 6 7 7 8 8 10 C 5 8 4 6 4 4 C 4 2 6 0 8 0";default:return null}};W(()=>$(n()),()=>{R(r,i(n()))}),Ze();var o=Sr(),l=Ee(o);{var s=u=>{var h=Is();let b;var c=M(h);ae(()=>{b=he(h,0,"svelte-1izrtb7",null,b,{flip:a()}),me(c,"d",v(r))}),V(u,h)};ue(l,u=>{v(r)&&u(s)})}V(t,o),ve()}var Ms=Q('<span class="svelte-1hnfbft"><!></span>'),Ls=Q("<div></div>"),$s=Q('<div class="center-pattern svelte-1hnfbft"></div>');function js(t,e){let r=B(e,"suit",8),n=B(e,"rank",8);const a={A:["U"],2:["U","D"],3:["U","U","D"],4:["UU","DD"],5:["UU","U","DD"],6:["UU","UU","DD"],7:["UU","u","UU","DD"],8:["UU","UU","DD","DD"],9:["UU","u","UU","DD","DD"],10:["UU","u","UU","DD","d","DD"]},i=s=>a[s]??[],o=s=>s.toUpperCase()===s?"grow":"";var l=$s();Rt(l,5,()=>($(n()),Z(()=>i(n()))),Jt,(s,u)=>{var h=Ls();Rt(h,5,()=>(v(u),Z(()=>v(u).split(""))),Jt,(b,c,m,A)=>{var F=Ms(),p=M(F);{let _=$e(()=>(v(c),Z(()=>v(c).toLowerCase()==="d")));ni(p,{get suit(){return r()},get flip(){return v(_)}})}V(b,F)}),ae(b=>he(h,1,`row ${b??""}`,"svelte-1hnfbft"),[()=>(v(u),Z(()=>o(v(u))))]),V(s,h)}),V(t,l)}var Us=Q('<span class="screen-reader-only svelte-1on3xvn"><!></span>');function Ks(t,e){var r=Us(),n=M(r);Tr(n,e,"default",{},null),V(t,r)}var zs=Q('<div aria-hidden="true"><div> </div> <div class="suit svelte-1s7zazm"><!></div></div> <div><!></div>',1),qs=Q("<div><!> <!></div>");function pr(t,e){de(e,!1);const r=()=>it(A,"$cardAppearance",n),[n,a]=yt(),i=L(),o=L(),l=L(),s=L(),u=L(),h=L(),b=L(),c=L(),m=L(),A=un();let F=B(e,"card",8,null),p=B(e,"empty",8,!1),_=B(e,"shadow",8,!1),d=B(e,"stack",8,void 0);const y=["top","bottom"];W(()=>r(),()=>{R(i,r().size==="bridge")}),W(()=>r(),()=>{R(o,r().size==="small")}),W(()=>r(),()=>{R(l,r().fourColor)}),W(()=>($(F()),$(_())),()=>{R(s,F()===null&&!_())}),W(()=>($(p()),v(s),$(_())),()=>{R(u,!(p()||v(s)||_()))}),W(()=>(v(u),$(F()),le.Card),()=>{R(h,v(u)&&F()?.toString(le.Card.StringType.ShortValue).replace("T","10")||"")}),W(()=>(v(u),$(F()),le.Card),()=>{R(b,v(u)&&F()?.toString(le.Card.StringType.LongSuit)||"")}),W(()=>(v(u),$(F())),()=>{R(c,v(u)&&(F()?.num??0)%13>9)}),W(()=>(v(u),$(F()),le.Card),()=>{R(m,v(u)&&F()?.toString(le.Card.StringType.Long)||"")}),Ze(),_e();var S=qs();let O;var w=M(S);{var N=j=>{Ks(j,{children:(z,J)=>{var H=lr();ae(()=>Ae(H,v(m))),V(z,H)},$$slots:{default:!0}})};ue(w,j=>{v(u)&&j(N)})}var D=K(w,2);Rt(D,1,()=>y,j=>j,(j,z)=>{var J=zs(),H=Ee(J),U=M(H),k=M(U),T=K(U,2),f=M(T);ni(f,{get suit(){return v(b)}});var g=K(H,2);let C;var P=M(g);{var E=x=>{js(x,{get suit(){return v(b)},get rank(){return v(h)}})};ue(P,x=>{v(o)||x(E)})}ae(()=>{he(H,1,`${v(z)??""} label`,"svelte-1s7zazm"),he(U,1,`rank rank-${v(h)??""}`,"svelte-1s7zazm"),Ae(k,v(h)),C=he(g,1,"center svelte-1s7zazm",null,C,{face:v(c)})}),V(j,J)}),ae(()=>O=he(S,1,`card ${v(b)??""} stack-${d()??""}`,"svelte-1s7zazm",O,{bridge:v(i),small:v(o),fourColor:v(l),empty:p(),hidden:v(s),shadow:_(),visible:v(u)})),V(t,S),ve(),a()}var Vs=Q('<div class="shadow-container svelte-98hjjr"><!></div>'),Bs=Q('<div role="button" tabindex="0"><div aria-atomic="true" aria-live="polite"><!> <!></div></div>');function Hs(t,e){de(e,!1);const r=()=>it(h,"$cardAppearance",n),[n,a]=yt(),i=L(),o=L(),l=L(),s=L(),u=L(),h=un();let b=B(e,"numCards",8,52),c=B(e,"numDecks",8,1),m=B(e,"topCard",8,null),A=B(e,"numShadows",8,10),F=B(e,"shuffleAnimationSteps",8,4),p=B(e,"shuffleAnimationMaxDistanceEm",8,.8),_=B(e,"shuffleAnimationMaxRotateDeg",8,7),d=B(e,"onClick",8,()=>{}),y=L(0);function S(T,f,g,C){const P=T/C*f,E=.5*P/(g*52),x=1*P/(g*52);return`translate(${E}em , ${x}em)`}function O(T,f){const g=x=>[1,f+2].includes(T)?0:(Math.random()*2-1)*x,C=g(p()),P=g(p()),E=g(_());return`translate(${C}em, ${P}em) rotate(${E}deg)`}function w(){v(y)>0&&setTimeout(()=>{R(y,v(y)-1),w()},250)}function N(){if(!v(s))return d()()}W(()=>r(),()=>{R(i,r()?.size==="bridge")}),W(()=>r(),()=>{R(o,r()?.size==="small")}),W(()=>($(m()),$(b()),$(c()),$(F())),()=>{m()===null&&b()===52*c()&&F()>0&&(R(y,F()+2),w())}),W(()=>v(y),()=>{R(s,v(y)>0)}),W(()=>($(m()),v(s),$(A()),v(y),$(F()),$(b()),$(c())),()=>{R(l,m()===void 0?[]:v(s)?[...Array(A())].map(()=>({card:null,shadow:!1,transform:O(v(y),F())})):[...Array(A())].map((T,f)=>({card:void 0,shadow:!0,transform:S(f,b(),c(),A())})))}),W(()=>$(m()),()=>{R(u,m()===void 0?"Shuffle the deck":"Draw a card")}),Ze(),_e();var D=Bs(),j=Ue(()=>ri(["Space","Enter"],N,{preventDefault:!0}));let z;var J=M(D),H=M(J);{var U=T=>{{let f=$e(()=>m()===void 0);pr(T,{get card(){return m()},get empty(){return v(f)}})}};ue(H,T=>{v(s)||T(U)})}var k=K(H,2);Rt(k,1,()=>v(l),Jt,(T,f)=>{let g=()=>v(f).card,C=()=>v(f).shadow,P=()=>v(f).transform;var E=Vs(),x=M(E);pr(x,{get card(){return g()},get shadow(){return C()}}),ae(()=>ur(E,`transform: ${P()??""}`)),V(T,E)}),ae(()=>{me(D,"aria-label",v(u)),me(D,"aria-disabled",v(s)),z=he(D,1,"deck svelte-98hjjr",null,z,{bridge:v(i),small:v(o),shuffling:v(s)})}),be("keydown",D,function(...T){v(j)?.apply(this,T)}),be("click",D,N),V(t,D),ve(),a()}var Ws=Q('<main class="svelte-kd00ed"><!></main>');function Gs(t,e){de(e,!1),ti(Rs);let r=new le.Deck,n=L(r.cardsRemaining),a=L(null);function i(){v(a)!==void 0?R(a,r.pop()):(r=new le.Deck,R(a,null)),R(n,r.cardsRemaining)}const o=u=>{u.stopPropagation(),r=new le.Deck,R(a,null),R(n,r.cardsRemaining)};er(()=>{Mt.update(u=>({...u,shuffle:o}))}),za(()=>{Mt.update(u=>({...u,shuffle:void 0}))}),_e();var l=Ws(),s=M(l);Hs(s,{onClick:i,get topCard(){return v(a)},get numCards(){return v(n)}}),V(t,l),ve()}const gr=(t,e)=>ei(e).width+(t-1)*1.125,Js=(t,e,r)=>t.length===0?"empty":e?`closed${r==="rank"?`, ${t[0].toString(le.CardStringType.LongValue)}s`:""}`:t.toString(le.CardStringType.Long),Ys=(t,e,r,n,a=!1)=>{const i=Js(new le.Cards(e),n,a),o=r>0?` ${r} cards selected: ${new le.Cards(e.slice(e.length-r)).toString(le.CardStringType.Long)}`:"";return`${t}: ${i}.${o}`},Zs=(t,e,r)=>{const n={sourceStack:e,cards:r};t.dataTransfer&&(t.dataTransfer.setData("application/json",JSON.stringify(n)),t.dataTransfer.effectAllowed="move")},Qs=t=>{const{sourceStack:e,cards:r}=JSON.parse(t.dataTransfer?.getData("application/json")??"");return{sourceStack:e,cards:r.map(le.Card.fromJSON)}};var Xs=Q('<div class="nested svelte-1vimvv4"><!></div>'),el=Q('<div role="button"><div><!> <!></div></div>');function ai(t,e){de(e,!1);const r=()=>it(b,"$cardAppearance",n),[n,a]=yt(),i=L(),o=L(),l=L(),s=L(),u=L(),h=L(),b=un();let c=B(e,"cards",24,()=>[]),m=B(e,"capacity",8,4),A=B(e,"closed",8,!1),F=B(e,"index",8,0),p=B(e,"isDraggableFn",8,()=>!1),_=B(e,"selectedCardsN",8,0),d=B(e,"labelOptions",24,()=>({title:"Stack"})),y=B(e,"nested",8,!1);const S=g=>{g.stopPropagation(),Zs(g,F(),c())},O=g=>{g.preventDefault()},w=on(),N=()=>{y()||w("select",{index:F()})};W(()=>r(),()=>{R(i,r().size)}),W(()=>($(m()),v(i)),()=>{R(o,`width: ${gr(m(),v(i))}em`)}),W(()=>($(A()),$(p()),$(c())),()=>{R(l,!A()&&p()(c()))}),W(()=>($(_()),$(c())),()=>{R(s,_()>0&&_()===c().length)}),W(()=>($(A()),$(c())),()=>{R(u,A()&&c().length===1)}),W(()=>($(y()),$(d()),$(c()),$(_()),$(A())),()=>{R(h,y()?void 0:Ys(d().title,c(),_(),A(),d().closed))}),Ze(),_e();var D=el(),j=Ue(()=>ri(["Enter","Space"],N,{preventDefault:!0}));let z;var J=M(D),H=M(J);{var U=g=>{pr(g,{empty:!0})},k=g=>{{let C=$e(()=>(v(u),$(c()),Z(()=>v(u)?null:c()[0])));pr(g,{get card(){return v(C)},stack:"left"})}};ue(H,g=>{$(c()),Z(()=>c().length===0)?g(U):g(k,!1)})}var T=K(H,2);{var f=g=>{var C=Xs(),P=M(C);{let E=$e(()=>($(c()),Z(()=>c().slice(1)))),x=$e(()=>m()-1);ai(P,{get cards(){return v(E)},get capacity(){return v(x)},nested:!0,get closed(){return A()},get index(){return F()},get isDraggableFn(){return p()},get selectedCardsN(){return _()}})}V(g,C)};ue(T,g=>{$(c()),Z(()=>c().length>1)&&g(f)})}ae(()=>{me(D,"aria-label",v(h)),z=he(D,1,"stack svelte-1vimvv4",null,z,{selected:v(s)}),ur(D,v(o)),me(D,"draggable",v(l)),me(D,"tabindex",y()?void 0:0),me(J,"aria-hidden",y()?void 0:"true")}),be("dblclick",D,function(g){Ur.call(this,e,g)}),be("dragstart",D,S),be("dragover",D,O),be("drop",D,function(g){Ur.call(this,e,g)}),be("click",D,N),be("keydown",D,function(...g){v(j)?.apply(this,g)}),V(t,D),ve(),a()}var Vr=Er();const tl=(t,e)=>{const r=t/e;return r<3/4?[3,5]:r<4/3?[4,4]:[5,3]},qn=(t,e)=>({length:t*e-15}),ii=(t,e,r)=>{const n=gr(4,t)*e+(e-1),a=ei(t).height*r+(r-1);return[n,a]},rl=(t,e,r)=>{const n=Math.min(e,r*2.3333333333333335),[a,i]=tl(n,r),[o,l]=ii(t,a,i),s=n*.95/o,u=r*.95/l;return{fontSize:Math.max(Math.min(s,u),10),columns:a,rows:i,tableWidthEm:o,tableHeightEm:l}},Vn=()=>{const t=new le.Deck;return[...Array(13)].map(()=>t.popN(4)).concat([[],[]])},fn=t=>{const[e,...r]=t;return r.every(n=>n.value===e.value)},nl=t=>t.length===0?!1:t.length===1?!0:fn(t),cn=(t,e)=>t.length+e.length>4?!1:e.length===0||e[e.length-1].value===t[0].value,dn=(t,e,r,n)=>{const a=t.map(i=>[...i]);if(!cn(n,a[r]))throw new Error(`Can not move cards ${n.map(i=>i.toString(Vr.CardStringType.ShortEmoji))} from pile ${e} to pile ${r}`);return a[e]=a[e].slice(0,a[e].length-n.length),a[r]=[...a[r],...n],a},vn=t=>t.length===1||fn(t)?t:vn(t.slice(1)),al=(t,e)=>{if(t[e].length===0)throw new Error("Cannot move cards from an empty pile.");if(hn(t[e]))throw new Error("Cannot move cards from a completed pile.");const r=vn(t[e]),n=t.reduce((o,l,s)=>s!==e&&cn(r,l)?[...o,s]:o,[]);if(n.length===0)throw new Error(`Cannot move cards from pile ${e} to any other pile`);const a=n.filter(o=>t[o].length>0),i=a.length>0?a[0]:n[0];return dn(t,e,i,r)},il=(t,e)=>{const r=t[e].slice(-1);return r.length===0?[[],r]:[t.reduce((a,i,o)=>o!==e&&cn(r,i)?[...a,o]:a,[]),r]},oi=t=>t.reduce((e,r,n)=>{const[a,i]=il(t,n);return a.length===0?e:[...e,[n,a,i]]},[]),ol=(t,e)=>{if(t[0]!==e[0]||t[1].length!==e[1].length)return!1;for(let r=0;r<t[1].length;r++)if(t[1][r]!==e[1][r])return!1;return new Vr.Cards(t[2]).toString()===new Vr.Cards(e[2]).toString()},sl=t=>(e,r,n)=>{const[a,i,o]=e,l=[...o];if(i.length>1)return[!1,[]];const s=i[0],u=dn(t,a,s,o),h=oi(u),b=n.filter(([c])=>c!==s).map(c=>c[0]===a?[s,[a],o]:c).sort((c,m)=>c[0]-m[0]);if(h.length-b.length===1){const c=u[a].slice(-2);if(u[s][0]?.value!==o[0].value&&c.length===2&&c.every(m=>m.value===o[0].value))b.push([a,i,[c[1]]]),b.sort((m,A)=>m[0]-A[0]),l.push(c[1]);else return[!1,[]]}return h.length!==b.length?[!1,[]]:[b.every((c,m)=>ol(c,h[m])),l]},ll=t=>{const e=oi(t);if(e.length===0)return["dead-end",[]];const r=e.map(sl(t));return r.every(([n])=>n)&&r.length>0?["infinite-loop",r.reduce((a,i)=>[...a,...i[1]],[])]:[!1,[]]},hn=t=>t.length===4&&fn(t),si=t=>t.every(e=>hn(e)||e.length===0),ul=t=>t.reduce((e,r,n)=>hn(r)?[...e,n]:e,[]),lt=t=>({type:t,timestamp:Date.now()}),fl=t=>{const e={};return t.forEach(({type:r})=>e[r]=(e[r]??0)+1),e},Bn=t=>t.reduce((e,r)=>e+r,0),cl=t=>{const e=t.filter(a=>a.type==="start").map(a=>a.timestamp),r=t.filter(a=>a.type==="stop").map(a=>a.timestamp);if(e.length===0)return[null,null];const n=(r[r.length-1]??Date.now())-e[0];return e.length!==r.length?[null,n]:[Bn(r)-Bn(e),n]},ar=(t,e)=>t>0?`${t}â¯${e}`:"",Hn=t=>{if(t===null)return"N/A";if(t<1e3)return ar(t,"ms");const e=Math.floor(t/36e5),r=Math.floor(t/6e4-e*60),n=Math.floor(t/1e3-r*60-e*3600);return[ar(e,"h"),ar(r,"min"),ar(n,"s")].join(" ").trim()};var dl=Q('<!> <button><!> <span class="title"> </span></button>',1);function li(t,e){let r=B(e,"title",8),n=B(e,"position",8,"center"),a=L(!0);const i=()=>{R(a,!1)},o=()=>{R(a,!0)};var l=dl(),s=Ee(l);{var u=A=>{sn(A,{get title(){return r()},get position(){return n()},closeIcon:"Minimize",$$events:{close:i},children:(F,p)=>{var _=Sr(),d=Ee(_);Tr(d,e,"default",{},null),V(F,_)},$$slots:{default:!0}})};ue(s,A=>{v(a)&&A(u)})}var h=K(s,2),b=M(h);Qa(b,{icon:"OpenModal"});var c=K(b,2),m=M(c);ae(()=>{he(h,1,`minimized-modal ${v(a)?"":"open"}`,"svelte-1ynejnl"),Ae(m,r())}),be("click",h,o),V(t,l)}var vl=Q(`<p>Here are statistics about the completed game. Undo and undone moves are
  excluded from <i>Significant moves</i> but included in <i>Total moves</i>.</p> <table class="svelte-1vplsp7"><tbody><tr><th class="svelte-1vplsp7">Elapsed time:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Significant moves:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Total moves:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Undone moves:</th><td class="svelte-1vplsp7"> </td></tr></tbody></table>`,1);function hl(t,e){de(e,!1);const r=L(),n=L(),a=L();let i=B(e,"events",8);W(()=>$(i()),()=>{R(r,fl(i()))}),W(()=>(v(n),v(a),$(i())),()=>{(O=>{var w=Hr(O,2);R(n,w[0]),R(a,w[1])})(cl(i()))}),Ze(),_e();var o=vl(),l=K(Ee(o),2),s=M(l),u=M(s),h=K(M(u)),b=M(h),c=K(u),m=K(M(c)),A=M(m),F=K(c),p=K(M(F)),_=M(p),d=K(F),y=K(M(d)),S=M(y);ae(O=>{Ae(b,O),Ae(A,(v(r),Z(()=>(v(r).move??0)-(v(r).undo??0)))),Ae(_,(v(r),Z(()=>(v(r).move??0)+(v(r).undo??0)))),Ae(S,(v(r),Z(()=>v(r).undo??0)))},[()=>($(Hn),v(a),Z(()=>Hn(v(a))))]),V(t,o),ve()}var pl=Q('<!> <div class="actions svelte-1gnlsyg"><!></div>',1);function gl(t,e){de(e,!1);const r=L();let n=B(e,"events",8),a=B(e,"piles",8);const i=on();W(()=>$(a()),()=>{R(r,si(a()))}),Ze(),_e();var o=Sr(),l=Ee(o);{var s=u=>{li(u,{title:"Completed",children:(h,b)=>{var c=pl(),m=Ee(c);hl(m,{get events(){return n()}});var A=K(m,2),F=M(A);et(F,{icon:"Shuffle",label:"Shuffle",onClick:()=>i("shuffle")}),V(h,c)},$$slots:{default:!0}})};ue(l,u=>{v(r)&&u(s)})}V(t,o),ve()}const bl=(t,e=le.CardStringType.Long)=>{const r=t.map(a=>a.toString(e)),n=[r.slice(0,-1).join(", "),...r.slice(-1)].filter(a=>a).join(" and ");return n.charAt(0).toUpperCase()+n.slice(1)};var ml=Q("<p>No more possible moves. Undo the last move or start a new game.</p>"),yl=Q("<p> </p>"),_l=Q('<!> <!> <div class="actions svelte-1o3xc0i"><!> <!></div>',1);function wl(t,e){de(e,!0);const r=Ue(()=>ll(e.piles)),n=Ue(()=>Hr(v(r),2)),a=Ue(()=>v(n)[0]),i=Ue(()=>v(n)[1]),o=Ue(()=>bl(v(i)));var l=Sr(),s=Ee(l);{var u=h=>{li(h,{title:"Dead end",children:(b,c)=>{var m=_l(),A=Ee(m);{var F=O=>{var w=ml();V(O,w)};ue(A,O=>{v(a)==="dead-end"&&O(F)})}var p=K(A,2);{var _=O=>{var w=yl(),N=M(w);ae(()=>Ae(N,`${v(o)??""} can be moved back and forth between two piles. There are no
        other possible moves. Undo the last move or start a new game.`)),V(O,w)};ue(p,O=>{v(a)==="infinite-loop"&&O(_)})}var d=K(p,2),y=M(d);et(y,{icon:"Shuffle",label:"Shuffle",get onClick(){return e.shuffle}});var S=K(y,2);et(S,{icon:"Undo",label:"Undo",get onClick(){return e.undo}}),V(b,m)},$$slots:{default:!0}})};ue(s,h=>{v(a)&&h(u)})}V(t,l),ve()}var Sl=Q(`<p>The goal of the pileon solitaire is to rearrange a deck of cards into piles
    of equal ranks from thirteen random piles of four using fifteen piles.</p> <h3>Rules</h3> <ul><li>Each pile can contain up to four cards.</li> <li>Cards can be moved from top of the pile into a pile where the top card is
      of the same rank as the card that is moved.</li> <li>Cards of any rank can be moved into an empty pile.</li> <li>Multiple cards with the same rank can be moved at once.</li> <li>Pile is complete when it contains all four cards with the same rank.</li></ul> <h3>Moving cards</h3> <ol><li>Select the source pile by clicking a pile. Cards to be moved are
      highlighted. Click the source pile again to reduce the amount of selected
      cards.</li> <li>Move cards by clicking the target pile. If the move is valid, the cards
      are moved from the source pile into the target pile.</li></ol> <p>If your device supports drag-and-drop, you can also drag the cards you want
    to move from the source pile into the target pile. Double-clicking the
    source pile automatically moves cards from the pile to an available target
    pile.</p>`,1);function Tl(t,e){sn(t,{title:"How to play?",$$events:{close(r){Ur.call(this,e,r)}},children:(r,n)=>{var a=Sl();V(r,a)},$$slots:{default:!0}})}var El=Q('<div class="pile svelte-17eyygh"><!></div>'),kl=Q('<div class="pile svelte-17eyygh"></div>'),Cl=Q("<main><!> <!></main> <!> <!> <!>",1);function Wn(t,e){de(e,!1);const r=()=>it(F,"$appearance",n),[n,a]=yt(),i=L(),o=L(),l=L(),s=L(),u=L(),h=L(),b=L(),c=L();let m=L(),A=L(),F=ti(E=>({size:E.size==="default"?"bridge":E.size,fourColor:E.colors==="four-color"})),p=L([Vn()]),_=L([lt("start")]),d=L(!1);const y=E=>{E.stopPropagation(),R(d,!0)},S=E=>{E.stopPropagation(),R(w,[void 0,[]]),R(p,[Vn()]),R(_,[lt("start")])},O=E=>{E.stopPropagation(),v(p).length>1&&(R(w,[void 0,[]]),R(p,v(p).slice(0,v(p).length-1)),R(_,[...v(_),lt("undo")]))};let w=L([void 0,[]]);const N=(E,x,I)=>{try{R(w,[void 0,[]]);const q=dn(v(p)[v(p).length-1],E,x,I);R(p,[...v(p),q]),R(_,[...v(_),lt("move")])}catch{}},D=E=>{const[x,I]=v(w),q=E.detail.index;v(o).includes(q)||(x===void 0||I.length===0?R(w,[q,vn(v(i)[q])]):x===q?R(w,[q,I.slice(1)]):x!==q&&(N(x,q,I),R(w,[void 0,[]])))},j=E=>x=>{x.preventDefault();const{sourceStack:I,cards:q}=Qs(x);I!==E&&N(I,E,q)},z=E=>x=>{x.preventDefault();try{R(w,[void 0,[]]);const I=al(v(p)[v(p).length-1],E);R(p,[...v(p),I]),R(_,[...v(_),lt("move")])}catch{}};er(()=>{Mt.update(E=>({...E,help:y,shuffle:S,undo:O}))}),za(()=>{Mt.update(E=>({...E,help:void 0,shuffle:void 0,undo:void 0}))}),W(()=>(v(m),v(A),zn),()=>{const E=v(m)<800||v(A)<400?"small":"bridge";zn(x=>({size:x.size==="default"?E:x.size,fourColor:x.colors==="four-color"}))}),W(()=>v(p),()=>{R(i,v(p)[v(p).length-1])}),W(()=>v(i),()=>{R(o,ul(v(i)))}),W(()=>(v(i),v(_),lt),()=>{si(v(i))&&v(_).push(lt("stop"))}),W(()=>v(w),()=>{R(l,v(w)[0])}),W(()=>v(w),()=>{R(s,v(w)[1])}),W(()=>r(),()=>{R(u,r().size)}),W(()=>(v(u),v(m),v(A)),()=>{R(h,rl(v(u),v(m),v(A)))}),W(()=>(v(b),v(c),v(u)),()=>{(E=>{var x=Hr(E,2);R(b,x[0]),R(c,x[1])})(ii(v(u),5,3))}),Ze(),_e();var J=Cl(),H=Ee(J);let U;var k=M(H);Rt(k,1,()=>v(i),Jt,(E,x,I)=>{var q=El(),ee=M(q),te=Ue(()=>j(I)),pe=Ue(()=>z(I));{let we=$e(()=>(v(o),Z(()=>v(o).includes(I)))),ot=$e(()=>(v(l),v(s),Z(()=>v(l)===I?v(s).length:0)));ai(ee,{get cards(){return v(x)},get closed(){return v(we)},get selectedCardsN(){return v(ot)},labelOptions:{title:`Stack ${I+1}`,closed:"rank"},index:I,get isDraggableFn(){return nl},$$events:{drop(...Fe){v(te)?.apply(this,Fe)},dblclick(...Fe){v(pe)?.apply(this,Fe)},select:D}})}V(E,q)});var T=K(k,2);Rt(T,1,()=>($(qn),v(h),Z(()=>qn(v(h).columns,v(h).rows))),Jt,(E,x,I,q)=>{var ee=kl();ae(te=>ur(ee,te),[()=>($(gr),v(u),Z(()=>`min-width: ${gr(4,v(u))}em`))]),V(E,ee)});var f=K(H,2);{var g=E=>{Tl(E,{$$events:{close:()=>{R(d,!1)}}})};ue(f,E=>{v(d)&&E(g)})}var C=K(f,2);gl(C,{get events(){return v(_)},get piles(){return v(i)},$$events:{shuffle:S}});var P=K(C,2);wl(P,{get piles(){return v(i)},shuffle:S,undo:O}),ae(()=>{he(H,1,`pileon deal-${v(h),Z(()=>v(h).columns)??""}x${v(h),Z(()=>v(h).rows)??""}`,"svelte-17eyygh"),U=ur(H,"",U,{"font-size":`${v(h),Z(()=>v(h).fontSize)??""}px`,"max-width":`${v(b)*1.25}em`})}),Cn(H,"clientHeight",E=>R(A,E)),Cn(H,"clientWidth",E=>R(m,E)),V(t,J),ve(),a()}var Al=Q("<!> <!> <!>",1);function Ol(t,e){de(e,!1);const r=()=>it(It,"$settings",a),n=()=>it(Mt,"$actions",a),[a,i]=yt(),o=L(),l=c=>{c.key==="z"&&(c.ctrlKey||c.metaKey)&&n().undo!==void 0&&n().undo(c),c.key==="F1"&&n().help!==void 0&&n().help(c)};W(()=>(r(),Wn),()=>{R(o,r().game==="deck"?Gs:Wn)}),Ze(),_e();var s=Al();be("keydown",ga.body,l);var u=Ee(s);Es(u,{});var h=K(u,2);Eo(h,()=>v(o),(c,m)=>{m(c,{})});var b=K(h,2);jo(b,{}),V(t,s),ve(),i()}mo(Ol,{target:document.body});
