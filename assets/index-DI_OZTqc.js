(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const Pr=!1;var pr=Array.isArray,ra=Array.prototype.indexOf,gr=Array.from,Bn=Object.defineProperty,Et=Object.getOwnPropertyDescriptor,Hn=Object.getOwnPropertyDescriptors,na=Object.prototype,ia=Array.prototype,Vr=Object.getPrototypeOf,dn=Object.isExtensible;const Ct=()=>{};function aa(t){return t()}function Dr(t){for(var e=0;e<t.length;e++)t[e]()}function Wn(){var t,e,r=new Promise((n,i)=>{t=n,e=i});return{promise:r,resolve:t,reject:e}}function Br(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const r=[];for(const n of t)if(r.push(n),r.length===e)break;return r}const ue=2,Hr=4,br=8,oa=1<<24,Be=16,He=32,pt=64,mr=128,Pe=512,oe=1024,ye=2048,De=4096,Se=8192,ze=16384,Wr=32768,ft=65536,vn=1<<17,Gn=1<<18,Mt=1<<19,Jn=1<<20,Ke=1<<25,ct=32768,Fr=1<<21,Gr=1<<22,Qe=1<<23,ot=Symbol("$state"),sa=Symbol("legacy props"),la=Symbol(""),wt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function yr(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ua(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function fa(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ca(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function da(t){throw new Error("https://svelte.dev/e/effect_orphan")}function va(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ha(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function pa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ga(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ba(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ma(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ya=1,_a=2,Yn=4,wa=8,Sa=16,Ta=1,Ea=2,Ca=4,ka=8,Aa=16,Oa=1,Na=2,de=Symbol(),Pa="http://www.w3.org/1999/xhtml";function Da(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Zn(t){return t===this.v}function Qn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Xn(t){return!Qn(t,this.v)}let Rt=!1,Fa=!1;function xa(){Rt=!0}let X=null;function kt(t){X=t}function ei(t){return ti().get(t)}function Ma(t,e){return ti().set(t,e),e}function fe(t,e=!1,r){X={p:X,i:!1,c:null,e:null,s:t,x:null,l:Rt&&!e?{s:null,u:null,$:[]}:null}}function ce(t){var e=X,r=e.e;if(r!==null){e.e=null;for(var n of r)pi(n)}return e.i=!0,X=e.p,{}}function Yt(){return!Rt||X!==null&&X.l===null}function ti(t){return X===null&&yr(),X.c??=new Map(Ra(X)||void 0)}function Ra(t){let e=t.p;for(;e!==null;){const r=e.c;if(r!==null)return r;e=e.p}return null}let St=[];function La(){var t=St;St=[],Dr(t)}function Lt(t){if(St.length===0){var e=St;queueMicrotask(()=>{e===St&&La()})}St.push(t)}function ri(t){var e=Y;if(e===null)return G.f|=Qe,t;if((e.f&Wr)===0){if((e.f&mr)===0)throw t;e.b.error(t)}else At(t,e)}function At(t,e){for(;e!==null;){if((e.f&mr)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw t}const er=new Set;let te=null,ke=null,Fe=[],Jr=null,xr=!1;class Me{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#a=new Set;#i=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(e){Fe=[],this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const n of e)this.#o(n,r);this.is_fork||this.#f(),this.is_deferred()?(this.#s(r.effects),this.#s(r.render_effects)):(te=null,hn(r.render_effects),hn(r.effects),this.#l?.resolve()),ke=null}#o(e,r){e.f^=oe;for(var n=e.first;n!==null;){var i=n.f,a=(i&(He|pt))!==0,o=a&&(i&oe)!==0,u=o||(i&Se)!==0||this.skipped_effects.has(n);if((n.f&mr)!==0&&n.b?.is_pending()&&(r={parent:r,effect:n,effects:[],render_effects:[]}),!u&&n.fn!==null){a?n.f^=oe:(i&Hr)!==0?r.effects.push(n):It(n)&&((n.f&Be)!==0&&this.#a.add(n),Pt(n));var s=n.first;if(s!==null){n=s;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)l===r.effect&&(this.#s(r.effects),this.#s(r.render_effects),r=r.parent),n=l.next,l=l.parent}}#s(e){for(const r of e)(r.f&ye)!==0?this.#a.add(r):(r.f&De)!==0&&this.#i.add(r),this.#u(r.deps),le(r,oe)}#u(e){if(e!==null)for(const r of e)(r.f&ue)===0||(r.f&ct)===0||(r.f^=ct,this.#u(r.deps))}capture(e,r){this.previous.has(e)||this.previous.set(e,r),(e.f&Qe)===0&&(this.current.set(e,e.v),ke?.set(e,e.v))}activate(){te=this,this.apply()}deactivate(){te===this&&(te=null,ke=null)}flush(){if(this.activate(),Fe.length>0){if(Ia(),te!==null&&te!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#f(){if(this.#n===0){for(const e of this.#e)e();this.#e.clear()}this.#r===0&&this.#c()}#c(){if(er.size>1){this.previous.clear();var e=ke,r=!0,n={parent:null,effect:null,effects:[],render_effects:[]};for(const a of er){if(a===this){r=!1;continue}const o=[];for(const[s,l]of this.current){if(a.current.has(s))if(r&&l!==a.current.get(s))a.current.set(s,l);else continue;o.push(s)}if(o.length===0)continue;const u=[...a.current.keys()].filter(s=>!this.current.has(s));if(u.length>0){var i=Fe;Fe=[];const s=new Set,l=new Map;for(const v of o)ni(v,u,s,l);if(Fe.length>0){te=a,a.apply();for(const v of Fe)a.#o(v,n);a.deactivate()}Fe=i}}te=null,ke=e}this.committed=!0,er.delete(this)}increment(e){this.#r+=1,e&&(this.#n+=1)}decrement(e){this.#r-=1,e&&(this.#n-=1),this.revive()}revive(){for(const e of this.#a)this.#i.delete(e),le(e,ye),dt(e);for(const e of this.#i)le(e,De),dt(e);this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=Wn()).promise}static ensure(){if(te===null){const e=te=new Me;er.add(te),Me.enqueue(()=>{te===e&&e.flush()})}return te}static enqueue(e){Lt(e)}apply(){}}function Ia(){var t=lt;xr=!0;var e=null;try{var r=0;for(ar(!0);Fe.length>0;){var n=Me.ensure();if(r++>1e3){var i,a;$a()}n.process(Fe),Xe.clear()}}finally{xr=!1,ar(t),Jr=null}}function $a(){try{va()}catch(t){At(t,Jr)}}let Ue=null;function hn(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var n=t[r++];if((n.f&(ze|Se))===0&&It(n)&&(Ue=new Set,Pt(n),n.deps===null&&n.first===null&&n.nodes===null&&(n.teardown===null&&n.ac===null?yi(n):n.fn=null),Ue?.size>0)){Xe.clear();for(const i of Ue){if((i.f&(ze|Se))!==0)continue;const a=[i];let o=i.parent;for(;o!==null;)Ue.has(o)&&(Ue.delete(o),a.push(o)),o=o.parent;for(let u=a.length-1;u>=0;u--){const s=a[u];(s.f&(ze|Se))===0&&Pt(s)}}Ue.clear()}}Ue=null}}function ni(t,e,r,n){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const i of t.reactions){const a=i.f;(a&ue)!==0?ni(i,e,r,n):(a&(Gr|Be))!==0&&(a&ye)===0&&ii(i,e,n)&&(le(i,ye),dt(i))}}function ii(t,e,r){const n=r.get(t);if(n!==void 0)return n;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&ue)!==0&&ii(i,e,r))return r.set(i,!0),!0}return r.set(t,!1),!1}function dt(t){for(var e=Jr=t;e.parent!==null;){e=e.parent;var r=e.f;if(xr&&e===Y&&(r&Be)!==0&&(r&Gn)===0)return;if((r&(pt|He))!==0){if((r&oe)===0)return;e.f^=oe}}Fe.push(e)}function ja(t){let e=0,r=vt(0),n;return()=>{Bt()&&(c(r),_r(()=>(e===0&&(n=Z(()=>t(()=>qt(r)))),e+=1,()=>{Lt(()=>{e-=1,e===0&&(n?.(),n=void 0,qt(r))})})))}}var Ua=ft|Mt|mr;function Ka(t,e,r){new za(t,e,r)}class za{parent;#e=!1;#t;#r=null;#n;#l;#a;#i=null;#o=null;#s=null;#u=null;#f=null;#c=0;#d=0;#h=!1;#v=null;#y=ja(()=>(this.#v=vt(this.#c),()=>{this.#v=null}));constructor(e,r,n){this.#t=e,this.#n=r,this.#l=n,this.parent=Y.b,this.#e=!!this.#n.pending,this.#a=wr(()=>{Y.b=this;{var i=this.#b();try{this.#i=Ce(()=>n(i))}catch(a){this.error(a)}this.#d>0?this.#g():this.#e=!1}return()=>{this.#f?.remove()}},Ua)}#_(){try{this.#i=Ce(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#w(){const e=this.#n.pending;e&&(this.#o=Ce(()=>e(this.#t)),Me.enqueue(()=>{var r=this.#b();this.#i=this.#p(()=>(Me.ensure(),Ce(()=>this.#l(r)))),this.#d>0?this.#g():(st(this.#o,()=>{this.#o=null}),this.#e=!1)}))}#b(){var e=this.#t;return this.#e&&(this.#f=qe(),this.#t.before(this.#f),e=this.#f),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#p(e){var r=Y,n=G,i=X;Le(this.#a),ge(this.#a),kt(this.#a.ctx);try{return e()}catch(a){return ri(a),null}finally{Le(r),ge(n),kt(i)}}#g(){const e=this.#n.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#f),Si(this.#i,this.#u)),this.#o===null&&(this.#o=Ce(()=>e(this.#t)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}this.#d+=e,this.#d===0&&(this.#e=!1,this.#o&&st(this.#o,()=>{this.#o=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(e){this.#m(e),this.#c+=e,this.#v&&Ot(this.#v,this.#c)}get_effect_pending(){return this.#y(),c(this.#v)}error(e){var r=this.#n.onerror;let n=this.#n.failed;if(this.#h||!r&&!n)throw e;this.#i&&(me(this.#i),this.#i=null),this.#o&&(me(this.#o),this.#o=null),this.#s&&(me(this.#s),this.#s=null);var i=!1,a=!1;const o=()=>{if(i){Da();return}i=!0,a&&ma(),Me.ensure(),this.#c=0,this.#s!==null&&st(this.#s,()=>{this.#s=null}),this.#e=this.has_pending_snippet(),this.#i=this.#p(()=>(this.#h=!1,Ce(()=>this.#l(this.#t)))),this.#d>0?this.#g():this.#e=!1};var u=G;try{ge(null),a=!0,r?.(e,o),a=!1}catch(s){At(s,this.#a&&this.#a.parent)}finally{ge(u)}n&&Lt(()=>{this.#s=this.#p(()=>{Me.ensure(),this.#h=!0;try{return Ce(()=>{n(this.#t,()=>e,()=>o)})}catch(s){return At(s,this.#a.parent),null}finally{this.#h=!1}})})}}function qa(t,e,r,n){const i=Yt()?Zt:Ne;if(r.length===0&&t.length===0){n(e.map(i));return}var a=te,o=Y,u=Va();function s(){Promise.all(r.map(l=>Ba(l))).then(l=>{u();try{n([...e.map(i),...l])}catch(v){(o.f&ze)===0&&At(v,o)}a?.deactivate(),ir()}).catch(l=>{At(l,o)})}t.length>0?Promise.all(t).then(()=>{u();try{return s()}finally{a?.deactivate(),ir()}}):s()}function Va(){var t=Y,e=G,r=X,n=te;return function(a=!0){Le(t),ge(e),kt(r),a&&n?.activate()}}function ir(){Le(null),ge(null),kt(null)}function Zt(t){var e=ue|ye,r=G!==null&&(G.f&ue)!==0?G:null;return Y!==null&&(Y.f|=Mt),{ctx:X,deps:null,effects:null,equals:Zn,f:e,fn:t,reactions:null,rv:0,v:de,wv:0,parent:r??Y,ac:null}}function Ba(t,e){let r=Y;r===null&&ua();var n=r.b,i=void 0,a=vt(de),o=!G,u=new Map;return Xa(()=>{var s=Wn();i=s.promise;try{Promise.resolve(t()).then(s.resolve,s.reject).then(()=>{l===te&&l.committed&&l.deactivate(),ir()})}catch(d){s.reject(d),ir()}var l=te;if(o){var v=!n.is_pending();n.update_pending_count(1),l.increment(v),u.get(l)?.reject(wt),u.delete(l),u.set(l,s)}const b=(d,m=void 0)=>{if(l.activate(),m)m!==wt&&(a.f|=Qe,Ot(a,m));else{(a.f&Qe)!==0&&(a.f^=Qe),Ot(a,d);for(const[O,M]of u){if(u.delete(O),O===l)break;M.reject(wt)}}o&&(n.update_pending_count(-1),l.decrement(v))};s.promise.then(b,d=>b(null,d||"unknown"))}),Qr(()=>{for(const s of u.values())s.reject(wt)}),new Promise(s=>{function l(v){function b(){v===i?s(a):l(i)}v.then(b,b)}l(i)})}function xe(t){const e=Zt(t);return Ti(e),e}function Ne(t){const e=Zt(t);return e.equals=Xn,e}function ai(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)me(e[r])}}function Ha(t){for(var e=t.parent;e!==null;){if((e.f&ue)===0)return(e.f&ze)===0?e:null;e=e.parent}return null}function Yr(t){var e,r=Y;Le(Ha(t));try{t.f&=~ct,ai(t),e=Ai(t)}finally{Le(r)}return e}function oi(t){var e=Yr(t);if(t.equals(e)||(te?.is_fork||(t.v=e),t.wv=Ci()),!gt)if(ke!==null)(Bt()||te?.is_fork)&&ke.set(t,e);else{var r=(t.f&Pe)===0?De:oe;le(t,r)}}let Mr=new Set;const Xe=new Map;let si=!1;function vt(t,e){var r={f:0,v:t,reactions:null,equals:Zn,rv:0,wv:0};return r}function Je(t,e){const r=vt(t);return Ti(r),r}function $(t,e=!1,r=!0){const n=vt(t);return e||(n.equals=Xn),Rt&&r&&X!==null&&X.l!==null&&(X.l.s??=[]).push(n),n}function x(t,e,r=!1){G!==null&&(!Re||(G.f&vn)!==0)&&Yt()&&(G.f&(ue|Be|Gr|vn))!==0&&!Ve?.includes(t)&&ba();let n=r?Tt(e):e;return Ot(t,n)}function Ot(t,e){if(!t.equals(e)){var r=t.v;gt?Xe.set(t,e):Xe.set(t,r),t.v=e;var n=Me.ensure();n.capture(t,r),(t.f&ue)!==0&&((t.f&ye)!==0&&Yr(t),le(t,(t.f&Pe)!==0?oe:De)),t.wv=Ci(),li(t,ye),Yt()&&Y!==null&&(Y.f&oe)!==0&&(Y.f&(He|pt))===0&&(Ee===null?ro([t]):Ee.push(t)),!n.is_fork&&Mr.size>0&&!si&&Wa()}return e}function Wa(){si=!1;var t=lt;ar(!0);const e=Array.from(Mr);try{for(const r of e)(r.f&oe)!==0&&le(r,De),It(r)&&Pt(r)}finally{ar(t)}Mr.clear()}function qt(t){x(t,t.v+1)}function li(t,e){var r=t.reactions;if(r!==null)for(var n=Yt(),i=r.length,a=0;a<i;a++){var o=r[a],u=o.f;if(!(!n&&o===Y)){var s=(u&ye)===0;if(s&&le(o,e),(u&ue)!==0){var l=o;ke?.delete(l),(u&ct)===0&&(u&Pe&&(o.f|=ct),li(l,De))}else s&&((u&Be)!==0&&Ue!==null&&Ue.add(o),dt(o))}}}function Tt(t){if(typeof t!="object"||t===null||ot in t)return t;const e=Vr(t);if(e!==na&&e!==ia)return t;var r=new Map,n=pr(t),i=Je(0),a=ut,o=u=>{if(ut===a)return u();var s=G,l=ut;ge(null),gn(a);var v=u();return ge(s),gn(l),v};return n&&r.set("length",Je(t.length)),new Proxy(t,{defineProperty(u,s,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&pa();var v=r.get(s);return v===void 0?v=o(()=>{var b=Je(l.value);return r.set(s,b),b}):x(v,l.value,!0),!0},deleteProperty(u,s){var l=r.get(s);if(l===void 0){if(s in u){const v=o(()=>Je(de));r.set(s,v),qt(i)}}else x(l,de),qt(i);return!0},get(u,s,l){if(s===ot)return t;var v=r.get(s),b=s in u;if(v===void 0&&(!b||Et(u,s)?.writable)&&(v=o(()=>{var m=Tt(b?u[s]:de),O=Je(m);return O}),r.set(s,v)),v!==void 0){var d=c(v);return d===de?void 0:d}return Reflect.get(u,s,l)},getOwnPropertyDescriptor(u,s){var l=Reflect.getOwnPropertyDescriptor(u,s);if(l&&"value"in l){var v=r.get(s);v&&(l.value=c(v))}else if(l===void 0){var b=r.get(s),d=b?.v;if(b!==void 0&&d!==de)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return l},has(u,s){if(s===ot)return!0;var l=r.get(s),v=l!==void 0&&l.v!==de||Reflect.has(u,s);if(l!==void 0||Y!==null&&(!v||Et(u,s)?.writable)){l===void 0&&(l=o(()=>{var d=v?Tt(u[s]):de,m=Je(d);return m}),r.set(s,l));var b=c(l);if(b===de)return!1}return v},set(u,s,l,v){var b=r.get(s),d=s in u;if(n&&s==="length")for(var m=l;m<b.v;m+=1){var O=r.get(m+"");O!==void 0?x(O,de):m in u&&(O=o(()=>Je(de)),r.set(m+"",O))}if(b===void 0)(!d||Et(u,s)?.writable)&&(b=o(()=>Je(void 0)),x(b,Tt(l)),r.set(s,b));else{d=b.v!==de;var M=o(()=>Tt(l));x(b,M)}var p=Reflect.getOwnPropertyDescriptor(u,s);if(p?.set&&p.set.call(v,l),!d){if(n&&typeof s=="string"){var _=r.get("length"),f=Number(s);Number.isInteger(f)&&f>=_.v&&x(_,f+1)}qt(i)}return!0},ownKeys(u){c(i);var s=Reflect.ownKeys(u).filter(b=>{var d=r.get(b);return d===void 0||d.v!==de});for(var[l,v]of r)v.v!==de&&!(l in u)&&s.push(l);return s},setPrototypeOf(){ga()}})}var Rr,ui,fi,ci,di;function Ga(){if(Rr===void 0){Rr=window,ui=document,fi=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;ci=Et(e,"firstChild").get,di=Et(e,"nextSibling").get,dn(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),dn(r)&&(r.__t=void 0)}}function qe(t=""){return document.createTextNode(t)}function Nt(t){return ci.call(t)}function Qt(t){return di.call(t)}function I(t,e){return Nt(t)}function Te(t,e=!1){{var r=Nt(t);return r instanceof Comment&&r.data===""?Qt(r):r}}function z(t,e=1,r=!1){let n=t;for(;e--;)n=Qt(n);return n}function Ja(t){t.textContent=""}function vi(){return!1}function Zr(t){var e=G,r=Y;ge(null),Le(null);try{return t()}finally{ge(e),Le(r)}}function hi(t){Y===null&&(G===null&&da(),ca()),gt&&fa()}function Ya(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Ie(t,e,r){var n=Y;n!==null&&(n.f&Se)!==0&&(t|=Se);var i={ctx:X,deps:null,nodes:null,f:t|ye|Pe,first:null,fn:e,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{Pt(i),i.f|=Wr}catch(u){throw me(i),u}else e!==null&&dt(i);var a=i;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&Mt)===0&&(a=a.first,(t&Be)!==0&&(t&ft)!==0&&a!==null&&(a.f|=ft)),a!==null&&(a.parent=n,n!==null&&Ya(a,n),G!==null&&(G.f&ue)!==0&&(t&pt)===0)){var o=G;(o.effects??=[]).push(a)}return i}function Bt(){return G!==null&&!Re}function Qr(t){const e=Ie(br,null,!1);return le(e,oe),e.teardown=t,e}function Lr(t){hi();var e=Y.f,r=!G&&(e&He)!==0&&(e&Wr)===0;if(r){var n=X;(n.e??=[]).push(t)}else return pi(t)}function pi(t){return Ie(Hr|Jn,t,!1)}function Za(t){return hi(),Ie(br|Jn,t,!0)}function Qa(t){Me.ensure();const e=Ie(pt|Mt,t,!0);return(r={})=>new Promise(n=>{r.outro?st(e,()=>{me(e),n(void 0)}):(me(e),n(void 0))})}function gi(t){return Ie(Hr,t,!1)}function H(t,e){var r=X,n={effect:null,ran:!1,deps:t};r.l.$.push(n),n.effect=_r(()=>{t(),!n.ran&&(n.ran=!0,Z(e))})}function We(){var t=X;_r(()=>{for(var e of t.l.$){e.deps();var r=e.effect;(r.f&oe)!==0&&le(r,De),It(r)&&Pt(r),e.ran=!1}})}function Xa(t){return Ie(Gr|Mt,t,!0)}function _r(t,e=0){return Ie(br|e,t,!0)}function re(t,e=[],r=[],n=[]){qa(n,e,r,i=>{Ie(br,()=>t(...i.map(c)),!0)})}function wr(t,e=0){var r=Ie(Be|e,t,!0);return r}function Ce(t){return Ie(He|Mt,t,!0)}function bi(t){var e=t.teardown;if(e!==null){const r=gt,n=G;pn(!0),ge(null);try{e.call(null)}finally{pn(r),ge(n)}}}function mi(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const i=r.ac;i!==null&&Zr(()=>{i.abort(wt)});var n=r.next;(r.f&pt)!==0?r.parent=null:me(r,e),r=n}}function eo(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&He)===0&&me(e),e=r}}function me(t,e=!0){var r=!1;(e||(t.f&Gn)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(to(t.nodes.start,t.nodes.end),r=!0),mi(t,e&&!r),or(t,0),le(t,ze);var n=t.nodes&&t.nodes.t;if(n!==null)for(const a of n)a.stop();bi(t);var i=t.parent;i!==null&&i.first!==null&&yi(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function to(t,e){for(;t!==null;){var r=t===e?null:Qt(t);t.remove(),t=r}}function yi(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function st(t,e,r=!0){var n=[];_i(t,n,!0);var i=()=>{r&&me(t),e&&e()},a=n.length;if(a>0){var o=()=>--a||i();for(var u of n)u.out(o)}else i()}function _i(t,e,r){if((t.f&Se)===0){t.f^=Se;var n=t.nodes&&t.nodes.t;if(n!==null)for(const u of n)(u.is_global||r)&&e.push(u);for(var i=t.first;i!==null;){var a=i.next,o=(i.f&ft)!==0||(i.f&He)!==0&&(t.f&Be)!==0;_i(i,e,o?r:!1),i=a}}}function Xr(t){wi(t,!0)}function wi(t,e){if((t.f&Se)!==0){t.f^=Se,(t.f&oe)===0&&(le(t,ye),dt(t));for(var r=t.first;r!==null;){var n=r.next,i=(r.f&ft)!==0||(r.f&He)!==0;wi(r,i?e:!1),r=n}var a=t.nodes&&t.nodes.t;if(a!==null)for(const o of a)(o.is_global||e)&&o.in()}}function Si(t,e){if(t.nodes)for(var r=t.nodes.start,n=t.nodes.end;r!==null;){var i=r===n?null:Qt(r);e.append(r),r=i}}let lt=!1;function ar(t){lt=t}let gt=!1;function pn(t){gt=t}let G=null,Re=!1;function ge(t){G=t}let Y=null;function Le(t){Y=t}let Ve=null;function Ti(t){G!==null&&(Ve===null?Ve=[t]:Ve.push(t))}let ve=null,we=0,Ee=null;function ro(t){Ee=t}let Ei=1,Ht=0,ut=Ht;function gn(t){ut=t}function Ci(){return++Ei}function It(t){var e=t.f;if((e&ye)!==0)return!0;if(e&ue&&(t.f&=~ct),(e&De)!==0){var r=t.deps;if(r!==null)for(var n=r.length,i=0;i<n;i++){var a=r[i];if(It(a)&&oi(a),a.wv>t.wv)return!0}(e&Pe)!==0&&ke===null&&le(t,oe)}return!1}function ki(t,e,r=!0){var n=t.reactions;if(n!==null&&!Ve?.includes(t))for(var i=0;i<n.length;i++){var a=n[i];(a.f&ue)!==0?ki(a,e,!1):e===a&&(r?le(a,ye):(a.f&oe)!==0&&le(a,De),dt(a))}}function Ai(t){var e=ve,r=we,n=Ee,i=G,a=Ve,o=X,u=Re,s=ut,l=t.f;ve=null,we=0,Ee=null,G=(l&(He|pt))===0?t:null,Ve=null,kt(t.ctx),Re=!1,ut=++Ht,t.ac!==null&&(Zr(()=>{t.ac.abort(wt)}),t.ac=null);try{t.f|=Fr;var v=t.fn,b=v(),d=t.deps;if(ve!==null){var m;if(or(t,we),d!==null&&we>0)for(d.length=we+ve.length,m=0;m<ve.length;m++)d[we+m]=ve[m];else t.deps=d=ve;if(Bt()&&(t.f&Pe)!==0)for(m=we;m<d.length;m++)(d[m].reactions??=[]).push(t)}else d!==null&&we<d.length&&(or(t,we),d.length=we);if(Yt()&&Ee!==null&&!Re&&d!==null&&(t.f&(ue|De|ye))===0)for(m=0;m<Ee.length;m++)ki(Ee[m],t);return i!==null&&i!==t&&(Ht++,Ee!==null&&(n===null?n=Ee:n.push(...Ee))),(t.f&Qe)!==0&&(t.f^=Qe),b}catch(O){return ri(O)}finally{t.f^=Fr,ve=e,we=r,Ee=n,G=i,Ve=a,kt(o),Re=u,ut=s}}function no(t,e){let r=e.reactions;if(r!==null){var n=ra.call(r,t);if(n!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(e.f&ue)!==0&&(ve===null||!ve.includes(e))&&(le(e,De),(e.f&Pe)!==0&&(e.f^=Pe,e.f&=~ct),ai(e),or(e,0))}function or(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)no(t,r[n])}function Pt(t){var e=t.f;if((e&ze)===0){le(t,oe);var r=Y,n=lt;Y=t,lt=!0;try{(e&(Be|oa))!==0?eo(t):mi(t),bi(t);var i=Ai(t);t.teardown=typeof i=="function"?i:null,t.wv=Ei;var a;Pr&&Fa&&(t.f&ye)!==0&&t.deps}finally{lt=n,Y=r}}}function c(t){var e=t.f,r=(e&ue)!==0;if(G!==null&&!Re){var n=Y!==null&&(Y.f&ze)!==0;if(!n&&!Ve?.includes(t)){var i=G.deps;if((G.f&Fr)!==0)t.rv<Ht&&(t.rv=Ht,ve===null&&i!==null&&i[we]===t?we++:ve===null?ve=[t]:ve.includes(t)||ve.push(t));else{(G.deps??=[]).push(t);var a=t.reactions;a===null?t.reactions=[G]:a.includes(G)||a.push(G)}}}if(gt){if(Xe.has(t))return Xe.get(t);if(r){var o=t,u=o.v;return((o.f&oe)===0&&o.reactions!==null||Ni(o))&&(u=Yr(o)),Xe.set(o,u),u}}else r&&(!ke?.has(t)||te?.is_fork&&!Bt())&&(o=t,It(o)&&oi(o),lt&&Bt()&&(o.f&Pe)===0&&Oi(o));if(ke?.has(t))return ke.get(t);if((t.f&Qe)!==0)throw t.v;return t.v}function Oi(t){if(t.deps!==null){t.f^=Pe;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&ue)!==0&&(e.f&Pe)===0&&Oi(e)}}function Ni(t){if(t.v===de)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Xe.has(e)||(e.f&ue)!==0&&Ni(e))return!0;return!1}function Z(t){var e=Re;try{return Re=!0,t()}finally{Re=e}}const io=-7169;function le(t,e){t.f=t.f&io|e}function j(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(ot in t)Ir(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&ot in r&&Ir(r)}}}function Ir(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{Ir(t[n],e)}catch{}const r=Vr(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Hn(r);for(let i in n){const a=n[i].get;if(a)try{a.call(t)}catch{}}}}}const ao=["touchstart","touchmove"];function oo(t){return ao.includes(t)}const so=new Set,bn=new Set;function lo(t,e,r,n={}){function i(a){if(n.capture||Kt.call(e,a),!a.cancelBubble)return Zr(()=>r?.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Lt(()=>{e.addEventListener(t,i,n)}):e.addEventListener(t,i,n),i}function pe(t,e,r,n,i){var a={capture:n,passive:i},o=lo(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Qr(()=>{e.removeEventListener(t,o,a)})}let mn=null;function Kt(t){var e=this,r=e.ownerDocument,n=t.type,i=t.composedPath?.()||[],a=i[0]||t.target;mn=t;var o=0,u=mn===t&&t.__root;if(u){var s=i.indexOf(u);if(s!==-1&&(e===document||e===window)){t.__root=e;return}var l=i.indexOf(e);if(l===-1)return;s<=l&&(o=s)}if(a=i[o]||t.target,a!==e){Bn(t,"currentTarget",{configurable:!0,get(){return a||r}});var v=G,b=Y;ge(null),Le(null);try{for(var d,m=[];a!==null;){var O=a.assignedSlot||a.parentNode||a.host||null;try{var M=a["__"+n];M!=null&&(!a.disabled||t.target===a)&&M.call(a,t)}catch(p){d?m.push(p):d=p}if(t.cancelBubble||O===e||O===null)break;a=O}if(d){for(let p of m)queueMicrotask(()=>{throw p});throw d}}finally{t.__root=e,delete t.currentTarget,ge(v),Le(b)}}}function Pi(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Wt(t,e){var r=Y;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function Q(t,e){var r=(e&Oa)!==0,n=(e&Na)!==0,i,a=!t.startsWith("<!>");return()=>{i===void 0&&(i=Pi(a?t:"<!>"+t),r||(i=Nt(i)));var o=n||fi?document.importNode(i,!0):i.cloneNode(!0);if(r){var u=Nt(o),s=o.lastChild;Wt(u,s)}else Wt(o,o);return o}}function uo(t,e,r="svg"){var n=!t.startsWith("<!>"),i=`<${r}>${n?t:"<!>"+t}</${r}>`,a;return()=>{if(!a){var o=Pi(i),u=Nt(o);a=Nt(u)}var s=a.cloneNode(!0);return Wt(s,s),s}}function Di(t,e){return uo(t,e,"svg")}function sr(t=""){{var e=qe(t+"");return Wt(e,e),e}}function Sr(){var t=document.createDocumentFragment(),e=document.createComment(""),r=qe();return t.append(e,r),Wt(e,r),t}function V(t,e){t!==null&&t.before(e)}function Ae(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function fo(t,e){return co(t,e)}const mt=new Map;function co(t,{target:e,anchor:r,props:n={},events:i,context:a,intro:o=!0}){Ga();var u=new Set,s=b=>{for(var d=0;d<b.length;d++){var m=b[d];if(!u.has(m)){u.add(m);var O=oo(m);e.addEventListener(m,Kt,{passive:O});var M=mt.get(m);M===void 0?(document.addEventListener(m,Kt,{passive:O}),mt.set(m,1)):mt.set(m,M+1)}}};s(gr(so)),bn.add(s);var l=void 0,v=Qa(()=>{var b=r??e.appendChild(qe());return Ka(b,{pending:()=>{}},d=>{if(a){fe({});var m=X;m.c=a}i&&(n.$$events=i),l=t(d,n)||{},a&&ce()}),()=>{for(var d of u){e.removeEventListener(d,Kt);var m=mt.get(d);--m===0?(document.removeEventListener(d,Kt),mt.delete(d)):mt.set(d,m)}bn.delete(s),b!==r&&b.parentNode?.removeChild(b)}});return vo.set(l,v),l}let vo=new WeakMap;class Fi{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(e,r=!0){this.anchor=e,this.#l=r}#a=()=>{var e=te;if(this.#e.has(e)){var r=this.#e.get(e),n=this.#t.get(r);if(n)Xr(n),this.#n.delete(r);else{var i=this.#r.get(r);i&&(this.#t.set(r,i.effect),this.#r.delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),n=i.effect)}for(const[a,o]of this.#e){if(this.#e.delete(a),a===e)break;const u=this.#r.get(o);u&&(me(u.effect),this.#r.delete(o))}for(const[a,o]of this.#t){if(a===r||this.#n.has(a))continue;const u=()=>{if(Array.from(this.#e.values()).includes(a)){var l=document.createDocumentFragment();Si(o,l),l.append(qe()),this.#r.set(a,{effect:o,fragment:l})}else me(o);this.#n.delete(a),this.#t.delete(a)};this.#l||!n?(this.#n.add(a),st(o,u,!1)):u()}}};#i=e=>{this.#e.delete(e);const r=Array.from(this.#e.values());for(const[n,i]of this.#r)r.includes(n)||(me(i.effect),this.#r.delete(n))};ensure(e,r){var n=te,i=vi();if(r&&!this.#t.has(e)&&!this.#r.has(e))if(i){var a=document.createDocumentFragment(),o=qe();a.append(o),this.#r.set(e,{effect:Ce(()=>r(o)),fragment:a})}else this.#t.set(e,Ce(()=>r(this.anchor)));if(this.#e.set(n,e),i){for(const[u,s]of this.#t)u===e?n.skipped_effects.delete(s):n.skipped_effects.add(s);for(const[u,s]of this.#r)u===e?n.skipped_effects.delete(s.effect):n.skipped_effects.add(s.effect);n.oncommit(this.#a),n.ondiscard(this.#i)}else this.#a()}}function se(t,e,r=!1){var n=new Fi(t),i=r?ft:0;function a(o,u){n.ensure(o,u)}wr(()=>{var o=!1;e((u,s=!0)=>{o=!0,a(s,u)}),o||a(!1,null)},i)}function Gt(t,e){return e}function ho(t,e,r){for(var n=[],i=e.length,a,o=e.length,u=0;u<i;u++){let b=e[u];st(b,()=>{if(a){if(a.pending.delete(b),a.done.add(b),a.pending.size===0){var d=t.outrogroups;$r(gr(a.done)),d.delete(a),d.size===0&&(t.outrogroups=null)}}else o-=1},!1)}if(o===0){var s=n.length===0&&r!==null;if(s){var l=r,v=l.parentNode;Ja(v),v.append(l),t.items.clear()}$r(e,!s)}else a={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(a)}function $r(t,e=!0){for(var r=0;r<t.length;r++)me(t[r],e)}var yn;function Dt(t,e,r,n,i,a=null){var o=t,u=new Map,s=(e&Yn)!==0;if(s){var l=t;o=l.appendChild(qe())}var v=null,b=Ne(()=>{var _=r();return pr(_)?_:_==null?[]:gr(_)}),d,m=!0;function O(){p.fallback=v,po(p,d,o,e,n),v!==null&&(d.length===0?(v.f&Ke)===0?Xr(v):(v.f^=Ke,zt(v,null,o)):st(v,()=>{v=null}))}var M=wr(()=>{d=c(b);for(var _=d.length,f=new Set,y=te,S=vi(),E=0;E<_;E+=1){var w=d[E],A=n(w,E),D=m?null:u.get(A);D?(D.v&&Ot(D.v,w),D.i&&Ot(D.i,E),S&&y.skipped_effects.delete(D.e)):(D=go(u,m?o:yn??=qe(),w,A,E,i,e,r),m||(D.e.f|=Ke),u.set(A,D)),f.add(A)}if(_===0&&a&&!v&&(m?v=Ce(()=>a(o)):(v=Ce(()=>a(yn??=qe())),v.f|=Ke)),!m)if(S){for(const[K,U]of u)f.has(K)||y.skipped_effects.add(U.e);y.oncommit(O),y.ondiscard(()=>{})}else O();c(b)}),p={effect:M,items:u,outrogroups:null,fallback:v};m=!1}function po(t,e,r,n,i){var a=(n&wa)!==0,o=e.length,u=t.items,s=t.effect.first,l,v=null,b,d=[],m=[],O,M,p,_;if(a)for(_=0;_<o;_+=1)O=e[_],M=i(O,_),p=u.get(M).e,(p.f&Ke)===0&&(p.nodes?.a?.measure(),(b??=new Set).add(p));for(_=0;_<o;_+=1){if(O=e[_],M=i(O,_),p=u.get(M).e,t.outrogroups!==null)for(const U of t.outrogroups)U.pending.delete(p),U.done.delete(p);if((p.f&Ke)!==0)if(p.f^=Ke,p===s)zt(p,null,r);else{var f=v?v.next:s;p===t.effect.last&&(t.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),Ye(t,v,p),Ye(t,p,f),zt(p,f,r),v=p,d=[],m=[],s=v.next;continue}if((p.f&Se)!==0&&(Xr(p),a&&(p.nodes?.a?.unfix(),(b??=new Set).delete(p))),p!==s){if(l!==void 0&&l.has(p)){if(d.length<m.length){var y=m[0],S;v=y.prev;var E=d[0],w=d[d.length-1];for(S=0;S<d.length;S+=1)zt(d[S],y,r);for(S=0;S<m.length;S+=1)l.delete(m[S]);Ye(t,E.prev,w.next),Ye(t,v,E),Ye(t,w,y),s=y,v=w,_-=1,d=[],m=[]}else l.delete(p),zt(p,s,r),Ye(t,p.prev,p.next),Ye(t,p,v===null?t.effect.first:v.next),Ye(t,v,p),v=p;continue}for(d=[],m=[];s!==null&&s!==p;)(l??=new Set).add(s),m.push(s),s=s.next;if(s===null)continue}(p.f&Ke)===0&&d.push(p),v=p,s=p.next}if(t.outrogroups!==null){for(const U of t.outrogroups)U.pending.size===0&&($r(gr(U.done)),t.outrogroups?.delete(U));t.outrogroups.size===0&&(t.outrogroups=null)}if(s!==null||l!==void 0){var A=[];if(l!==void 0)for(p of l)(p.f&Se)===0&&A.push(p);for(;s!==null;)(s.f&Se)===0&&s!==t.fallback&&A.push(s),s=s.next;var D=A.length;if(D>0){var K=(n&Yn)!==0&&o===0?r:null;if(a){for(_=0;_<D;_+=1)A[_].nodes?.a?.measure();for(_=0;_<D;_+=1)A[_].nodes?.a?.fix()}ho(t,A,K)}}a&&Lt(()=>{if(b!==void 0)for(p of b)p.nodes?.a?.apply()})}function go(t,e,r,n,i,a,o,u){var s=(o&ya)!==0?(o&Sa)===0?$(r,!1,!1):vt(r):null,l=(o&_a)!==0?vt(i):null;return{v:s,i:l,e:Ce(()=>(a(e,s??r,l??i,u),()=>{t.delete(n)}))}}function zt(t,e,r){if(t.nodes)for(var n=t.nodes.start,i=t.nodes.end,a=e&&(e.f&Ke)===0?e.nodes.start:r;n!==null;){var o=Qt(n);if(a.before(n),n===i)return;n=o}}function Ye(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function Tr(t,e,r,n,i){var a=e.$$slots?.[r],o=!1;a===!0&&(a=e.children,o=!0),a===void 0?i!==null&&i(t):a(t,o?()=>n:n)}function bo(t,e,r){var n=new Fi(t);wr(()=>{var i=e()??null;n.ensure(i,i&&(a=>r(a,i)))},ft)}const _n=[...` 	
\r\fÂ \v\uFEFF`];function mo(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var a=i.length,o=0;(o=n.indexOf(i,o))>=0;){var u=o+a;(o===0||_n.includes(n[o-1]))&&(u===n.length||_n.includes(n[u]))?n=(o===0?"":n.substring(0,o))+n.substring(u+1):o=u}}return n===""?null:n}function wn(t,e=!1){var r=e?" !important;":";",n="";for(var i in t){var a=t[i];a!=null&&a!==""&&(n+=" "+i+": "+a+r)}return n}function kr(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function yo(t,e){if(e){var r="",n,i;if(Array.isArray(e)?(n=e[0],i=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,o=0,u=!1,s=[];n&&s.push(...Object.keys(n).map(kr)),i&&s.push(...Object.keys(i).map(kr));var l=0,v=-1;const M=t.length;for(var b=0;b<M;b++){var d=t[b];if(u?d==="/"&&t[b-1]==="*"&&(u=!1):a?a===d&&(a=!1):d==="/"&&t[b+1]==="*"?u=!0:d==='"'||d==="'"?a=d:d==="("?o++:d===")"&&o--,!u&&a===!1&&o===0){if(d===":"&&v===-1)v=b;else if(d===";"||b===M-1){if(v!==-1){var m=kr(t.substring(l,v).trim());if(!s.includes(m)){d!==";"&&b++;var O=t.substring(l,b).trim();r+=" "+O+";"}}l=b+1,v=-1}}}}return n&&(r+=wn(n)),i&&(r+=wn(i,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function he(t,e,r,n,i,a){var o=t.__className;if(o!==r||o===void 0){var u=mo(r,n,a);u==null?t.removeAttribute("class"):e?t.className=u:t.setAttribute("class",u),t.__className=r}else if(a&&i!==a)for(var s in a){var l=!!a[s];(i==null||l!==!!i[s])&&t.classList.toggle(s,l)}return a}function Ar(t,e={},r,n){for(var i in r){var a=r[i];e[i]!==a&&(r[i]==null?t.style.removeProperty(i):t.style.setProperty(i,a,n))}}function lr(t,e,r,n){var i=t.__style;if(i!==e){var a=yo(e,n);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}else n&&(Array.isArray(n)?(Ar(t,r?.[0],n[0]),Ar(t,r?.[1],n[1],"important")):Ar(t,r,n));return n}const _o=Symbol("is custom element"),wo=Symbol("is html");function be(t,e,r,n){var i=So(t);i[e]!==(i[e]=r)&&(e==="loading"&&(t[la]=r),r==null?t.removeAttribute(e):typeof r!="string"&&To(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function So(t){return t.__attributes??={[_o]:t.nodeName.includes("-"),[wo]:t.namespaceURI===Pa}}var Sn=new Map;function To(t){var e=t.getAttribute("is")||t.nodeName,r=Sn.get(e);if(r)return r;Sn.set(e,r=[]);for(var n,i=t,a=Element.prototype;a!==i;){n=Hn(i);for(var o in n)n[o].set&&r.push(o);i=Vr(i)}return r}class en{#e=new WeakMap;#t;#r;static entries=new WeakMap;constructor(e){this.#r=e}observe(e,r){var n=this.#e.get(e)||new Set;return n.add(r),this.#e.set(e,n),this.#n().observe(e,this.#r),()=>{var i=this.#e.get(e);i.delete(r),i.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#n(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var r of e){en.entries.set(r.target,r);for(var n of this.#e.get(r.target)||[])n(r)}}))}}var Eo=new en({box:"border-box"});function Tn(t,e,r){var n=Eo.observe(t,()=>r(t[e]));gi(()=>(Z(()=>r(t[e])),n))}function En(t,e){return t===e||t?.[ot]===e}function Co(t={},e,r,n){return gi(()=>{var i,a;return _r(()=>{i=a,a=[],Z(()=>{t!==r(...a)&&(e(t,...a),i&&En(r(...i),t)&&e(null,...i))})}),()=>{Lt(()=>{a&&En(r(...a),t)&&e(null,...a)})}}),t}function _e(t=!1){const e=X,r=e.l.u;if(!r)return;let n=()=>j(e.s);if(t){let i=0,a={};const o=Zt(()=>{let u=!1;const s=e.s;for(const l in s)s[l]!==a[l]&&(a[l]=s[l],u=!0);return u&&i++,i});n=()=>c(o)}r.b.length&&Za(()=>{Cn(e,n),Dr(r.b)}),Lr(()=>{const i=Z(()=>r.m.map(aa));return()=>{for(const a of i)typeof a=="function"&&a()}}),r.a.length&&Lr(()=>{Cn(e,n),Dr(r.a)})}function Cn(t,e){if(t.l.s)for(const r of t.l.s)c(r);e()}function jr(t,e){var r=t.$$events?.[e.type],n=pr(r)?r.slice():r==null?[]:[r];for(var i of n)i.call(this,e)}function xi(t,e,r){if(t==null)return e(void 0),Ct;const n=Z(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}const yt=[];function tn(t,e=Ct){let r=null;const n=new Set;function i(u){if(Qn(t,u)&&(t=u,r)){const s=!yt.length;for(const l of n)l[1](),yt.push(l,t);if(s){for(let l=0;l<yt.length;l+=2)yt[l][0](yt[l+1]);yt.length=0}}}function a(u){i(u(t))}function o(u,s=Ct){const l=[u,s];return n.add(l),n.size===1&&(r=e(i,a)||Ct),u(t),()=>{n.delete(l),n.size===0&&r&&(r(),r=null)}}return{set:i,update:a,subscribe:o}}function Mi(t){let e;return xi(t,r=>e=r)(),e}let tr=!1,Ur=Symbol();function et(t,e,r){const n=r[e]??={store:null,source:$(void 0),unsubscribe:Ct};if(n.store!==t&&!(Ur in r))if(n.unsubscribe(),n.store=t??null,t==null)n.source.v=void 0,n.unsubscribe=Ct;else{var i=!0;n.unsubscribe=xi(t,a=>{i?n.source.v=a:x(n.source,a)}),i=!1}return t&&Ur in r?Mi(t):c(n.source)}function bt(){const t={};function e(){Qr(()=>{for(var r in t)t[r].unsubscribe();Bn(t,Ur,{enumerable:!1,value:!0})})}return[t,e]}function ko(t){var e=tr;try{return tr=!1,[t(),tr]}finally{tr=e}}function B(t,e,r,n){var i=!Rt||(r&Ea)!==0,a=(r&ka)!==0,o=(r&Aa)!==0,u=n,s=!0,l=()=>(s&&(s=!1,u=o?Z(n):n),u),v;if(a){var b=ot in t||sa in t;v=Et(t,e)?.set??(b&&e in t?y=>t[e]=y:void 0)}var d,m=!1;a?[d,m]=ko(()=>t[e]):d=t[e],d===void 0&&n!==void 0&&(d=l(),v&&(i&&ha(),v(d)));var O;if(i?O=()=>{var y=t[e];return y===void 0?l():(s=!0,y)}:O=()=>{var y=t[e];return y!==void 0&&(u=void 0),y===void 0?u:y},i&&(r&Ca)===0)return O;if(v){var M=t.$$legacy;return(function(y,S){return arguments.length>0?((!i||!S||M||m)&&v(S?O():y),y):O()})}var p=!1,_=((r&Ta)!==0?Zt:Ne)(()=>(p=!1,O()));a&&c(_);var f=Y;return(function(y,S){if(arguments.length>0){const E=S?c(_):i&&a?Tt(y):y;return x(_,E),p=!0,u!==void 0&&(u=E),y}return gt&&p||(f.f&ze)!==0?_.v:c(_)})}function Xt(t){X===null&&yr(),Rt&&X.l!==null?Oo(X).m.push(t):Lr(()=>{const e=Z(t);if(typeof e=="function")return e})}function Ri(t){X===null&&yr(),Xt(()=>()=>Z(t))}function Ao(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}function rn(){const t=X;return t===null&&yr(),(e,r,n)=>{const i=t.s.$$events?.[e];if(i){const a=pr(i)?i.slice():[i],o=Ao(e,r,n);for(const u of a)u.call(t.x,o);return!o.defaultPrevented}return!0}}function Oo(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const No="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(No);xa();var Po=Q("<span> </span>"),Do=Q('<footer class="svelte-1sr6y3t"><a href="https://github.com/kangasta/pileon.git" target="_blank">kangasta / pileon</a> <!></footer>');function Fo(t,e){fe(e,!1);const r="",n="05e94e2f1484ca9522dc4d05fe2074a9695ca3be".slice(0,8);_e();var i=Do(),a=z(I(i),2);{var o=u=>{var s=Po(),l=I(s);re(()=>Ae(l,`at ${r} ${n??""}`)),V(u,s)};se(a,u=>{(n||r)&&u(o)})}V(t,i),ce()}const Li="settings",xo={game:"pileon",colors:"default",size:"default"},Mo=JSON.parse(localStorage.getItem(Li)??"null"),Ft=tn(Mo??xo);Ft.subscribe(t=>localStorage.setItem(Li,JSON.stringify(t)));const Ro={},xt=tn(Ro);var Ii=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ur=Ii.join(","),$i=typeof Element>"u",ht=$i?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,fr=!$i&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Jt=function(e,r){var n;r===void 0&&(r=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),a=i===""||i==="true",o=a||r&&e&&Jt(e.parentNode);return o},Lo=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},ji=function(e,r,n){if(Jt(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(ur));return r&&ht.call(e,ur)&&i.unshift(e),i=i.filter(n),i},cr=function(e,r,n){for(var i=[],a=Array.from(e);a.length;){var o=a.shift();if(!Jt(o,!1))if(o.tagName==="SLOT"){var u=o.assignedElements(),s=u.length?u:o.children,l=cr(s,!0,n);n.flatten?i.push.apply(i,l):i.push({scopeParent:o,candidates:l})}else{var v=ht.call(o,ur);v&&n.filter(o)&&(r||!e.includes(o))&&i.push(o);var b=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),d=!Jt(b,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(b&&d){var m=cr(b===!0?o.children:b.children,!0,n);n.flatten?i.push.apply(i,m):i.push({scopeParent:o,candidates:m})}else a.unshift.apply(a,o.children)}}return i},Ui=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},at=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Lo(e))&&!Ui(e)?0:e.tabIndex},Io=function(e,r){var n=at(e);return n<0&&r&&!Ui(e)?0:n},$o=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Ki=function(e){return e.tagName==="INPUT"},jo=function(e){return Ki(e)&&e.type==="hidden"},Uo=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},Ko=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},zo=function(e){if(!e.name)return!0;var r=e.form||fr(e),n=function(u){return r.querySelectorAll('input[type="radio"][name="'+u+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var a=Ko(i,e.form);return!a||a===e},qo=function(e){return Ki(e)&&e.type==="radio"},Vo=function(e){return qo(e)&&!zo(e)},Bo=function(e){var r,n=e&&fr(e),i=(r=n)===null||r===void 0?void 0:r.host,a=!1;if(n&&n!==e){var o,u,s;for(a=!!((o=i)!==null&&o!==void 0&&(u=o.ownerDocument)!==null&&u!==void 0&&u.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!a&&i;){var l,v,b;n=fr(i),i=(l=n)===null||l===void 0?void 0:l.host,a=!!((v=i)!==null&&v!==void 0&&(b=v.ownerDocument)!==null&&b!==void 0&&b.contains(i))}}return a},kn=function(e){var r=e.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},Ho=function(e,r){var n=r.displayCheck,i=r.getShadowRoot;if(n==="full-native"&&"checkVisibility"in e){var a=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!a}if(getComputedStyle(e).visibility==="hidden")return!0;var o=ht.call(e,"details>summary:first-of-type"),u=o?e.parentElement:e;if(ht.call(u,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof i=="function"){for(var s=e;e;){var l=e.parentElement,v=fr(e);if(l&&!l.shadowRoot&&i(l)===!0)return kn(e);e.assignedSlot?e=e.assignedSlot:!l&&v!==e.ownerDocument?e=v.host:e=l}e=s}if(Bo(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return kn(e);return!1},Wo=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return ht.call(r,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}r=r.parentElement}return!1},dr=function(e,r){return!(r.disabled||Jt(r)||jo(r)||Ho(r,e)||Uo(r)||Wo(r))},Kr=function(e,r){return!(Vo(r)||at(r)<0||!dr(e,r))},Go=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},zi=function(e){var r=[],n=[];return e.forEach(function(i,a){var o=!!i.scopeParent,u=o?i.scopeParent:i,s=Io(u,o),l=o?zi(i.candidates):u;s===0?o?r.push.apply(r,l):r.push(u):n.push({documentOrder:a,tabIndex:s,item:i,isScope:o,content:l})}),n.sort($o).reduce(function(i,a){return a.isScope?i.push.apply(i,a.content):i.push(a.content),i},[]).concat(r)},Jo=function(e,r){r=r||{};var n;return r.getShadowRoot?n=cr([e],r.includeContainer,{filter:Kr.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Go}):n=ji(e,r.includeContainer,Kr.bind(null,r)),zi(n)},Yo=function(e,r){r=r||{};var n;return r.getShadowRoot?n=cr([e],r.includeContainer,{filter:dr.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=ji(e,r.includeContainer,dr.bind(null,r)),n},_t=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return ht.call(e,ur)===!1?!1:Kr(r,e)},Zo=Ii.concat("iframe").join(","),Or=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return ht.call(e,Zo)===!1?!1:dr(r,e)};function zr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Qo(t){if(Array.isArray(t))return zr(t)}function Xo(t,e,r){return(e=is(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function es(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ts(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function An(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function On(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?An(Object(r),!0).forEach(function(n){Xo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):An(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rs(t){return Qo(t)||es(t)||as(t)||ts()}function ns(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function is(t){var e=ns(t,"string");return typeof e=="symbol"?e:e+""}function as(t,e){if(t){if(typeof t=="string")return zr(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zr(t,e):void 0}}var Nn={activateTrap:function(e,r){if(e.length>0){var n=e[e.length-1];n!==r&&n._setPausedState(!0)}var i=e.indexOf(r);i===-1||e.splice(i,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},os=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ss=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},Vt=function(e){return e?.key==="Tab"||e?.keyCode===9},ls=function(e){return Vt(e)&&!e.shiftKey},us=function(e){return Vt(e)&&e.shiftKey},Pn=function(e){return setTimeout(e,0)},$t=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},rr=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},fs=[],cs=function(e,r){var n=r?.document||document,i=r?.trapStack||fs,a=On({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ls,isKeyBackward:us},r),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},u,s=function(T,P,F){return T&&T[P]!==void 0?T[P]:a[F||P]},l=function(T,P){var F=typeof P?.composedPath=="function"?P.composedPath():void 0;return o.containerGroups.findIndex(function(h){var g=h.container,C=h.tabbableNodes;return g.contains(T)||F?.includes(g)||C.find(function(N){return N===T})})},v=function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=P.hasFallback,h=F===void 0?!1:F,g=P.params,C=g===void 0?[]:g,N=a[T];if(typeof N=="function"&&(N=N.apply(void 0,rs(C))),N===!0&&(N=void 0),!N){if(N===void 0||N===!1)return N;throw new Error("`".concat(T,"` was specified but was not a node, or did not return a node"))}var k=N;if(typeof N=="string"){try{k=n.querySelector(N)}catch(R){throw new Error("`".concat(T,'` appears to be an invalid selector; error="').concat(R.message,'"'))}if(!k&&!h)throw new Error("`".concat(T,"` as selector refers to no known node"))}return k},b=function(){var T=v("initialFocus",{hasFallback:!0});if(T===!1)return!1;if(T===void 0||T&&!Or(T,a.tabbableOptions))if(l(n.activeElement)>=0)T=n.activeElement;else{var P=o.tabbableGroups[0],F=P&&P.firstTabbableNode;T=F||v("fallbackFocus")}else T===null&&(T=v("fallbackFocus"));if(!T)throw new Error("Your focus-trap needs to have at least one focusable element");return T},d=function(){if(o.containerGroups=o.containers.map(function(T){var P=Jo(T,a.tabbableOptions),F=Yo(T,a.tabbableOptions),h=P.length>0?P[0]:void 0,g=P.length>0?P[P.length-1]:void 0,C=F.find(function(R){return _t(R)}),N=F.slice().reverse().find(function(R){return _t(R)}),k=!!P.find(function(R){return at(R)>0});return{container:T,tabbableNodes:P,focusableNodes:F,posTabIndexesFound:k,firstTabbableNode:h,lastTabbableNode:g,firstDomTabbableNode:C,lastDomTabbableNode:N,nextTabbableNode:function(q){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ee=P.indexOf(q);return ee<0?W?F.slice(F.indexOf(q)+1).find(function(ne){return _t(ne)}):F.slice(0,F.indexOf(q)).reverse().find(function(ne){return _t(ne)}):P[ee+(W?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(T){return T.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!v("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(T){return T.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function(T){var P=T.activeElement;if(P)return P.shadowRoot&&P.shadowRoot.activeElement!==null?m(P.shadowRoot):P},O=function(T){if(T!==!1&&T!==m(document)){if(!T||!T.focus){O(b());return}T.focus({preventScroll:!!a.preventScroll}),o.mostRecentlyFocusedNode=T,os(T)&&T.select()}},M=function(T){var P=v("setReturnFocus",{params:[T]});return P||(P===!1?!1:T)},p=function(T){var P=T.target,F=T.event,h=T.isBackward,g=h===void 0?!1:h;P=P||rr(F),d();var C=null;if(o.tabbableGroups.length>0){var N=l(P,F),k=N>=0?o.containerGroups[N]:void 0;if(N<0)g?C=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:C=o.tabbableGroups[0].firstTabbableNode;else if(g){var R=o.tabbableGroups.findIndex(function(Ge){var tt=Ge.firstTabbableNode;return P===tt});if(R<0&&(k.container===P||Or(P,a.tabbableOptions)&&!_t(P,a.tabbableOptions)&&!k.nextTabbableNode(P,!1))&&(R=N),R>=0){var q=R===0?o.tabbableGroups.length-1:R-1,W=o.tabbableGroups[q];C=at(P)>=0?W.lastTabbableNode:W.lastDomTabbableNode}else Vt(F)||(C=k.nextTabbableNode(P,!1))}else{var ee=o.tabbableGroups.findIndex(function(Ge){var tt=Ge.lastTabbableNode;return P===tt});if(ee<0&&(k.container===P||Or(P,a.tabbableOptions)&&!_t(P,a.tabbableOptions)&&!k.nextTabbableNode(P))&&(ee=N),ee>=0){var ne=ee===o.tabbableGroups.length-1?0:ee+1,$e=o.tabbableGroups[ne];C=at(P)>=0?$e.firstTabbableNode:$e.firstDomTabbableNode}else Vt(F)||(C=k.nextTabbableNode(P))}}else C=v("fallbackFocus");return C},_=function(T){var P=rr(T);if(!(l(P,T)>=0)){if($t(a.clickOutsideDeactivates,T)){u.deactivate({returnFocus:a.returnFocusOnDeactivate});return}$t(a.allowOutsideClick,T)||T.preventDefault()}},f=function(T){var P=rr(T),F=l(P,T)>=0;if(F||P instanceof Document)F&&(o.mostRecentlyFocusedNode=P);else{T.stopImmediatePropagation();var h,g=!0;if(o.mostRecentlyFocusedNode)if(at(o.mostRecentlyFocusedNode)>0){var C=l(o.mostRecentlyFocusedNode),N=o.containerGroups[C].tabbableNodes;if(N.length>0){var k=N.findIndex(function(R){return R===o.mostRecentlyFocusedNode});k>=0&&(a.isKeyForward(o.recentNavEvent)?k+1<N.length&&(h=N[k+1],g=!1):k-1>=0&&(h=N[k-1],g=!1))}}else o.containerGroups.some(function(R){return R.tabbableNodes.some(function(q){return at(q)>0})})||(g=!1);else g=!1;g&&(h=p({target:o.mostRecentlyFocusedNode,isBackward:a.isKeyBackward(o.recentNavEvent)})),O(h||o.mostRecentlyFocusedNode||b())}o.recentNavEvent=void 0},y=function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=T;var F=p({event:T,isBackward:P});F&&(Vt(T)&&T.preventDefault(),O(F))},S=function(T){(a.isKeyForward(T)||a.isKeyBackward(T))&&y(T,a.isKeyBackward(T))},E=function(T){ss(T)&&$t(a.escapeDeactivates,T)!==!1&&(T.preventDefault(),u.deactivate())},w=function(T){var P=rr(T);l(P,T)>=0||$t(a.clickOutsideDeactivates,T)||$t(a.allowOutsideClick,T)||(T.preventDefault(),T.stopImmediatePropagation())},A=function(){if(o.active)return Nn.activateTrap(i,u),o.delayInitialFocusTimer=a.delayInitialFocus?Pn(function(){O(b())}):O(b()),n.addEventListener("focusin",f,!0),n.addEventListener("mousedown",_,{capture:!0,passive:!1}),n.addEventListener("touchstart",_,{capture:!0,passive:!1}),n.addEventListener("click",w,{capture:!0,passive:!1}),n.addEventListener("keydown",S,{capture:!0,passive:!1}),n.addEventListener("keydown",E),u},D=function(){if(o.active)return n.removeEventListener("focusin",f,!0),n.removeEventListener("mousedown",_,!0),n.removeEventListener("touchstart",_,!0),n.removeEventListener("click",w,!0),n.removeEventListener("keydown",S,!0),n.removeEventListener("keydown",E),u},K=function(T){var P=T.some(function(F){var h=Array.from(F.removedNodes);return h.some(function(g){return g===o.mostRecentlyFocusedNode})});P&&O(b())},U=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(K):void 0,J=function(){U&&(U.disconnect(),o.active&&!o.paused&&o.containers.map(function(T){U.observe(T,{subtree:!0,childList:!0})}))};return u={get active(){return o.active},get paused(){return o.paused},activate:function(T){if(o.active)return this;var P=s(T,"onActivate"),F=s(T,"onPostActivate"),h=s(T,"checkCanFocusTrap");h||d(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=m(n),P?.();var g=function(){h&&d(),A(),J(),F?.()};return h?(h(o.containers.concat()).then(g,g),this):(g(),this)},deactivate:function(T){if(!o.active)return this;var P=On({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},T);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,D(),o.active=!1,o.paused=!1,J(),Nn.deactivateTrap(i,u);var F=s(P,"onDeactivate"),h=s(P,"onPostDeactivate"),g=s(P,"checkCanReturnFocus"),C=s(P,"returnFocus","returnFocusOnDeactivate");F?.();var N=function(){Pn(function(){C&&O(M(o.nodeFocusedBeforeActivation)),h?.()})};return C&&g?(g(M(o.nodeFocusedBeforeActivation)).then(N,N),this):(N(),this)},pause:function(T){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,T)):this},unpause:function(T){return o.active?(o.manuallyPaused=!1,i[i.length-1]!==this?this:this._setPausedState(!1,T)):this},updateContainerElements:function(T){var P=[].concat(T).filter(Boolean);return o.containers=P.map(function(F){return typeof F=="string"?n.querySelector(F):F}),o.active&&d(),J(),this}},Object.defineProperties(u,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(T,P){if(o.paused===T)return this;if(o.paused=T,T){var F=s(P,"onPause"),h=s(P,"onPostPause");F?.(),D(),J(),h?.()}else{var g=s(P,"onUnpause"),C=s(P,"onPostUnpause");g?.(),d(),A(),J(),C?.()}return this}}}),u.updateContainerElements(e),u};const qi=()=>(Math.random()+1).toString(36).substring(5),Dn={Close:{path:"M 3 3 L 13 13 M 3 13 L 13 3"},Help:{path:"M 8 12 L 8 12 M 8 10 L 8 9 C 8 7 10 8 10 6 A 2 2 0 1 0 6 6 M 8 1.5 A 6.5 6.5 0 0 1 8 14.5 A 6.5 6.5 0 0 1 8 1.5"},Menu:{path:"M 2 4 L 14 4 M 2 8 L 14 8 M 2 12 L 14 12"},Minimize:{path:"M 11 13 L 6.75 13 M 11 11 L 6.75 11 M 11 11 L 11 6.75 M 11 11 L 3 3"},OpenModal:{path:"M 3 3 L 7.25 3 M 3 3 L 3 7.25 M 3 3 L 10 10 M 3 11 A 2 2 0 0 0 5 13 L 11 13 A 2 2 0 0 0 13 11 L 13 5 A 2 2 0 0 0 11 3 L 11 3"},Shuffle:{path:"M 5 2 L 2 5 L 5 8 M 2 5 L 12 5 M 11 14 L 14 11 L 11 8 M 14 11 L 4 11"},Undo:{path:"M 5 3 L 2 6 L 5 9 M 2 6 L 10 6 A 3 3 0 1 1 10 13 L 8 13"}};var ds=Di('<svg viewBox="0 0 16 16"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"></path></svg>');function Vi(t,e){fe(e,!1);let r=B(e,"icon",8);_e();var n=ds(),i=I(n);re(()=>be(i,"d",(j(Dn),j(r()),Z(()=>Dn[r()].path)))),V(t,n),ce()}var vs=Q('<div class="icon-button clickable svelte-1882mcx"><div class="content svelte-1882mcx"><button><div class="icon svelte-1882mcx"><!></div></button> <div class="label svelte-1882mcx"> </div></div></div>');function Ze(t,e){fe(e,!1);let r=B(e,"icon",8),n=B(e,"label",8),i=B(e,"onClick",8);const a=`${qi()}-label`;_e();var o=vs(),u=I(o),s=I(u);he(s,1,"clickable svelte-1882mcx",null,{},{open});var l=I(s),v=I(l);Vi(v,{get icon(){return r()}});var b=z(s,2),d=I(b);re(()=>{be(s,"aria-labelledby",a),be(b,"id",a),Ae(d,n())}),pe("click",s,function(...m){i()?.apply(this,m)}),pe("click",o,function(...m){i()?.apply(this,m)}),V(t,o),ce()}var hs=Q('<div></div> <div role="dialog"><div class="header svelte-1bxxaoh"><h2 class="svelte-1bxxaoh"> </h2> <!></div> <div class="content svelte-1bxxaoh"><!></div></div>',1);function nn(t,e){fe(e,!1);let r=B(e,"title",8),n=B(e,"position",8,"center"),i=B(e,"closeIcon",8,"Close");const a=`modal-${qi()}`,o=`${a}-title`;let u=$(!1);Xt(()=>{const w=cs(`#${a}`,{clickOutsideDeactivates:!0,onDeactivate:()=>l()});w.activate();const A=document.body.style.overflow;return document.body.style.overflow="hidden",setTimeout(()=>{x(u,!0)},0),()=>{w.deactivate(),document.body.style.overflow=A}});const s=rn(),l=()=>{x(u,!1),setTimeout(()=>s("close"),125)};let v=navigator.windowControlsOverlay?.visible&&navigator.windowControlsOverlay?.getTitlebarAreaRect().left>0;_e();var b=hs(),d=Te(b);let m;var O=z(d,2);let M;var p=I(O),_=I(p),f=I(_),y=z(_,2);Ze(y,{get icon(){return i()},label:"Close",onClick:l});var S=z(p,2),E=I(S);Tr(E,e,"default",{},null),re(()=>{m=he(d,1,"backdrop svelte-1bxxaoh",null,m,{open:c(u)}),M=he(O,1,`modal ${n()??""} ${v?"window-controls-on-left":""}`,"svelte-1bxxaoh",M,{open:c(u)}),be(O,"aria-labelledby",o),be(O,"id",a),be(_,"id",o),Ae(f,r())}),V(t,b),ce()}var ps=Q("<button><!></button>");function je(t,e){fe(e,!1);const r=()=>et(Ft,"$settings",n),[n,i]=bt(),a=$(),o=$();let u=B(e,"target",8),s=B(e,"value",8);const{update:l}=Ft,v=()=>{};H(()=>(r(),j(u()),j(s())),()=>{x(o,r()[u()]===s())}),H(()=>(c(o),j(u()),j(s())),()=>{x(a,c(o)?v:()=>l(O=>({...O,[u()]:s()})))}),We(),_e();var b=ps();let d;var m=I(b);Tr(m,e,"default",{},O=>{var M=sr();re(()=>Ae(M,s())),V(O,M)}),re(()=>{be(b,"aria-pressed",c(o)?"true":"false"),b.disabled=c(o),d=he(b,1,"svelte-1s00cb8",null,d,{pressed:c(o)})}),pe("click",b,function(...O){c(a)?.apply(this,O)}),V(t,b),ce(),i()}var gs=Q('<div class="drawer svelte-oa8ggr"><ul class="svelte-oa8ggr"><li class="svelte-oa8ggr"><!></li> <li class="svelte-oa8ggr"><!></li></ul> <div class="whitespace svelte-oa8ggr"></div> <h3>Settings</h3> <table class="svelte-oa8ggr"><tbody><tr><th class="svelte-oa8ggr">Colors:</th><td class="svelte-oa8ggr"><!> / <!> / <!></td></tr><tr><th class="svelte-oa8ggr">Size:</th><td class="svelte-oa8ggr"><!> / <!> / <!> / <!></td></tr></tbody></table></div>'),bs=Q('<div class="titlebar svelte-oa8ggr"><div class="window-controls svelte-oa8ggr"></div> <div><!> <!> <!> <!></div> <div class="window-controls svelte-oa8ggr"></div></div> <!>',1);function ms(t,e){fe(e,!1);const r=()=>et(xt,"$actions",n),[n,i]=bt();let a=$(!1);const o=w=>A=>{x(a,w==="open"),A.stopPropagation()};let u=$(),s=$("");const l=()=>{if(!navigator.windowControlsOverlay?.visible)return;const w=c(u).getBoundingClientRect(),A=navigator.windowControlsOverlay?.getTitlebarAreaRect();A.left>w.left||A.right<w.right?x(s,"below-titlebar"):x(s,"")};Xt(l),_e();var v=bs();pe("resize",Rr,l);var b=Te(v),d=z(I(b),2),m=I(d);{let w=Ne(()=>o("open"));Ze(m,{icon:"Menu",label:"Menu",get onClick(){return c(w)}})}var O=z(m,2);{var M=w=>{Ze(w,{icon:"Help",label:"Help",get onClick(){return r().help}})};se(O,w=>{r().help!==void 0&&w(M)})}var p=z(O,2);{var _=w=>{Ze(w,{icon:"Shuffle",label:"Shuffle",get onClick(){return r().shuffle}})};se(p,w=>{r().shuffle!==void 0&&w(_)})}var f=z(p,2);{var y=w=>{Ze(w,{icon:"Undo",label:"Undo",get onClick(){return r().undo}})};se(f,w=>{r().undo!==void 0&&w(y)})}Co(d,w=>x(u,w),()=>c(u));var S=z(b,2);{var E=w=>{var A=xe(()=>o("close"));nn(w,{position:"left",title:"Menu",$$events:{close(...D){c(A)?.apply(this,D)}},children:(D,K)=>{var U=gs(),J=I(U),L=I(J),T=I(L);je(T,{target:"game",value:"pileon",children:(rt,ta)=>{var Cr=sr("Pileon solitaire");V(rt,Cr)},$$slots:{default:!0}});var P=z(L,2),F=I(P);je(F,{target:"game",value:"deck",children:(rt,ta)=>{var Cr=sr("Deck of cards");V(rt,Cr)},$$slots:{default:!0}});var h=z(J,6),g=I(h),C=I(g),N=z(I(C)),k=I(N);je(k,{target:"colors",value:"default"});var R=z(k,2);je(R,{target:"colors",value:"standard"});var q=z(R,2);je(q,{target:"colors",value:"four-color"});var W=z(C),ee=z(I(W)),ne=I(ee);je(ne,{target:"size",value:"default"});var $e=z(ne,2);je($e,{target:"size",value:"bridge"});var Ge=z($e,2);je(Ge,{target:"size",value:"poker"});var tt=z(Ge,2);je(tt,{target:"size",value:"small"}),V(D,U)},$$slots:{default:!0}})};se(S,w=>{c(a)&&w(E)})}re(()=>he(d,1,`menu ${c(s)??""}`,"svelte-oa8ggr")),V(t,v),ce(),i()}var Nr={},Oe={},Fn;function Er(){if(Fn)return Oe;Fn=1;function t(h){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(h)}Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Cards=Oe.CardSuits=Oe.CardStringType=Oe.Card=void 0;function e(h,g,C){return g=a(g),g in h?Object.defineProperty(h,g,{value:C,enumerable:!0,configurable:!0,writable:!0}):h[g]=C,h}function r(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function n(h,g){for(var C=0;C<g.length;C++){var N=g[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(h,a(N.key),N)}}function i(h,g,C){return g&&n(h.prototype,g),C&&n(h,C),Object.defineProperty(h,"prototype",{writable:!1}),h}function a(h){var g=o(h,"string");return t(g)==="symbol"?g:String(g)}function o(h,g){if(t(h)!=="object"||h===null)return h;var C=h[Symbol.toPrimitive];if(C!==void 0){var N=C.call(h,g);if(t(N)!=="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(h)}function u(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),g&&M(h,g)}function s(h){var g=m();return function(){var N=p(h),k;if(g){var R=p(this).constructor;k=Reflect.construct(N,arguments,R)}else k=N.apply(this,arguments);return l(this,k)}}function l(h,g){if(g&&(t(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(h)}function v(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function b(h){var g=typeof Map=="function"?new Map:void 0;return b=function(N){if(N===null||!O(N))return N;if(typeof N!="function")throw new TypeError("Super expression must either be null or a function");if(typeof g<"u"){if(g.has(N))return g.get(N);g.set(N,k)}function k(){return d(N,arguments,p(this).constructor)}return k.prototype=Object.create(N.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),M(k,N)},b(h)}function d(h,g,C){return m()?d=Reflect.construct.bind():d=function(k,R,q){var W=[null];W.push.apply(W,R);var ee=Function.bind.apply(k,W),ne=new ee;return q&&M(ne,q.prototype),ne},d.apply(null,arguments)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O(h){return Function.toString.call(h).indexOf("[native code]")!==-1}function M(h,g){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,k){return N.__proto__=k,N},M(h,g)}function p(h){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},p(h)}function _(h,g){return w(h)||E(h,g)||y(h,g)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(h,g){if(h){if(typeof h=="string")return S(h,g);var C=Object.prototype.toString.call(h).slice(8,-1);if(C==="Object"&&h.constructor&&(C=h.constructor.name),C==="Map"||C==="Set")return Array.from(h);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return S(h,g)}}function S(h,g){(g==null||g>h.length)&&(g=h.length);for(var C=0,N=new Array(g);C<g;C++)N[C]=h[C];return N}function E(h,g){var C=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(C!=null){var N,k,R,q,W=[],ee=!0,ne=!1;try{if(R=(C=C.call(h)).next,g!==0)for(;!(ee=(N=R.call(C)).done)&&(W.push(N.value),W.length!==g);ee=!0);}catch($e){ne=!0,k=$e}finally{try{if(!ee&&C.return!=null&&(q=C.return(),Object(q)!==q))return}finally{if(ne)throw k}}return W}}function w(h){if(Array.isArray(h))return h}var A=(function(h){return h[h.Hearts=0]="Hearts",h[h.Spades=1]="Spades",h[h.Diamonds=2]="Diamonds",h[h.Clubs=3]="Clubs",h})({});Oe.CardSuits=A;var D=(function(h){return h.Char="CHAR",h.Short="SHORT",h.Long="LONG",h.ShortEmoji="SHORT_EMOJI",h.ShortSuit="SHORT_SUIT",h.LongSuit="LONG_SUIT",h.EmojiSuit="EMOJI_SUIT",h.ShortValue="SHORT_VALUE",h.LongValue="LONG_VALUE",h})({});Oe.CardStringType=D;var K={"â¥":0,"â ":1,"â¦":2,"â£":3,h:0,s:1,d:2,c:3},U={A:1,T:10,J:11,Q:12,K:13},J=function(g){var C=/^([2-9ATJQK]{1}|10)([â¥â â¦â£hsdc]{1})$/,N=g.match(C);if(!N)throw new Error('Could not parse card from "'.concat(g,'". Input should match ').concat(C,"."));var k=_(N,3);k[0];var R=k[1],q=k[2],W=Number(R),ee=(Number.isNaN(W)?U[R]:W)-1;return K[q]*13+ee},L=function(g){var C=/^_[a-z]+$/i;if(g.match(C)){var N=Array.from(g.slice(1));return N.map(function(k){var R=k.charCodeAt(0);return R<91?R-65:R-97+26})}return g.split(/[\s,]+/)},T=(function(h){u(C,h);var g=s(C);function C(N){var k;if(r(this,C),typeof N=="number")k=g.call(this,N);else{k=g.call(this);var R=Array.isArray(N)?N:L(N);R.forEach(function(q){return k.push(new F(q))})}return l(k)}return i(C,[{key:"toString",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F.StringType.Short;return k===D.Char?"_"+this.map(function(R){return R.toString(k)}).join(""):this.map(function(R){return R.toString(k)}).join(", ")}}]),C})(b(Array));Oe.Cards=T;var P=function(g){return typeof g=="string"?J(g):g instanceof F?g.num:g},F=(function(){function h(g){r(this,h),e(this,"num",void 0),this.num=P(g)}return i(h,[{key:"suit",get:function(){return h.getSuit(this.num)}},{key:"value",get:function(){return h.getValue(this.num)}},{key:"toString",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.StringType.Long;switch(C){case h.StringType.Short:return this.toString(h.StringType.ShortValue)+this.toString(h.StringType.ShortSuit);case h.StringType.ShortEmoji:return this.toString(h.StringType.ShortValue)+this.toString(h.StringType.EmojiSuit);case h.StringType.Long:return this.toString(h.StringType.LongValue)+" of "+this.toString(h.StringType.LongSuit);case h.StringType.Char:return h.chars[this.num];case h.StringType.ShortSuit:return h.shortSuits[this.suit];case h.StringType.LongSuit:return h.longSuits[this.suit];case h.StringType.EmojiSuit:return h.emojiSuits[this.suit];case h.StringType.ShortValue:return h.shortValues[this.value===13?0:this.value];case h.StringType.LongValue:return h.longValues[this.value===13?0:this.value]}throw new Error("Unsupported output type")}}],[{key:"fromJSON",value:function(C){var N=C.num;return new h(N)}},{key:"getSuit",value:function(C){return Math.floor(C/13)%4}},{key:"getValue",value:function(C){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C%13||N?C%13:13}},{key:"compare",value:function(C,N){return N.value-C.value}}]),h})();return Oe.Card=F,e(F,"Suits",A),e(F,"StringType",D),e(F,"chars","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),e(F,"emojiSuits",["â¥","â ","â¦","â£"]),e(F,"shortSuits",["h","s","d","c"]),e(F,"longSuits",["hearts","spades","diamonds","clubs"]),e(F,"shortValues",["A","2","3","4","5","6","7","8","9","T","J","Q","K"]),e(F,"longValues",["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"]),Oe}var jt={},ie={},xn;function Bi(){if(xn)return ie;xn=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.uniqueFilter=ie.shuffle=ie.last=ie.isSorted=ie.getCombinationsHelper=ie.getCombinations=ie.arraySubtraction=void 0;var t=function(s,l){return s.filter(function(v){return!l.includes(v)})};ie.arraySubtraction=t;var e=function u(s,l,v,b,d){if(b.length>=l)d.push(b);else for(var m=v;m<s.length;m++)u(s,l,m+1,b.concat(s[m]),d)};ie.getCombinationsHelper=e;var r=function(s,l){var v=[];return e(s,l,0,[],v),v};ie.getCombinations=r;var n=function(s,l){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=v?-1:1;try{return s.reduce(function(d,m){if(b*l(d,m)<=0)return m;throw new Error}),!0}catch{return!1}};ie.isSorted=n;var i=function(s){return s[s.length-1]};ie.last=i;var a=function(s){for(var l=s.length-1;l>0;l--){var v=Math.floor(Math.random()*(l+1)),b=[s[v],s[l]];s[l]=b[0],s[v]=b[1]}return s};ie.shuffle=a;var o=function(s,l,v){return v.indexOf(s)===l};return ie.uniqueFilter=o,ie}var Mn;function ys(){if(Mn)return jt;Mn=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.Deck=void 0;var t=Bi(),e=Er();function r(p){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},r(p)}function n(p){return u(p)||o(p)||a(p)||i()}function i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(p,_){if(p){if(typeof p=="string")return s(p,_);var f=Object.prototype.toString.call(p).slice(8,-1);if(f==="Object"&&p.constructor&&(f=p.constructor.name),f==="Map"||f==="Set")return Array.from(p);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return s(p,_)}}function o(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}function u(p){if(Array.isArray(p))return s(p)}function s(p,_){(_==null||_>p.length)&&(_=p.length);for(var f=0,y=new Array(_);f<_;f++)y[f]=p[f];return y}function l(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function v(p,_){for(var f=0;f<_.length;f++){var y=_[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,m(y.key),y)}}function b(p,_,f){return _&&v(p.prototype,_),f&&v(p,f),Object.defineProperty(p,"prototype",{writable:!1}),p}function d(p,_,f){return _=m(_),_ in p?Object.defineProperty(p,_,{value:f,enumerable:!0,configurable:!0,writable:!0}):p[_]=f,p}function m(p){var _=O(p,"string");return r(_)==="symbol"?_:String(_)}function O(p,_){if(r(p)!=="object"||p===null)return p;var f=p[Symbol.toPrimitive];if(f!==void 0){var y=f.call(p,_);if(r(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(p)}var M=(function(){function p(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;l(this,p),d(this,"cards",void 0),this.cards=n(Array(52*f).keys()).map(function(y){return new e.Card(y)}),_&&this.shuffle()}return b(p,[{key:"shuffle",value:function(){(0,t.shuffle)(this.cards)}},{key:"isShuffled",value:function(){return!(0,t.isSorted)(this.cards,function(f,y){return f.num-y.num})}},{key:"cardsRemaining",get:function(){return this.cards.length}},{key:"pop",value:function(){return this.cards.pop()}},{key:"popN",value:function(f){for(var y=[],S,E=0;E<f&&(S=this.pop());E++)y.push(S);return y}},{key:"toString",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Char;return new e.Cards(this.cards).toString(f)}}],[{key:"fromJSON",value:function(f){var y=f.cards,S=new p(!1,0);return S.cards=y.map(function(E){return e.Card.fromJSON(E)}),S}},{key:"fromString",value:function(f){var y=new p(!1,0);return y.cards=new e.Cards(f),y}}]),p})();return jt.Deck=M,jt}var nt={},Ut={},Rn;function _s(){if(Rn)return Ut;Rn=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.uuid4=void 0;var t=function(n){var i;do i=Math.random().toString(16).slice(2,n+2);while(i.length<n&&n<=12);return i},e=function(){var n=[8,4,4,4,12],i=n.map(t).join("-").split("");return i[14]="4",i[19]=(Math.floor(Math.random()*64)%4+8).toString(16),i.join("")};return Ut.uuid4=e,Ut}var Ln;function ws(){if(Ln)return nt;Ln=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.HandRank=nt.Hand=void 0;var t=Bi(),e=Er(),r=_s();function n(f){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},n(f)}function i(f){return s(f)||u(f)||o(f)||a()}function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(f,y){if(f){if(typeof f=="string")return l(f,y);var S=Object.prototype.toString.call(f).slice(8,-1);if(S==="Object"&&f.constructor&&(S=f.constructor.name),S==="Map"||S==="Set")return Array.from(f);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return l(f,y)}}function u(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function s(f){if(Array.isArray(f))return l(f)}function l(f,y){(y==null||y>f.length)&&(y=f.length);for(var S=0,E=new Array(y);S<y;S++)E[S]=f[S];return E}function v(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function b(f,y){for(var S=0;S<y.length;S++){var E=y[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(f,O(E.key),E)}}function d(f,y,S){return y&&b(f.prototype,y),S&&b(f,S),Object.defineProperty(f,"prototype",{writable:!1}),f}function m(f,y,S){return y=O(y),y in f?Object.defineProperty(f,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):f[y]=S,f}function O(f){var y=M(f,"string");return n(y)==="symbol"?y:String(y)}function M(f,y){if(n(f)!=="object"||f===null)return f;var S=f[Symbol.toPrimitive];if(S!==void 0){var E=S.call(f,y);if(n(E)!=="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(f)}var p=(function(f){return f[f.High=0]="High",f[f.Pair=5]="Pair",f[f.TwoPairs=10]="TwoPairs",f[f.ThreeOfAKind=15]="ThreeOfAKind",f[f.Straight=20]="Straight",f[f.Flush=25]="Flush",f[f.FullHouse=30]="FullHouse",f[f.FourOfAKind=35]="FourOfAKind",f[f.StraightFlush=40]="StraightFlush",f[f.FiveOfAKind=45]="FiveOfAKind",f})({});nt.HandRank=p;var _=(function(){function f(y,S,E){v(this,f),m(this,"uuid",void 0),m(this,"rank",void 0),m(this,"cards",void 0),this.rank=y,this.cards=S,this.uuid=E||(0,r.uuid4)()}return d(f,[{key:"getCardsString",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Short;return new e.Cards(this.cards).toString(S)}},{key:"toString",value:function(){var S=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.Card.StringType.Short,w=e.Card.StringType.LongValue,A=function(U){return S.cards[U].toString(w)},D=this.getCardsString(E);switch(this.rank){case f.Rank.FiveOfAKind:return"Five of a kind, ".concat(A(0),"s (").concat(D,")");case f.Rank.StraightFlush:return"Straigth flush, ".concat(A(0)," high (").concat(D,")");case f.Rank.FourOfAKind:return"Four of a kind, ".concat(A(0),"s (").concat(D,")");case f.Rank.FullHouse:return"Full house, ".concat(A(0),"s over ").concat(A(3),"s (").concat(D,")");case f.Rank.Flush:return"Flush, ".concat(A(0)," high (").concat(D,")");case f.Rank.Straight:return"Straigth, ".concat(A(0)," high (").concat(D,")");case f.Rank.ThreeOfAKind:return"Three of a kind, ".concat(A(0),"s (").concat(D,")");case f.Rank.TwoPairs:return"Two pairs, ".concat(A(0),"s and ").concat(A(2),"s (").concat(D,")");case f.Rank.Pair:return"Pair, ".concat(A(0),"s (").concat(D,")");case f.Rank.High:return"".concat(A(0).replace(/^\w/,function(K){return K.toUpperCase()})," high (").concat(D,")")}throw new Error("Unsupported rank value")}}],[{key:"fromJSON",value:function(S){var E=S.rank,w=S.cards,A=S.uuid;return new f(E,w.map(e.Card.fromJSON),A)}},{key:"solve",value:function(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w,A;return(w=f.isNumOfAKind(5,S))?A=f.Rank.FiveOfAKind:(w=f.isStraightFlush(S,E))?A=f.Rank.StraightFlush:(w=f.isNumOfAKind(4,S))?A=f.Rank.FourOfAKind:(w=f.isFullHouse(S))?A=f.Rank.FullHouse:(w=f.isFlush(S,E))?A=f.Rank.Flush:(w=f.isStraight(S,E))?A=f.Rank.Straight:(w=f.isNumOfAKind(3,S))?A=f.Rank.ThreeOfAKind:(w=f.isTwoPairs(S))?A=f.Rank.TwoPairs:(w=f.isNumOfAKind(2,S))?A=f.Rank.Pair:(w=[],A=f.Rank.High),w=f.fillWithKickers(w,S),new f(A,w)}},{key:"solveHoldEm",value:function(S,E){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(w===0)return f.solve([].concat(i(S),i(E)));for(var A=(0,t.getCombinations)(S,S.length-w),D=(0,t.getCombinations)(E,Math.min(E.length,w)),K=[],U=0;U<A.length;U++)for(var J=0;J<D.length;J++)K.push(f.solve([].concat(i(A[U]),i(D[J]))));return f.max.apply(f,K)}},{key:"compare",value:function(S,E){var w;if(S.cards.length!==E.cards.length)throw new Error("Comparing hands with different number of cards");if((w=E.rank-S.rank)!==0)return w;for(var A=0;A<S.cards.length;A++)if((w=e.Card.compare(S.cards[A],E.cards[A]))!==0)return w;return 0}},{key:"winners",value:function(){for(var S=arguments.length,E=new Array(S),w=0;w<S;w++)E[w]=arguments[w];var A=f.max.apply(f,E);return E.filter(function(D){return!f.compare(D,A)})}},{key:"max",value:function(){for(var S=function(K,U){return f.compare(K,U)<0?K:U},E=arguments.length,w=new Array(E),A=0;A<E;A++)w[A]=arguments[A];return w.reduce(function(D,K){return S(D,K)})}},{key:"fillWithKickers",value:function(S,E){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;return E=(0,t.arraySubtraction)(E,S).sort(e.Card.compare),[].concat(i(S),i(E)).slice(0,w)}},{key:"getUniqueValues",value:function(S){return S.map(function(E){return E.value}).filter(t.uniqueFilter).sort(function(E,w){return w-E})}},{key:"isNumOfAKind",value:function(S,E){for(var w=f.getUniqueValues(E),A,D=function(L){if(A=E.filter(function(T){return T.value==w[L]}),A.length>=S)return{v:A}},K=0;K<w.length;K++){var U=D(K);if(n(U)==="object")return U.v}return!1}},{key:"isNumOfAKindCombination",value:function(S,E){for(var w=[],A=0;A<S.length;A++){var D=f.isNumOfAKind(S[A],(0,t.arraySubtraction)(E,w));if(D===!1)return!1;D=D,w.push.apply(w,i(D))}return w}},{key:"isStraightFlush",value:function(S){for(var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=[],A=function(J){if(w=S.filter(function(T){return T.suit===J}),w.length<E)return"continue";var L=f.isStraight(w,E);if(L)return{v:L}},D=0;D<4;D++){var K=A(D);if(K!=="continue"&&n(K)==="object")return K.v}return!1}},{key:"isFullHouse",value:function(S){return f.isNumOfAKindCombination([3,2],S)}},{key:"isFlush",value:function(S){for(var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=function(U){var J=S.filter(function(L){return L.suit==U});if(J.length>=E)return{v:J.sort(e.Card.compare).slice(0,E)}},A=0;A<4;A++){var D=w(A);if(n(D)==="object")return D.v}return!1}},{key:"isStraight",value:function(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,w=f.getUniqueValues(S);if(w.length<E)return!1;w.includes(13)&&w.push(0);for(var A=[w[0]],D=1;D<w.length&&A.length<E;D++)(0,t.last)(A)-w[D]===1?A.push(w[D]):A=[w[D]];return A.length==E?A.map(function(K){return S.find(function(U){return U.value===(K||13)})}):!1}},{key:"isTwoPairs",value:function(S){return f.isNumOfAKindCombination([2,2],S)}}]),f})();return nt.Hand=_,m(_,"Rank",p),nt}var In;function Ss(){return In||(In=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Card",{enumerable:!0,get:function(){return e.Card}}),Object.defineProperty(t,"CardStringType",{enumerable:!0,get:function(){return e.CardStringType}}),Object.defineProperty(t,"Cards",{enumerable:!0,get:function(){return e.Cards}}),Object.defineProperty(t,"Deck",{enumerable:!0,get:function(){return r.Deck}}),Object.defineProperty(t,"Hand",{enumerable:!0,get:function(){return n.Hand}});var e=Er(),r=ys(),n=ws()})(Nr)),Nr}var ae=Ss();const Ts=4.5,Es=5,Cs=3,$n=7,ks=5,Hi=t=>{switch(t){case"bridge":return{height:$n,width:Ts};case"poker":return{height:$n,width:Es};case"small":return{height:ks,width:Cs}}},an="card-appearance",As={size:"bridge",fourColor:!1},Os=({size:t,colors:e})=>({size:t==="default"?"poker":t,fourColor:e==="four-color"}),Wi=t=>{const e=tn(As,r=>(Ft.subscribe(n=>r(t(n))),()=>{}));return Ma(an,e),e},on=()=>ei(an),jn=t=>{const e=ei(an);if(e){const r=Mi(Ft);e.set(t(r))}},Gi=(t,e,r={})=>n=>{(Array.isArray(t)?t:[t]).includes(n.code)&&e!==void 0&&(r.preventDefault&&n.preventDefault(),e())};var Ns=Di('<svg viewBox="0 0 16 20"><path fill="CurrentColor"></path></svg>');function Ji(t,e){fe(e,!1);const r=$();let n=B(e,"suit",8,null),i=B(e,"flip",8,!1);const a=l=>{switch(l){case"hearts":return"M 8 2 C 9 0 11 0 12 0 C 13 0 16 1 16 6 C 16 8 15.5 10 14 12 L 8 20 L 2 12 C 0.5 10 0 8 0 6 C 0 1 3 0 4 0 C 5 0 7 0 8 2";case"spades":return"M 8 0 L 13 5 C 16 8 16 10 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 10 0 8 3 5 L 8 0";case"diamonds":return"M 8 0 L 16 10 L 8 20 L 0 10 L 8 0";case"clubs":return"M 8 0 C 10 0 12 2 12 4 C 12 6 11 8 8 10 C 9 8 10 7 12 7 C 14 7 16 9 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 9 2 7 4 7 C 6 7 7 8 8 10 C 5 8 4 6 4 4 C 4 2 6 0 8 0";default:return null}};H(()=>j(n()),()=>{x(r,a(n()))}),We();var o=Sr(),u=Te(o);{var s=l=>{var v=Ns();let b;var d=I(v);re(()=>{b=he(v,0,"svelte-1izrtb7",null,b,{flip:i()}),be(d,"d",c(r))}),V(l,v)};se(u,l=>{c(r)&&l(s)})}V(t,o),ce()}var Ps=Q('<span class="svelte-1hnfbft"><!></span>'),Ds=Q("<div></div>"),Fs=Q('<div class="center-pattern svelte-1hnfbft"></div>');function xs(t,e){let r=B(e,"suit",8),n=B(e,"rank",8);const i={A:["U"],2:["U","D"],3:["U","U","D"],4:["UU","DD"],5:["UU","U","DD"],6:["UU","UU","DD"],7:["UU","u","UU","DD"],8:["UU","UU","DD","DD"],9:["UU","u","UU","DD","DD"],10:["UU","u","UU","DD","d","DD"]},a=s=>i[s]??[],o=s=>s.toUpperCase()===s?"grow":"";var u=Fs();Dt(u,5,()=>(j(n()),Z(()=>a(n()))),Gt,(s,l)=>{var v=Ds();Dt(v,5,()=>(c(l),Z(()=>c(l).split(""))),Gt,(b,d,m,O)=>{var M=Ps(),p=I(M);{let _=Ne(()=>(c(d),Z(()=>c(d).toLowerCase()==="d")));Ji(p,{get suit(){return r()},get flip(){return c(_)}})}V(b,M)}),re(b=>he(v,1,`row ${b??""}`,"svelte-1hnfbft"),[()=>(c(l),Z(()=>o(c(l))))]),V(s,v)}),V(t,u)}var Ms=Q('<span class="screen-reader-only svelte-1on3xvn"><!></span>');function Rs(t,e){var r=Ms(),n=I(r);Tr(n,e,"default",{},null),V(t,r)}var Ls=Q('<div aria-hidden="true"><div> </div> <div class="suit svelte-1s7zazm"><!></div></div> <div><!></div>',1),Is=Q("<div><!> <!></div>");function vr(t,e){fe(e,!1);const r=()=>et(O,"$cardAppearance",n),[n,i]=bt(),a=$(),o=$(),u=$(),s=$(),l=$(),v=$(),b=$(),d=$(),m=$(),O=on();let M=B(e,"card",8,null),p=B(e,"empty",8,!1),_=B(e,"shadow",8,!1),f=B(e,"stack",8,void 0);const y=["top","bottom"];H(()=>r(),()=>{x(a,r().size==="bridge")}),H(()=>r(),()=>{x(o,r().size==="small")}),H(()=>r(),()=>{x(u,r().fourColor)}),H(()=>(j(M()),j(_())),()=>{x(s,M()===null&&!_())}),H(()=>(j(p()),c(s),j(_())),()=>{x(l,!(p()||c(s)||_()))}),H(()=>(c(l),j(M()),ae.Card),()=>{x(v,c(l)&&M()?.toString(ae.Card.StringType.ShortValue).replace("T","10")||"")}),H(()=>(c(l),j(M()),ae.Card),()=>{x(b,c(l)&&M()?.toString(ae.Card.StringType.LongSuit)||"")}),H(()=>(c(l),j(M())),()=>{x(d,c(l)&&(M()?.num??0)%13>9)}),H(()=>(c(l),j(M()),ae.Card),()=>{x(m,c(l)&&M()?.toString(ae.Card.StringType.Long)||"")}),We(),_e();var S=Is();let E;var w=I(S);{var A=K=>{Rs(K,{children:(U,J)=>{var L=sr();re(()=>Ae(L,c(m))),V(U,L)},$$slots:{default:!0}})};se(w,K=>{c(l)&&K(A)})}var D=z(w,2);Dt(D,1,()=>y,K=>K,(K,U)=>{var J=Ls(),L=Te(J),T=I(L),P=I(T),F=z(T,2),h=I(F);Ji(h,{get suit(){return c(b)}});var g=z(L,2);let C;var N=I(g);{var k=R=>{xs(R,{get suit(){return c(b)},get rank(){return c(v)}})};se(N,R=>{c(o)||R(k)})}re(()=>{he(L,1,`${c(U)??""} label`,"svelte-1s7zazm"),he(T,1,`rank rank-${c(v)??""}`,"svelte-1s7zazm"),Ae(P,c(v)),C=he(g,1,"center svelte-1s7zazm",null,C,{face:c(d)})}),V(K,J)}),re(()=>E=he(S,1,`card ${c(b)??""} stack-${f()??""}`,"svelte-1s7zazm",E,{bridge:c(a),small:c(o),fourColor:c(u),empty:p(),hidden:c(s),shadow:_(),visible:c(l)})),V(t,S),ce(),i()}var $s=Q('<div class="shadow-container svelte-98hjjr"><!></div>'),js=Q('<div role="button" tabindex="0"><div aria-atomic="true" aria-live="polite"><!> <!></div></div>');function Us(t,e){fe(e,!1);const r=()=>et(v,"$cardAppearance",n),[n,i]=bt(),a=$(),o=$(),u=$(),s=$(),l=$(),v=on();let b=B(e,"numCards",8,52),d=B(e,"numDecks",8,1),m=B(e,"topCard",8,null),O=B(e,"numShadows",8,10),M=B(e,"shuffleAnimationSteps",8,4),p=B(e,"shuffleAnimationMaxDistanceEm",8,.8),_=B(e,"shuffleAnimationMaxRotateDeg",8,7),f=B(e,"onClick",8,()=>{}),y=$(0);function S(F,h,g,C){const N=F/C*h,k=.5*N/(g*52),R=1*N/(g*52);return`translate(${k}em , ${R}em)`}function E(F,h){const g=R=>[1,h+2].includes(F)?0:(Math.random()*2-1)*R,C=g(p()),N=g(p()),k=g(_());return`translate(${C}em, ${N}em) rotate(${k}deg)`}function w(){c(y)>0&&setTimeout(()=>{x(y,c(y)-1),w()},250)}function A(){if(!c(s))return f()()}H(()=>r(),()=>{x(a,r()?.size==="bridge")}),H(()=>r(),()=>{x(o,r()?.size==="small")}),H(()=>(j(m()),j(b()),j(d()),j(M())),()=>{m()===null&&b()===52*d()&&M()>0&&(x(y,M()+2),w())}),H(()=>c(y),()=>{x(s,c(y)>0)}),H(()=>(j(m()),c(s),j(O()),c(y),j(M()),j(b()),j(d())),()=>{x(u,m()===void 0?[]:c(s)?[...Array(O())].map(()=>({card:null,shadow:!1,transform:E(c(y),M())})):[...Array(O())].map((F,h)=>({card:void 0,shadow:!0,transform:S(h,b(),d(),O())})))}),H(()=>j(m()),()=>{x(l,m()===void 0?"Shuffle the deck":"Draw a card")}),We(),_e();var D=js(),K=xe(()=>Gi(["Space","Enter"],A,{preventDefault:!0}));let U;var J=I(D),L=I(J);{var T=F=>{{let h=Ne(()=>m()===void 0);vr(F,{get card(){return m()},get empty(){return c(h)}})}};se(L,F=>{c(s)||F(T)})}var P=z(L,2);Dt(P,1,()=>c(u),Gt,(F,h)=>{let g=()=>c(h).card,C=()=>c(h).shadow,N=()=>c(h).transform;var k=$s(),R=I(k);vr(R,{get card(){return g()},get shadow(){return C()}}),re(()=>lr(k,`transform: ${N()??""}`)),V(F,k)}),re(()=>{be(D,"aria-label",c(l)),be(D,"aria-disabled",c(s)),U=he(D,1,"deck svelte-98hjjr",null,U,{bridge:c(a),small:c(o),shuffling:c(s)})}),pe("keydown",D,function(...F){c(K)?.apply(this,F)}),pe("click",D,A),V(t,D),ce(),i()}var Ks=Q('<main class="svelte-kd00ed"><!></main>');function zs(t,e){fe(e,!1),Wi(Os);let r=new ae.Deck,n=$(r.cardsRemaining),i=$(null);function a(){c(i)!==void 0?x(i,r.pop()):(r=new ae.Deck,x(i,null)),x(n,r.cardsRemaining)}const o=l=>{l.stopPropagation(),r=new ae.Deck,x(i,null),x(n,r.cardsRemaining)};Xt(()=>{xt.update(l=>({...l,shuffle:o}))}),Ri(()=>{xt.update(l=>({...l,shuffle:void 0}))}),_e();var u=Ks(),s=I(u);Us(s,{onClick:a,get topCard(){return c(i)},get numCards(){return c(n)}}),V(t,u),ce()}const hr=(t,e)=>Hi(e).width+(t-1)*1.125,qs=(t,e,r)=>t.length===0?"empty":e?`closed${r==="rank"?`, ${t[0].toString(ae.CardStringType.LongValue)}s`:""}`:t.toString(ae.CardStringType.Long),Vs=(t,e,r,n,i=!1)=>{const a=qs(new ae.Cards(e),n,i),o=r>0?` ${r} cards selected: ${new ae.Cards(e.slice(e.length-r)).toString(ae.CardStringType.Long)}`:"";return`${t}: ${a}.${o}`},Bs=(t,e,r)=>{const n={sourceStack:e,cards:r};t.dataTransfer&&(t.dataTransfer.setData("application/json",JSON.stringify(n)),t.dataTransfer.effectAllowed="move")},Hs=t=>{const{sourceStack:e,cards:r}=JSON.parse(t.dataTransfer?.getData("application/json")??"");return{sourceStack:e,cards:r.map(ae.Card.fromJSON)}};var Ws=Q('<div class="nested svelte-1vimvv4"><!></div>'),Gs=Q('<div role="button"><div><!> <!></div></div>');function Yi(t,e){fe(e,!1);const r=()=>et(b,"$cardAppearance",n),[n,i]=bt(),a=$(),o=$(),u=$(),s=$(),l=$(),v=$(),b=on();let d=B(e,"cards",24,()=>[]),m=B(e,"capacity",8,4),O=B(e,"closed",8,!1),M=B(e,"index",8,0),p=B(e,"isDraggableFn",8,()=>!1),_=B(e,"selectedCardsN",8,0),f=B(e,"labelOptions",24,()=>({title:"Stack"})),y=B(e,"nested",8,!1);const S=g=>{g.stopPropagation(),Bs(g,M(),d())},E=g=>{g.preventDefault()},w=rn(),A=()=>{y()||w("select",{index:M()})};H(()=>r(),()=>{x(a,r().size)}),H(()=>(j(m()),c(a)),()=>{x(o,`width: ${hr(m(),c(a))}em`)}),H(()=>(j(O()),j(p()),j(d())),()=>{x(u,!O()&&p()(d()))}),H(()=>(j(_()),j(d())),()=>{x(s,_()>0&&_()===d().length)}),H(()=>(j(O()),j(d())),()=>{x(l,O()&&d().length===1)}),H(()=>(j(y()),j(f()),j(d()),j(_()),j(O())),()=>{x(v,y()?void 0:Vs(f().title,d(),_(),O(),f().closed))}),We(),_e();var D=Gs(),K=xe(()=>Gi(["Enter","Space"],A,{preventDefault:!0}));let U;var J=I(D),L=I(J);{var T=g=>{vr(g,{empty:!0})},P=g=>{{let C=Ne(()=>(c(l),j(d()),Z(()=>c(l)?null:d()[0])));vr(g,{get card(){return c(C)},stack:"left"})}};se(L,g=>{j(d()),Z(()=>d().length===0)?g(T):g(P,!1)})}var F=z(L,2);{var h=g=>{var C=Ws(),N=I(C);{let k=Ne(()=>(j(d()),Z(()=>d().slice(1)))),R=Ne(()=>m()-1);Yi(N,{get cards(){return c(k)},get capacity(){return c(R)},nested:!0,get closed(){return O()},get index(){return M()},get isDraggableFn(){return p()},get selectedCardsN(){return _()}})}V(g,C)};se(F,g=>{j(d()),Z(()=>d().length>1)&&g(h)})}re(()=>{be(D,"aria-label",c(v)),U=he(D,1,"stack svelte-1vimvv4",null,U,{selected:c(s)}),lr(D,c(o)),be(D,"draggable",c(u)),be(D,"tabindex",y()?void 0:0),be(J,"aria-hidden",y()?void 0:"true")}),pe("dblclick",D,function(g){jr.call(this,e,g)}),pe("dragstart",D,S),pe("dragover",D,E),pe("drop",D,function(g){jr.call(this,e,g)}),pe("click",D,A),pe("keydown",D,function(...g){c(K)?.apply(this,g)}),V(t,D),ce(),i()}var qr=Er();const Js=(t,e)=>{const r=t/e;return r<3/4?[3,5]:r<4/3?[4,4]:[5,3]},Un=(t,e)=>({length:t*e-15}),Zi=(t,e,r)=>{const n=hr(4,t)*e+(e-1),i=Hi(t).height*r+(r-1);return[n,i]},Ys=(t,e,r)=>{const n=Math.min(e,r*2.3333333333333335),[i,a]=Js(n,r),[o,u]=Zi(t,i,a),s=n*.95/o,l=r*.95/u;return{fontSize:Math.max(Math.min(s,l),10),columns:i,rows:a,tableWidthEm:o,tableHeightEm:u}},Kn=()=>{const t=new ae.Deck;return[...Array(13)].map(()=>t.popN(4)).concat([[],[]])},sn=t=>{const[e,...r]=t;return r.every(n=>n.value===e.value)},Zs=t=>t.length===0?!1:t.length===1?!0:sn(t),ln=(t,e)=>t.length+e.length>4?!1:e.length===0||e[e.length-1].value===t[0].value,un=(t,e,r,n)=>{const i=t.map(a=>[...a]);if(!ln(n,i[r]))throw new Error(`Can not move cards ${n.map(a=>a.toString(qr.CardStringType.ShortEmoji))} from pile ${e} to pile ${r}`);return i[e]=i[e].slice(0,i[e].length-n.length),i[r]=[...i[r],...n],i},fn=t=>t.length===1||sn(t)?t:fn(t.slice(1)),Qs=(t,e)=>{if(t[e].length===0)throw new Error("Cannot move cards from an empty pile.");if(cn(t[e]))throw new Error("Cannot move cards from a completed pile.");const r=fn(t[e]),n=t.reduce((o,u,s)=>s!==e&&ln(r,u)?[...o,s]:o,[]);if(n.length===0)throw new Error(`Cannot move cards from pile ${e} to any other pile`);const i=n.filter(o=>t[o].length>0),a=i.length>0?i[0]:n[0];return un(t,e,a,r)},Xs=(t,e)=>{const r=t[e].slice(-1);return r.length===0?[[],r]:[t.reduce((i,a,o)=>o!==e&&ln(r,a)?[...i,o]:i,[]),r]},Qi=t=>t.reduce((e,r,n)=>{const[i,a]=Xs(t,n);return i.length===0?e:[...e,[n,i,a]]},[]),el=(t,e)=>{if(t[0]!==e[0]||t[1].length!==e[1].length)return!1;for(let r=0;r<t[1].length;r++)if(t[1][r]!==e[1][r])return!1;return new qr.Cards(t[2]).toString()===new qr.Cards(e[2]).toString()},tl=t=>(e,r,n)=>{const[i,a,o]=e,u=[...o];if(a.length>1)return[!1,[]];const s=a[0],l=un(t,i,s,o),v=Qi(l),b=n.filter(([d])=>d!==s).map(d=>d[0]===i?[s,[i],o]:d).sort((d,m)=>d[0]-m[0]);if(v.length-b.length===1){const d=l[i].slice(-2);if(l[s][0]?.value!==o[0].value&&d.length===2&&d.every(m=>m.value===o[0].value))b.push([i,a,[d[1]]]),b.sort((m,O)=>m[0]-O[0]),u.push(d[1]);else return[!1,[]]}return v.length!==b.length?[!1,[]]:[b.every((d,m)=>el(d,v[m])),u]},rl=t=>{const e=Qi(t);if(e.length===0)return["dead-end",[]];const r=e.map(tl(t));return r.every(([n])=>n)&&r.length>0?["infinite-loop",r.reduce((i,a)=>[...i,...a[1]],[])]:[!1,[]]},cn=t=>t.length===4&&sn(t),Xi=t=>t.every(e=>cn(e)||e.length===0),nl=t=>t.reduce((e,r,n)=>cn(r)?[...e,n]:e,[]),it=t=>({type:t,timestamp:Date.now()}),il=t=>{const e={};return t.forEach(({type:r})=>e[r]=(e[r]??0)+1),e},zn=t=>t.reduce((e,r)=>e+r,0),al=t=>{const e=t.filter(i=>i.type==="start").map(i=>i.timestamp),r=t.filter(i=>i.type==="stop").map(i=>i.timestamp);if(e.length===0)return[null,null];const n=(r[r.length-1]??Date.now())-e[0];return e.length!==r.length?[null,n]:[zn(r)-zn(e),n]},nr=(t,e)=>t>0?`${t}â¯${e}`:"",qn=t=>{if(t===null)return"N/A";if(t<1e3)return nr(t,"ms");const e=Math.floor(t/36e5),r=Math.floor(t/6e4-e*60),n=Math.floor(t/1e3-r*60-e*3600);return[nr(e,"h"),nr(r,"min"),nr(n,"s")].join(" ").trim()};var ol=Q('<!> <button><!> <span class="title"> </span></button>',1);function ea(t,e){let r=B(e,"title",8),n=B(e,"position",8,"center"),i=$(!0);const a=()=>{x(i,!1)},o=()=>{x(i,!0)};var u=ol(),s=Te(u);{var l=O=>{nn(O,{get title(){return r()},get position(){return n()},closeIcon:"Minimize",$$events:{close:a},children:(M,p)=>{var _=Sr(),f=Te(_);Tr(f,e,"default",{},null),V(M,_)},$$slots:{default:!0}})};se(s,O=>{c(i)&&O(l)})}var v=z(s,2),b=I(v);Vi(b,{icon:"OpenModal"});var d=z(b,2),m=I(d);re(()=>{he(v,1,`minimized-modal ${c(i)?"":"open"}`,"svelte-1ynejnl"),Ae(m,r())}),pe("click",v,o),V(t,u)}var sl=Q(`<p>Here are statistics about the completed game. Undo and undone moves are
  excluded from <i>Significant moves</i> but included in <i>Total moves</i>.</p> <table class="svelte-1vplsp7"><tbody><tr><th class="svelte-1vplsp7">Elapsed time:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Significant moves:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Total moves:</th><td class="svelte-1vplsp7"> </td></tr><tr><th class="svelte-1vplsp7">Undone moves:</th><td class="svelte-1vplsp7"> </td></tr></tbody></table>`,1);function ll(t,e){fe(e,!1);const r=$(),n=$(),i=$();let a=B(e,"events",8);H(()=>j(a()),()=>{x(r,il(a()))}),H(()=>(c(n),c(i),j(a())),()=>{(E=>{var w=Br(E,2);x(n,w[0]),x(i,w[1])})(al(a()))}),We(),_e();var o=sl(),u=z(Te(o),2),s=I(u),l=I(s),v=z(I(l)),b=I(v),d=z(l),m=z(I(d)),O=I(m),M=z(d),p=z(I(M)),_=I(p),f=z(M),y=z(I(f)),S=I(y);re(E=>{Ae(b,E),Ae(O,(c(r),Z(()=>(c(r).move??0)-(c(r).undo??0)))),Ae(_,(c(r),Z(()=>(c(r).move??0)+(c(r).undo??0)))),Ae(S,(c(r),Z(()=>c(r).undo??0)))},[()=>(j(qn),c(i),Z(()=>qn(c(i))))]),V(t,o),ce()}var ul=Q('<!> <div class="actions svelte-1gnlsyg"><!></div>',1);function fl(t,e){fe(e,!1);const r=$();let n=B(e,"events",8),i=B(e,"piles",8);const a=rn();H(()=>j(i()),()=>{x(r,Xi(i()))}),We(),_e();var o=Sr(),u=Te(o);{var s=l=>{ea(l,{title:"Completed",children:(v,b)=>{var d=ul(),m=Te(d);ll(m,{get events(){return n()}});var O=z(m,2),M=I(O);Ze(M,{icon:"Shuffle",label:"Shuffle",onClick:()=>a("shuffle")}),V(v,d)},$$slots:{default:!0}})};se(u,l=>{c(r)&&l(s)})}V(t,o),ce()}const cl=(t,e=ae.CardStringType.Long)=>{const r=t.map(i=>i.toString(e)),n=[r.slice(0,-1).join(", "),...r.slice(-1)].filter(i=>i).join(" and ");return n.charAt(0).toUpperCase()+n.slice(1)};var dl=Q("<p>No more possible moves. Undo the last move or start a new game.</p>"),vl=Q("<p> </p>"),hl=Q('<!> <!> <div class="actions svelte-1o3xc0i"><!> <!></div>',1);function pl(t,e){fe(e,!0);const r=xe(()=>rl(e.piles)),n=xe(()=>Br(c(r),2)),i=xe(()=>c(n)[0]),a=xe(()=>c(n)[1]),o=xe(()=>cl(c(a)));var u=Sr(),s=Te(u);{var l=v=>{ea(v,{title:"Dead end",children:(b,d)=>{var m=hl(),O=Te(m);{var M=E=>{var w=dl();V(E,w)};se(O,E=>{c(i)==="dead-end"&&E(M)})}var p=z(O,2);{var _=E=>{var w=vl(),A=I(w);re(()=>Ae(A,`${c(o)??""} can be moved back and forth between two piles. There are no
        other possible moves. Undo the last move or start a new game.`)),V(E,w)};se(p,E=>{c(i)==="infinite-loop"&&E(_)})}var f=z(p,2),y=I(f);Ze(y,{icon:"Shuffle",label:"Shuffle",get onClick(){return e.shuffle}});var S=z(y,2);Ze(S,{icon:"Undo",label:"Undo",get onClick(){return e.undo}}),V(b,m)},$$slots:{default:!0}})};se(s,v=>{c(i)&&v(l)})}V(t,u),ce()}var gl=Q(`<p>The goal of the pileon solitaire is to rearrange a deck of cards into piles
    of equal ranks from thirteen random piles of four using fifteen piles.</p> <h3>Rules</h3> <ul><li>Each pile can contain up to four cards.</li> <li>Cards can be moved from top of the pile into a pile where the top card is
      of the same rank as the card that is moved.</li> <li>Cards of any rank can be moved into an empty pile.</li> <li>Multiple cards with the same rank can be moved at once.</li> <li>Pile is complete when it contains all four cards with the same rank.</li></ul> <h3>Moving cards</h3> <ol><li>Select the source pile by clicking a pile. Cards to be moved are
      highlighted. Click the source pile again to reduce the amount of selected
      cards.</li> <li>Move cards by clicking the target pile. If the move is valid, the cards
      are moved from the source pile into the target pile.</li></ol> <p>If your device supports drag-and-drop, you can also drag the cards you want
    to move from the source pile into the target pile. Double-clicking the
    source pile automatically moves cards from the pile to an available target
    pile.</p>`,1);function bl(t,e){nn(t,{title:"How to play?",$$events:{close(r){jr.call(this,e,r)}},children:(r,n)=>{var i=gl();V(r,i)},$$slots:{default:!0}})}var ml=Q('<div class="pile svelte-17eyygh"><!></div>'),yl=Q('<div class="pile svelte-17eyygh"></div>'),_l=Q("<main><!> <!></main> <!> <!> <!>",1);function Vn(t,e){fe(e,!1);const r=()=>et(M,"$appearance",n),[n,i]=bt(),a=$(),o=$(),u=$(),s=$(),l=$(),v=$(),b=$(),d=$();let m=$(),O=$(),M=Wi(k=>({size:k.size==="default"?"bridge":k.size,fourColor:k.colors==="four-color"})),p=$([Kn()]),_=$([it("start")]),f=$(!1);const y=k=>{k.stopPropagation(),x(f,!0)},S=k=>{k.stopPropagation(),x(w,[void 0,[]]),x(p,[Kn()]),x(_,[it("start")])},E=k=>{k.stopPropagation(),c(p).length>1&&(x(w,[void 0,[]]),x(p,c(p).slice(0,c(p).length-1)),x(_,[...c(_),it("undo")]))};let w=$([void 0,[]]);const A=(k,R,q)=>{try{x(w,[void 0,[]]);const W=un(c(p)[c(p).length-1],k,R,q);x(p,[...c(p),W]),x(_,[...c(_),it("move")])}catch{}},D=k=>{const[R,q]=c(w),W=k.detail.index;c(o).includes(W)||(R===void 0||q.length===0?x(w,[W,fn(c(a)[W])]):R===W?x(w,[W,q.slice(1)]):R!==W&&(A(R,W,q),x(w,[void 0,[]])))},K=k=>R=>{R.preventDefault();const{sourceStack:q,cards:W}=Hs(R);q!==k&&A(q,k,W)},U=k=>R=>{R.preventDefault();try{x(w,[void 0,[]]);const q=Qs(c(p)[c(p).length-1],k);x(p,[...c(p),q]),x(_,[...c(_),it("move")])}catch{}};Xt(()=>{xt.update(k=>({...k,help:y,shuffle:S,undo:E}))}),Ri(()=>{xt.update(k=>({...k,help:void 0,shuffle:void 0,undo:void 0}))}),H(()=>(c(m),c(O),jn),()=>{const k=c(m)<800||c(O)<400?"small":"bridge";jn(R=>({size:R.size==="default"?k:R.size,fourColor:R.colors==="four-color"}))}),H(()=>c(p),()=>{x(a,c(p)[c(p).length-1])}),H(()=>c(a),()=>{x(o,nl(c(a)))}),H(()=>(c(a),c(_),it),()=>{Xi(c(a))&&c(_).push(it("stop"))}),H(()=>c(w),()=>{x(u,c(w)[0])}),H(()=>c(w),()=>{x(s,c(w)[1])}),H(()=>r(),()=>{x(l,r().size)}),H(()=>(c(l),c(m),c(O)),()=>{x(v,Ys(c(l),c(m),c(O)))}),H(()=>(c(b),c(d),c(l)),()=>{(k=>{var R=Br(k,2);x(b,R[0]),x(d,R[1])})(Zi(c(l),5,3))}),We(),_e();var J=_l(),L=Te(J);let T;var P=I(L);Dt(P,1,()=>c(a),Gt,(k,R,q)=>{var W=ml(),ee=I(W),ne=xe(()=>K(q)),$e=xe(()=>U(q));{let Ge=Ne(()=>(c(o),Z(()=>c(o).includes(q)))),tt=Ne(()=>(c(u),c(s),Z(()=>c(u)===q?c(s).length:0)));Yi(ee,{get cards(){return c(R)},get closed(){return c(Ge)},get selectedCardsN(){return c(tt)},labelOptions:{title:`Stack ${q+1}`,closed:"rank"},index:q,get isDraggableFn(){return Zs},$$events:{drop(...rt){c(ne)?.apply(this,rt)},dblclick(...rt){c($e)?.apply(this,rt)},select:D}})}V(k,W)});var F=z(P,2);Dt(F,1,()=>(j(Un),c(v),Z(()=>Un(c(v).columns,c(v).rows))),Gt,(k,R,q,W)=>{var ee=yl();re(ne=>lr(ee,ne),[()=>(j(hr),c(l),Z(()=>`min-width: ${hr(4,c(l))}em`))]),V(k,ee)});var h=z(L,2);{var g=k=>{bl(k,{$$events:{close:()=>{x(f,!1)}}})};se(h,k=>{c(f)&&k(g)})}var C=z(h,2);fl(C,{get events(){return c(_)},get piles(){return c(a)},$$events:{shuffle:S}});var N=z(C,2);pl(N,{get piles(){return c(a)},shuffle:S,undo:E}),re(()=>{he(L,1,`pileon deal-${c(v),Z(()=>c(v).columns)??""}x${c(v),Z(()=>c(v).rows)??""}`,"svelte-17eyygh"),T=lr(L,"",T,{"font-size":`${c(v),Z(()=>c(v).fontSize)??""}px`,"max-width":`${c(b)*1.25}em`})}),Tn(L,"clientHeight",k=>x(O,k)),Tn(L,"clientWidth",k=>x(m,k)),V(t,J),ce(),i()}var wl=Q("<!> <!> <!>",1);function Sl(t,e){fe(e,!1);const r=()=>et(Ft,"$settings",i),n=()=>et(xt,"$actions",i),[i,a]=bt(),o=$(),u=d=>{d.key==="z"&&(d.ctrlKey||d.metaKey)&&n().undo!==void 0&&n().undo(d),d.key==="F1"&&n().help!==void 0&&n().help(d)};H(()=>(r(),Vn),()=>{x(o,r().game==="deck"?zs:Vn)}),We(),_e();var s=wl();pe("keydown",ui.body,u);var l=Te(s);ms(l,{});var v=z(l,2);bo(v,()=>c(o),(d,m)=>{m(d,{})});var b=z(v,2);Fo(b,{}),V(t,s),ce(),a()}fo(Sl,{target:document.body});
