var ur=Object.defineProperty;var fr=(t,e,n)=>e in t?ur(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dt=(t,e,n)=>(fr(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function q(){}function cr(t,e){for(const n in e)t[n]=e[n];return t}function On(t){return t()}function Mt(){return Object.create(null)}function ve(t){t.forEach(On)}function ue(t){return typeof t=="function"}function G(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dr(t){return Object.keys(t).length===0}function En(t,...e){if(t==null){for(const r of e)r(void 0);return q}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function gr(t){let e;return En(t,n=>e=n)(),e}function me(t,e,n){t.$$.on_destroy.push(En(e,n))}function An(t,e,n,r){if(t){const i=Dn(t,e,n,r);return t[0](i)}}function Dn(t,e,n,r){return t[1]&&r?cr(n.ctx.slice(),t[1](r(e))):n.ctx}function $n(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(e.dirty.length,i.length);for(let l=0;l<a;l+=1)o[l]=e.dirty[l]|i[l];return o}return e.dirty|i}return e.dirty}function Pn(t,e,n,r,i,o){if(i){const a=Dn(e,n,r,o);t.p(a,i)}}function Fn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function _(t,e){t.appendChild(e)}function O(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function Ae(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function xe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t){return document.createTextNode(t)}function R(){return J(" ")}function kt(){return J("")}function ne(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function mr(t){return Array.from(t.childNodes)}function le(t,e){e=""+e,t.data!==e&&(t.data=e)}function Oe(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let Je;function hr(){if(Je===void 0){Je=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Je=!0}}return Je}function vr(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=C("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=hr();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=ne(window,"message",a=>{a.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{o=ne(r.contentWindow,"resize",e),e()}),_(t,r),()=>{(i||o&&r.contentWindow)&&o(),T(r)}}function H(t,e,n){t.classList.toggle(e,!!n)}function pr(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function It(t,e){return new t(e)}let ze;function Ue(t){ze=t}function We(){if(!ze)throw new Error("Function called outside component initialization");return ze}function Ct(t){We().$$.on_mount.push(t)}function Ln(t){We().$$.on_destroy.push(t)}function ot(){const t=We();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=pr(e,n,{cancelable:r});return i.slice().forEach(a=>{a.call(t,o)}),!o.defaultPrevented}return!0}}function br(t,e){return We().$$.context.set(t,e),e}function Mn(t){return We().$$.context.get(t)}function ht(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Ne=[],Rt=[];let Ee=[];const jt=[],yr=Promise.resolve();let vt=!1;function _r(){vt||(vt=!0,yr.then(In))}function Be(t){Ee.push(t)}const gt=new Set;let Se=0;function In(){if(Se!==0)return;const t=ze;do{try{for(;Se<Ne.length;){const e=Ne[Se];Se++,Ue(e),wr(e.$$)}}catch(e){throw Ne.length=0,Se=0,e}for(Ue(null),Ne.length=0,Se=0;Rt.length;)Rt.pop()();for(let e=0;e<Ee.length;e+=1){const n=Ee[e];gt.has(n)||(gt.add(n),n())}Ee.length=0}while(Ne.length);for(;jt.length;)jt.pop()();vt=!1,gt.clear(),Ue(t)}function wr(t){if(t.fragment!==null){t.update(),ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Be)}}function Sr(t){const e=[],n=[];Ee.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Ee=e}const Ye=new Set;let _e;function Q(){_e={r:0,c:[],p:_e}}function Y(){_e.r||ve(_e.c),_e=_e.p}function b(t,e){t&&t.i&&(Ye.delete(t),t.i(e))}function k(t,e,n,r){if(t&&t.o){if(Ye.has(t))return;Ye.add(t),_e.c.push(()=>{Ye.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function ie(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function K(t){t&&t.c()}function j(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Be(()=>{const o=t.$$.on_mount.map(On).filter(ue);t.$$.on_destroy?t.$$.on_destroy.push(...o):ve(o),t.$$.on_mount=[]}),i.forEach(Be)}function U(t,e){const n=t.$$;n.fragment!==null&&(Sr(n.after_update),ve(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function kr(t,e){t.$$.dirty[0]===-1&&(Ne.push(t),_r(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Z(t,e,n,r,i,o,a,l=[-1]){const s=ze;Ue(t);const u=t.$$={fragment:null,ctx:[],props:o,update:q,not_equal:i,bound:Mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:Mt(),dirty:l,skip_bound:!1,root:e.target||s.$$.root};a&&a(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...g)=>{const m=g.length?g[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&kr(t,c)),d}):[],u.update(),f=!0,ve(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const c=mr(e.target);u.fragment&&u.fragment.l(c),c.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&b(t.$$.fragment),j(t,e.target,e.anchor),In()}Ue(s)}class X{constructor(){dt(this,"$$");dt(this,"$$set")}$destroy(){U(this,1),this.$destroy=q}$on(e,n){if(!ue(n))return q;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!dr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Cr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Cr);function Tr(t){let e;return{c(){e=C("span"),e.textContent=`at ${t[0]} ${t[1]}`},m(n,r){O(n,e,r)},p:q,d(n){n&&T(e)}}}function Nr(t){let e,n,r,i=(t[1]||t[0])&&Tr(t);return{c(){e=C("footer"),n=C("a"),n.textContent="kangasta / pileon",r=R(),i&&i.c(),p(n,"href","https://github.com/kangasta/pileon.git"),p(n,"target","_blank"),p(e,"class","svelte-16t3ryr")},m(o,a){O(o,e,a),_(e,n),_(e,r),i&&i.m(e,null)},p(o,[a]){(o[1]||o[0])&&i.p(o,a)},i:q,o:q,d(o){o&&T(e),i&&i.d()}}}function Or(t){const e={}.VITE_TAG??"",n="5a45928cb3da574c01c589e6adcba5195e586e59".slice(0,8);return[e,n]}class Er extends X{constructor(e){super(),Z(this,e,Or,Nr,G,{})}}const ke=[];function Tt(t,e=q){let n;const r=new Set;function i(l){if(G(t,l)&&(t=l,n)){const s=!ke.length;for(const u of r)u[1](),ke.push(u,t);if(s){for(let u=0;u<ke.length;u+=2)ke[u][0](ke[u+1]);ke.length=0}}}function o(l){i(l(t))}function a(l,s=q){const u=[l,s];return r.add(u),r.size===1&&(n=e(i,o)||q),l(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:a}}const Rn="settings",Ar={game:"pileon",colors:"default",size:"default"},Dr=JSON.parse(localStorage.getItem(Rn)),De=Tt(Dr??Ar);De.subscribe(t=>localStorage.setItem(Rn,JSON.stringify(t)));const $r={},$e=Tt($r);/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var jn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],et=jn.join(","),Un=typeof Element>"u",we=Un?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,tt=!Un&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},nt=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",a=o||n&&e&&t(e.parentNode);return a},Pr=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},Kn=function(e,n,r){if(nt(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(et));return n&&we.call(e,et)&&i.unshift(e),i=i.filter(r),i},zn=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var a=o.shift();if(!nt(a,!1))if(a.tagName==="SLOT"){var l=a.assignedElements(),s=l.length?l:a.children,u=t(s,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:a,candidates:u})}else{var f=we.call(a,et);f&&r.filter(a)&&(n||!e.includes(a))&&i.push(a);var c=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),d=!nt(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(c&&d){var g=t(c===!0?a.children:c.children,!0,r);r.flatten?i.push.apply(i,g):i.push({scopeParent:a,candidates:g})}else o.unshift.apply(o,a.children)}}return i},Bn=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ye=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Pr(e))&&!Bn(e)?0:e.tabIndex},Fr=function(e,n){var r=ye(e);return r<0&&n&&!Bn(e)?0:r},Lr=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Hn=function(e){return e.tagName==="INPUT"},Mr=function(e){return Hn(e)&&e.type==="hidden"},Ir=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Rr=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},jr=function(e){if(!e.name)return!0;var n=e.form||tt(e),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=Rr(i,e.form);return!o||o===e},Ur=function(e){return Hn(e)&&e.type==="radio"},Kr=function(e){return Ur(e)&&!jr(e)},zr=function(e){var n,r=e&&tt(e),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==e){var a,l,s;for(o=!!((a=i)!==null&&a!==void 0&&(l=a.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!o&&i;){var u,f,c;r=tt(i),i=(u=r)===null||u===void 0?void 0:u.host,o=!!((f=i)!==null&&f!==void 0&&(c=f.ownerDocument)!==null&&c!==void 0&&c.contains(i))}}return o},Ut=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Br=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=we.call(e,"details>summary:first-of-type"),a=o?e.parentElement:e;if(we.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var s=e.parentElement,u=tt(e);if(s&&!s.shadowRoot&&i(s)===!0)return Ut(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=l}if(zr(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ut(e);return!1},Hr=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return we.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},rt=function(e,n){return!(n.disabled||nt(n)||Mr(n)||Br(n,e)||Ir(n)||Hr(n))},pt=function(e,n){return!(Kr(n)||ye(n)<0||!rt(e,n))},Vr=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},qr=function t(e){var n=[],r=[];return e.forEach(function(i,o){var a=!!i.scopeParent,l=a?i.scopeParent:i,s=Fr(l,a),u=a?t(i.candidates):l;s===0?a?n.push.apply(n,u):n.push(l):r.push({documentOrder:o,tabIndex:s,item:i,isScope:a,content:u})}),r.sort(Lr).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},Wr=function(e,n){n=n||{};var r;return n.getShadowRoot?r=zn([e],n.includeContainer,{filter:pt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Vr}):r=Kn(e,n.includeContainer,pt.bind(null,n)),qr(r)},Jr=function(e,n){n=n||{};var r;return n.getShadowRoot?r=zn([e],n.includeContainer,{filter:rt.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Kn(e,n.includeContainer,rt.bind(null,n)),r},Ce=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return we.call(e,et)===!1?!1:pt(n,e)},Gr=jn.concat("iframe").join(","),mt=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return we.call(e,Gr)===!1?!1:rt(n,e)};/*!
* focus-trap 7.5.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kt(Object(n),!0).forEach(function(r){Qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qr(t,e,n){return e=Zr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yr(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zr(t){var e=Yr(t,"string");return typeof e=="symbol"?e:String(e)}var Bt={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},Xr=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},xr=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Ke=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},ei=function(e){return Ke(e)&&!e.shiftKey},ti=function(e){return Ke(e)&&e.shiftKey},Ht=function(e){return setTimeout(e,0)},Vt=function(e,n){var r=-1;return e.every(function(i,o){return n(i)?(r=o,!1):!0}),r},Ie=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},Ge=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ni=[],ri=function(e,n){var r=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||ni,o=zt({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ei,isKeyBackward:ti},n),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,s=function(v,h,S){return v&&v[h]!==void 0?v[h]:o[S||h]},u=function(v,h){var S=typeof(h==null?void 0:h.composedPath)=="function"?h.composedPath():void 0;return a.containerGroups.findIndex(function(M){var N=M.container,E=M.tabbableNodes;return N.contains(v)||(S==null?void 0:S.includes(N))||E.find(function(W){return W===v})})},f=function(v){var h=o[v];if(typeof h=="function"){for(var S=arguments.length,M=new Array(S>1?S-1:0),N=1;N<S;N++)M[N-1]=arguments[N];h=h.apply(void 0,M)}if(h===!0&&(h=void 0),!h){if(h===void 0||h===!1)return h;throw new Error("`".concat(v,"` was specified but was not a node, or did not return a node"))}var E=h;if(typeof h=="string"&&(E=r.querySelector(h),!E))throw new Error("`".concat(v,"` as selector refers to no known node"));return E},c=function(){var v=f("initialFocus");if(v===!1)return!1;if(v===void 0||!mt(v,o.tabbableOptions))if(u(r.activeElement)>=0)v=r.activeElement;else{var h=a.tabbableGroups[0],S=h&&h.firstTabbableNode;v=S||f("fallbackFocus")}if(!v)throw new Error("Your focus-trap needs to have at least one focusable element");return v},d=function(){if(a.containerGroups=a.containers.map(function(v){var h=Wr(v,o.tabbableOptions),S=Jr(v,o.tabbableOptions),M=h.length>0?h[0]:void 0,N=h.length>0?h[h.length-1]:void 0,E=S.find(function(ee){return Ce(ee)}),W=S.slice().reverse().find(function(ee){return Ce(ee)}),te=!!h.find(function(ee){return ye(ee)>0});return{container:v,tabbableNodes:h,focusableNodes:S,posTabIndexesFound:te,firstTabbableNode:M,lastTabbableNode:N,firstDomTabbableNode:E,lastDomTabbableNode:W,nextTabbableNode:function(pe){var Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ce=h.indexOf(pe);return ce<0?Le?S.slice(S.indexOf(pe)+1).find(function(Me){return Ce(Me)}):S.slice(0,S.indexOf(pe)).reverse().find(function(Me){return Ce(Me)}):h[ce+(Le?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(v){return v.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(v){return v.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},g=function z(v){if(v!==!1&&v!==r.activeElement){if(!v||!v.focus){z(c());return}v.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=v,Xr(v)&&v.select()}},m=function(v){var h=f("setReturnFocus",v);return h||(h===!1?!1:v)},w=function(v){var h=v.target,S=v.event,M=v.isBackward,N=M===void 0?!1:M;h=h||Ge(S),d();var E=null;if(a.tabbableGroups.length>0){var W=u(h,S),te=W>=0?a.containerGroups[W]:void 0;if(W<0)N?E=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:E=a.tabbableGroups[0].firstTabbableNode;else if(N){var ee=Vt(a.tabbableGroups,function(ft){var ct=ft.firstTabbableNode;return h===ct});if(ee<0&&(te.container===h||mt(h,o.tabbableOptions)&&!Ce(h,o.tabbableOptions)&&!te.nextTabbableNode(h,!1))&&(ee=W),ee>=0){var pe=ee===0?a.tabbableGroups.length-1:ee-1,Le=a.tabbableGroups[pe];E=ye(h)>=0?Le.lastTabbableNode:Le.lastDomTabbableNode}else Ke(S)||(E=te.nextTabbableNode(h,!1))}else{var ce=Vt(a.tabbableGroups,function(ft){var ct=ft.lastTabbableNode;return h===ct});if(ce<0&&(te.container===h||mt(h,o.tabbableOptions)&&!Ce(h,o.tabbableOptions)&&!te.nextTabbableNode(h))&&(ce=W),ce>=0){var Me=ce===a.tabbableGroups.length-1?0:ce+1,Lt=a.tabbableGroups[Me];E=ye(h)>=0?Lt.firstTabbableNode:Lt.firstDomTabbableNode}else Ke(S)||(E=te.nextTabbableNode(h))}}else E=f("fallbackFocus");return E},$=function(v){var h=Ge(v);if(!(u(h,v)>=0)){if(Ie(o.clickOutsideDeactivates,v)){l.deactivate({returnFocus:o.returnFocusOnDeactivate});return}Ie(o.allowOutsideClick,v)||v.preventDefault()}},B=function(v){var h=Ge(v),S=u(h,v)>=0;if(S||h instanceof Document)S&&(a.mostRecentlyFocusedNode=h);else{v.stopImmediatePropagation();var M,N=!0;if(a.mostRecentlyFocusedNode)if(ye(a.mostRecentlyFocusedNode)>0){var E=u(a.mostRecentlyFocusedNode),W=a.containerGroups[E].tabbableNodes;if(W.length>0){var te=W.findIndex(function(ee){return ee===a.mostRecentlyFocusedNode});te>=0&&(o.isKeyForward(a.recentNavEvent)?te+1<W.length&&(M=W[te+1],N=!1):te-1>=0&&(M=W[te-1],N=!1))}}else a.containerGroups.some(function(ee){return ee.tabbableNodes.some(function(pe){return ye(pe)>0})})||(N=!1);else N=!1;N&&(M=w({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),g(M||a.mostRecentlyFocusedNode||c())}a.recentNavEvent=void 0},I=function(v){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=v;var S=w({event:v,isBackward:h});S&&(Ke(v)&&v.preventDefault(),g(S))},D=function(v){if(xr(v)&&Ie(o.escapeDeactivates,v)!==!1){v.preventDefault(),l.deactivate();return}(o.isKeyForward(v)||o.isKeyBackward(v))&&I(v,o.isKeyBackward(v))},y=function(v){var h=Ge(v);u(h,v)>=0||Ie(o.clickOutsideDeactivates,v)||Ie(o.allowOutsideClick,v)||(v.preventDefault(),v.stopImmediatePropagation())},P=function(){if(a.active)return Bt.activateTrap(i,l),a.delayInitialFocusTimer=o.delayInitialFocus?Ht(function(){g(c())}):g(c()),r.addEventListener("focusin",B,!0),r.addEventListener("mousedown",$,{capture:!0,passive:!1}),r.addEventListener("touchstart",$,{capture:!0,passive:!1}),r.addEventListener("click",y,{capture:!0,passive:!1}),r.addEventListener("keydown",D,{capture:!0,passive:!1}),l},F=function(){if(a.active)return r.removeEventListener("focusin",B,!0),r.removeEventListener("mousedown",$,!0),r.removeEventListener("touchstart",$,!0),r.removeEventListener("click",y,!0),r.removeEventListener("keydown",D,!0),l},V=function(v){var h=v.some(function(S){var M=Array.from(S.removedNodes);return M.some(function(N){return N===a.mostRecentlyFocusedNode})});h&&g(c())},L=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(V):void 0,A=function(){L&&(L.disconnect(),a.active&&!a.paused&&a.containers.map(function(v){L.observe(v,{subtree:!0,childList:!0})}))};return l={get active(){return a.active},get paused(){return a.paused},activate:function(v){if(a.active)return this;var h=s(v,"onActivate"),S=s(v,"onPostActivate"),M=s(v,"checkCanFocusTrap");M||d(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,h==null||h();var N=function(){M&&d(),P(),A(),S==null||S()};return M?(M(a.containers.concat()).then(N,N),this):(N(),this)},deactivate:function(v){if(!a.active)return this;var h=zt({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},v);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,F(),a.active=!1,a.paused=!1,A(),Bt.deactivateTrap(i,l);var S=s(h,"onDeactivate"),M=s(h,"onPostDeactivate"),N=s(h,"checkCanReturnFocus"),E=s(h,"returnFocus","returnFocusOnDeactivate");S==null||S();var W=function(){Ht(function(){E&&g(m(a.nodeFocusedBeforeActivation)),M==null||M()})};return E&&N?(N(m(a.nodeFocusedBeforeActivation)).then(W,W),this):(W(),this)},pause:function(v){if(a.paused||!a.active)return this;var h=s(v,"onPause"),S=s(v,"onPostPause");return a.paused=!0,h==null||h(),F(),A(),S==null||S(),this},unpause:function(v){if(!a.paused||!a.active)return this;var h=s(v,"onUnpause"),S=s(v,"onPostUnpause");return a.paused=!1,h==null||h(),d(),P(),A(),S==null||S(),this},updateContainerElements:function(v){var h=[].concat(v).filter(Boolean);return a.containers=h.map(function(S){return typeof S=="string"?r.querySelector(S):S}),a.active&&d(),A(),this}},l.updateContainerElements(e),l};const Vn=()=>(Math.random()+1).toString(36).substring(5);function ii(t){let e,n,r,i,o,a,l,s,u,f,c;return{c(){e=C("div"),n=C("div"),r=C("button"),i=xe("svg"),o=xe("path"),l=R(),s=C("div"),u=J(t[1]),p(o,"fill","none"),p(o,"stroke","currentColor"),p(o,"stroke-linecap","round"),p(o,"stroke-linejoin","round"),p(o,"stroke-width","1"),p(o,"d",a=t[3][t[0]].path),p(i,"viewBox","0 0 16 16"),p(i,"class","svelte-17tr1dn"),p(r,"aria-labelledby",t[4]),p(r,"class","clickable svelte-17tr1dn"),H(r,"open",open),p(s,"class","label svelte-17tr1dn"),p(s,"id",t[4]),p(n,"class","content svelte-17tr1dn"),p(e,"class","icon-button clickable svelte-17tr1dn")},m(d,g){O(d,e,g),_(e,n),_(n,r),_(r,i),_(i,o),_(n,l),_(n,s),_(s,u),f||(c=[ne(r,"click",function(){ue(t[2])&&t[2].apply(this,arguments)}),ne(e,"click",function(){ue(t[2])&&t[2].apply(this,arguments)})],f=!0)},p(d,[g]){t=d,g&1&&a!==(a=t[3][t[0]].path)&&p(o,"d",a),g&0&&H(r,"open",open),g&2&&le(u,t[1])},i:q,o:q,d(d){d&&T(e),f=!1,ve(c)}}}function oi(t,e,n){const r={Close:{path:"M 3 3 L 13 13 M 3 13 L 13 3"},Help:{path:"M 8 12 L 8 12 M 8 10 L 8 9 C 8 7 10 8 10 6 A 2 2 0 1 0 6 6 M 8 1.5 A 6.5 6.5 0 0 1 8 14.5 A 6.5 6.5 0 0 1 8 1.5"},Menu:{path:"M 2 4 L 14 4 M 2 8 L 14 8 M 2 12 L 14 12"},Shuffle:{path:"M 5 2 L 2 5 L 5 8 M 2 5 L 12 5 M 11 14 L 14 11 L 11 8 M 14 11 L 4 11"},Undo:{path:"M 5 3 L 2 6 L 5 9 M 2 6 L 10 6 A 3 3 0 1 1 10 13 L 8 13"}};let{icon:i}=e,{label:o}=e,{onClick:a}=e;const l=`${Vn()}-label`;return t.$$set=s=>{"icon"in s&&n(0,i=s.icon),"label"in s&&n(1,o=s.label),"onClick"in s&&n(2,a=s.onClick)},[i,o,a,r,l]}class he extends X{constructor(e){super(),Z(this,e,oi,ii,G,{icon:0,label:1,onClick:2})}}function ai(t){let e,n,r,i,o,a,l,s,u,f,c;s=new he({props:{icon:"Close",label:"Close",onClick:t[3]}});const d=t[5].default,g=An(d,t,t[4],null);return{c(){e=C("div"),n=R(),r=C("div"),i=C("div"),o=C("h2"),a=J(t[0]),l=R(),K(s.$$.fragment),u=R(),f=C("div"),g&&g.c(),p(e,"class","backdrop svelte-5vyrdg"),p(o,"id",t[2]),p(o,"class","svelte-5vyrdg"),p(i,"class","header svelte-5vyrdg"),p(f,"class","content svelte-5vyrdg"),p(r,"class","modal svelte-5vyrdg"),p(r,"role","dialog"),p(r,"aria-labelledby",t[2]),p(r,"id",t[1])},m(m,w){O(m,e,w),O(m,n,w),O(m,r,w),_(r,i),_(i,o),_(o,a),_(i,l),j(s,i,null),_(r,u),_(r,f),g&&g.m(f,null),c=!0},p(m,[w]){(!c||w&1)&&le(a,m[0]),g&&g.p&&(!c||w&16)&&Pn(g,d,m,m[4],c?$n(d,m[4],w,null):Fn(m[4]),null)},i(m){c||(b(s.$$.fragment,m),b(g,m),c=!0)},o(m){k(s.$$.fragment,m),k(g,m),c=!1},d(m){m&&(T(e),T(n),T(r)),U(s),g&&g.d(m)}}}function li(t,e,n){let{$$slots:r={},$$scope:i}=e,{title:o}=e;const a=`modal-${Vn()}`,l=`${a}-title`;Ct(()=>{const f=ri(`#${a}`,{clickOutsideDeactivates:!0,onDeactivate:()=>u()});f.activate();const c=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{f.deactivate(),document.body.style.overflow=c}});const s=ot(),u=()=>{s("close")};return t.$$set=f=>{"title"in f&&n(0,o=f.title),"$$scope"in f&&n(4,i=f.$$scope)},[o,a,l,u,i,r]}class at extends X{constructor(e){super(),Z(this,e,li,ai,G,{title:0})}}function si(t){let e,n,r,i,o;return{c(){e=C("button"),n=J(t[0]),p(e,"aria-pressed",r=t[1]?"true":"false"),e.disabled=t[1],p(e,"class","svelte-jc3xzr"),H(e,"pressed",t[1])},m(a,l){O(a,e,l),_(e,n),i||(o=ne(e,"click",function(){ue(t[2])&&t[2].apply(this,arguments)}),i=!0)},p(a,[l]){t=a,l&1&&le(n,t[0]),l&2&&r!==(r=t[1]?"true":"false")&&p(e,"aria-pressed",r),l&2&&(e.disabled=t[1]),l&2&&H(e,"pressed",t[1])},i:q,o:q,d(a){a&&T(e),i=!1,o()}}}function ui(t,e,n){let r,i,o;me(t,De,f=>n(4,o=f));let{target:a}=e,{value:l}=e;const{update:s}=De,u=()=>{};return t.$$set=f=>{"target"in f&&n(3,a=f.target),"value"in f&&n(0,l=f.value)},t.$$.update=()=>{t.$$.dirty&25&&n(1,i=o[a]===l),t.$$.dirty&11&&n(2,r=i?u:()=>s(f=>({...f,[a]:l})))},[l,i,r,a,o]}class se extends X{constructor(e){super(),Z(this,e,ui,si,G,{target:3,value:0})}}function qt(t){let e,n;return e=new he({props:{icon:"Help",label:"Help",onClick:t[1].help}}),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const o={};i&2&&(o.onClick=r[1].help),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function Wt(t){let e,n;return e=new he({props:{icon:"Shuffle",label:"Shuffle",onClick:t[1].shuffle}}),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const o={};i&2&&(o.onClick=r[1].shuffle),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function Jt(t){let e,n;return e=new he({props:{icon:"Undo",label:"Undo",onClick:t[1].undo}}),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const o={};i&2&&(o.onClick=r[1].undo),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function Gt(t){let e,n;return e=new at({props:{title:"Settings",$$slots:{default:[fi]},$$scope:{ctx:t}}}),e.$on("close",t[2]("close")),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const o={};i&8&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function fi(t){let e,n,r,i,o,a,l,s,u,f,c,d,g,m,w,$,B,I,D,y,P,F,V,L,A,z,v,h,S,M,N;return a=new se({props:{target:"game",value:"deck"}}),s=new se({props:{target:"game",value:"pileon"}}),m=new se({props:{target:"colors",value:"default"}}),$=new se({props:{target:"colors",value:"standard"}}),I=new se({props:{target:"colors",value:"four-color"}}),L=new se({props:{target:"size",value:"default"}}),z=new se({props:{target:"size",value:"bridge"}}),h=new se({props:{target:"size",value:"poker"}}),M=new se({props:{target:"size",value:"small"}}),{c(){e=C("table"),n=C("tr"),r=C("th"),r.textContent="Game:",i=R(),o=C("td"),K(a.$$.fragment),l=J(" / "),K(s.$$.fragment),u=R(),f=C("tr"),c=C("th"),c.textContent="Colors:",d=R(),g=C("td"),K(m.$$.fragment),w=J(" / "),K($.$$.fragment),B=J(" / "),K(I.$$.fragment),D=R(),y=C("tr"),P=C("th"),P.textContent="Size:",F=R(),V=C("td"),K(L.$$.fragment),A=J(" / "),K(z.$$.fragment),v=J(" / "),K(h.$$.fragment),S=J(" / "),K(M.$$.fragment),p(r,"class","svelte-uw79fp"),p(o,"class","svelte-uw79fp"),p(c,"class","svelte-uw79fp"),p(g,"class","svelte-uw79fp"),p(P,"class","svelte-uw79fp"),p(V,"class","svelte-uw79fp"),p(e,"class","svelte-uw79fp")},m(E,W){O(E,e,W),_(e,n),_(n,r),_(n,i),_(n,o),j(a,o,null),_(o,l),j(s,o,null),_(e,u),_(e,f),_(f,c),_(f,d),_(f,g),j(m,g,null),_(g,w),j($,g,null),_(g,B),j(I,g,null),_(e,D),_(e,y),_(y,P),_(y,F),_(y,V),j(L,V,null),_(V,A),j(z,V,null),_(V,v),j(h,V,null),_(V,S),j(M,V,null),N=!0},p:q,i(E){N||(b(a.$$.fragment,E),b(s.$$.fragment,E),b(m.$$.fragment,E),b($.$$.fragment,E),b(I.$$.fragment,E),b(L.$$.fragment,E),b(z.$$.fragment,E),b(h.$$.fragment,E),b(M.$$.fragment,E),N=!0)},o(E){k(a.$$.fragment,E),k(s.$$.fragment,E),k(m.$$.fragment,E),k($.$$.fragment,E),k(I.$$.fragment,E),k(L.$$.fragment,E),k(z.$$.fragment,E),k(h.$$.fragment,E),k(M.$$.fragment,E),N=!1},d(E){E&&T(e),U(a),U(s),U(m),U($),U(I),U(L),U(z),U(h),U(M)}}}function ci(t){let e,n,r,i,o,a,l,s,u=t[1].help!==void 0&&qt(t),f=t[1].shuffle!==void 0&&Wt(t);i=new he({props:{icon:"Menu",label:"Settings",onClick:t[2]("open")}});let c=t[1].undo!==void 0&&Jt(t),d=t[0]&&Gt(t);return{c(){e=C("div"),u&&u.c(),n=R(),f&&f.c(),r=R(),K(i.$$.fragment),o=R(),c&&c.c(),a=R(),d&&d.c(),l=kt(),p(e,"class","menu svelte-uw79fp")},m(g,m){O(g,e,m),u&&u.m(e,null),_(e,n),f&&f.m(e,null),_(e,r),j(i,e,null),_(e,o),c&&c.m(e,null),O(g,a,m),d&&d.m(g,m),O(g,l,m),s=!0},p(g,[m]){g[1].help!==void 0?u?(u.p(g,m),m&2&&b(u,1)):(u=qt(g),u.c(),b(u,1),u.m(e,n)):u&&(Q(),k(u,1,1,()=>{u=null}),Y()),g[1].shuffle!==void 0?f?(f.p(g,m),m&2&&b(f,1)):(f=Wt(g),f.c(),b(f,1),f.m(e,r)):f&&(Q(),k(f,1,1,()=>{f=null}),Y()),g[1].undo!==void 0?c?(c.p(g,m),m&2&&b(c,1)):(c=Jt(g),c.c(),b(c,1),c.m(e,null)):c&&(Q(),k(c,1,1,()=>{c=null}),Y()),g[0]?d?(d.p(g,m),m&1&&b(d,1)):(d=Gt(g),d.c(),b(d,1),d.m(l.parentNode,l)):d&&(Q(),k(d,1,1,()=>{d=null}),Y())},i(g){s||(b(u),b(f),b(i.$$.fragment,g),b(c),b(d),s=!0)},o(g){k(u),k(f),k(i.$$.fragment,g),k(c),k(d),s=!1},d(g){g&&(T(e),T(a),T(l)),u&&u.d(),f&&f.d(),U(i),c&&c.d(),d&&d.d(g)}}}function di(t,e,n){let r;me(t,$e,a=>n(1,r=a));let i=!1;return[i,r,a=>l=>{n(0,i=a==="open"),l.stopPropagation()}]}class gi extends X{constructor(e){super(),Z(this,e,di,ci,G,{})}}var re={},oe={};function Pe(t){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(t)}Object.defineProperty(oe,"__esModule",{value:!0});var bt=oe.Cards=oe.CardSuits=Zn=oe.CardStringType=oe.Card=void 0;function fe(t,e,n){return e=Jn(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jn(r.key),r)}}function Wn(t,e,n){return e&&Qt(t.prototype,e),n&&Qt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jn(t){var e=mi(t,"string");return Pe(e)==="symbol"?e:String(e)}function mi(t,e){if(Pe(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pe(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&He(t,e)}function vi(t){var e=Qn();return function(){var r=Ve(t),i;if(e){var o=Ve(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Gn(this,i)}}function Gn(t,e){if(e&&(Pe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pi(t)}function pi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t){var e=typeof Map=="function"?new Map:void 0;return yt=function(r){if(r===null||!bi(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Ze(r,arguments,Ve(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),He(i,r)},yt(t)}function Ze(t,e,n){return Qn()?Ze=Reflect.construct.bind():Ze=function(i,o,a){var l=[null];l.push.apply(l,o);var s=Function.bind.apply(i,l),u=new s;return a&&He(u,a.prototype),u},Ze.apply(null,arguments)}function Qn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bi(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function He(t,e){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},He(t,e)}function Ve(t){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ve(t)}function yi(t,e){return ki(t)||Si(t,e)||wi(t,e)||_i()}function _i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wi(t,e){if(t){if(typeof t=="string")return Yt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yt(t,e)}}function Yt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Si(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(f){u=!0,i=f}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function ki(t){if(Array.isArray(t))return t}var Yn=function(t){return t[t.Hearts=0]="Hearts",t[t.Spades=1]="Spades",t[t.Diamonds=2]="Diamonds",t[t.Clubs=3]="Clubs",t}({});oe.CardSuits=Yn;var Nt=function(t){return t.Char="CHAR",t.Short="SHORT",t.Long="LONG",t.ShortEmoji="SHORT_EMOJI",t.ShortSuit="SHORT_SUIT",t.LongSuit="LONG_SUIT",t.EmojiSuit="EMOJI_SUIT",t.ShortValue="SHORT_VALUE",t.LongValue="LONG_VALUE",t}({}),Zn=oe.CardStringType=Nt,Ci={"♥":0,"♠":1,"♦":2,"♣":3,h:0,s:1,d:2,c:3},Ti={A:1,T:10,J:11,Q:12,K:13},Ni=function(e){var n=/^([2-9ATJQK]{1}|10)([♥♠♦♣hsdc]{1})$/,r=e.match(n);if(!r)throw new Error('Could not parse card from "'.concat(e,'". Input should match ').concat(n,"."));var i=yi(r,3);i[0];var o=i[1],a=i[2],l=Number(o),s=(Number.isNaN(l)?Ti[o]:l)-1;return Ci[a]*13+s},Oi=function(e){var n=/^_[a-z]+$/i;if(e.match(n)){var r=Array.from(e.slice(1));return r.map(function(i){var o=i.charCodeAt(0);return o<91?o-65:o-97+26})}return e.split(/[\s,]+/)},Ei=function(t){hi(n,t);var e=vi(n);function n(r){var i;if(qn(this,n),typeof r=="number")i=e.call(this,r);else{i=e.call(this);var o=Array.isArray(r)?r:Oi(r);o.forEach(function(a){return i.push(new ae(a))})}return Gn(i)}return Wn(n,[{key:"toString",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ae.StringType.Short;return i===Nt.Char?"_"+this.map(function(o){return o.toString(i)}).join(""):this.map(function(o){return o.toString(i)}).join(", ")}}]),n}(yt(Array));bt=oe.Cards=Ei;var Ai=function(e){return typeof e=="string"?Ni(e):e instanceof ae?e.num:e},ae=function(){function t(e){qn(this,t),fe(this,"num",void 0),this.num=Ai(e)}return Wn(t,[{key:"suit",get:function(){return t.getSuit(this.num)}},{key:"value",get:function(){return t.getValue(this.num)}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.StringType.Long;switch(n){case t.StringType.Short:return this.toString(t.StringType.ShortValue)+this.toString(t.StringType.ShortSuit);case t.StringType.ShortEmoji:return this.toString(t.StringType.ShortValue)+this.toString(t.StringType.EmojiSuit);case t.StringType.Long:return this.toString(t.StringType.LongValue)+" of "+this.toString(t.StringType.LongSuit);case t.StringType.Char:return t.chars[this.num];case t.StringType.ShortSuit:return t.shortSuits[this.suit];case t.StringType.LongSuit:return t.longSuits[this.suit];case t.StringType.EmojiSuit:return t.emojiSuits[this.suit];case t.StringType.ShortValue:return t.shortValues[this.value===13?0:this.value];case t.StringType.LongValue:return t.longValues[this.value===13?0:this.value]}throw new Error("Unsupported output type")}}],[{key:"fromJSON",value:function(n){var r=n.num;return new t(r)}},{key:"getSuit",value:function(n){return Math.floor(n/13)%4}},{key:"getValue",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return n%13||r?n%13:13}},{key:"compare",value:function(n,r){return r.value-n.value}}]),t}();oe.Card=ae;fe(ae,"Suits",Yn);fe(ae,"StringType",Nt);fe(ae,"chars","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz");fe(ae,"emojiSuits",["♥","♠","♦","♣"]);fe(ae,"shortSuits",["h","s","d","c"]);fe(ae,"longSuits",["hearts","spades","diamonds","clubs"]);fe(ae,"shortValues",["A","2","3","4","5","6","7","8","9","T","J","Q","K"]);fe(ae,"longValues",["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"]);var lt={},x={};Object.defineProperty(x,"__esModule",{value:!0});x.uniqueFilter=x.shuffle=x.last=x.isSorted=x.getCombinationsHelper=x.getCombinations=x.arraySubtraction=void 0;var Di=function(e,n){return e.filter(function(r){return!n.includes(r)})};x.arraySubtraction=Di;var Xn=function t(e,n,r,i,o){if(i.length>=n)o.push(i);else for(var a=r;a<e.length;a++)t(e,n,a+1,i.concat(e[a]),o)};x.getCombinationsHelper=Xn;var $i=function(e,n){var r=[];return Xn(e,n,0,[],r),r};x.getCombinations=$i;var Pi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=r?-1:1;try{return e.reduce(function(o,a){if(i*n(o,a)<=0)return a;throw new Error}),!0}catch{return!1}};x.isSorted=Pi;var Fi=function(e){return e[e.length-1]};x.last=Fi;var Li=function(e){for(var n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),i=[e[r],e[n]];e[n]=i[0],e[r]=i[1]}return e};x.shuffle=Li;var Mi=function(e,n,r){return r.indexOf(e)===n};x.uniqueFilter=Mi;Object.defineProperty(lt,"__esModule",{value:!0});lt.Deck=void 0;var Zt=x,Re=oe;function qe(t){"@babel/helpers - typeof";return qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(t)}function Ii(t){return Ki(t)||Ui(t)||ji(t)||Ri()}function Ri(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ji(t,e){if(t){if(typeof t=="string")return _t(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _t(t,e)}}function Ui(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ki(t){if(Array.isArray(t))return _t(t)}function _t(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xn(r.key),r)}}function Bi(t,e,n){return e&&Xt(t.prototype,e),n&&Xt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hi(t,e,n){return e=xn(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xn(t){var e=Vi(t,"string");return qe(e)==="symbol"?e:String(e)}function Vi(t,e){if(qe(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qe(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qi=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;zi(this,t),Hi(this,"cards",void 0),this.cards=Ii(Array(52*n).keys()).map(function(r){return new Re.Card(r)}),e&&this.shuffle()}return Bi(t,[{key:"shuffle",value:function(){(0,Zt.shuffle)(this.cards)}},{key:"isShuffled",value:function(){return!(0,Zt.isSorted)(this.cards,function(n,r){return n.num-r.num})}},{key:"cardsRemaining",get:function(){return this.cards.length}},{key:"pop",value:function(){return this.cards.pop()}},{key:"popN",value:function(n){for(var r=[],i,o=0;o<n&&(i=this.pop());o++)r.push(i);return r}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Re.Card.StringType.Char;return new Re.Cards(this.cards).toString(n)}}],[{key:"fromJSON",value:function(n){var r=n.cards,i=new t(!1,0);return i.cards=r.map(function(o){return Re.Card.fromJSON(o)}),i}},{key:"fromString",value:function(n){var r=new t(!1,0);return r.cards=new Re.Cards(n),r}}]),t}();lt.Deck=qi;var Fe={},st={};Object.defineProperty(st,"__esModule",{value:!0});st.uuid4=void 0;var Wi=function(e){var n;do n=Math.random().toString(16).slice(2,e+2);while(n.length<e&&e<=12);return n},Ji=function(){var e=[8,4,4,4,12],n=e.map(Wi).join("-").split("");return n[14]="4",n[19]=(Math.floor(Math.random()*64)%4+8).toString(16),n.join("")};st.uuid4=Ji;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.HandRank=Fe.Hand=void 0;var Te=x,de=oe,Gi=st;function ge(t){"@babel/helpers - typeof";return ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(t)}function be(t){return Xi(t)||Zi(t)||Yi(t)||Qi()}function Qi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yi(t,e){if(t){if(typeof t=="string")return wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(t,e)}}function Zi(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xi(t){if(Array.isArray(t))return wt(t)}function wt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,er(r.key),r)}}function eo(t,e,n){return e&&xt(t.prototype,e),n&&xt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xe(t,e,n){return e=er(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function er(t){var e=to(t,"string");return ge(e)==="symbol"?e:String(e)}function to(t,e){if(ge(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ge(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tr=function(t){return t[t.High=0]="High",t[t.Pair=5]="Pair",t[t.TwoPairs=10]="TwoPairs",t[t.ThreeOfAKind=15]="ThreeOfAKind",t[t.Straight=20]="Straight",t[t.Flush=25]="Flush",t[t.FullHouse=30]="FullHouse",t[t.FourOfAKind=35]="FourOfAKind",t[t.StraightFlush=40]="StraightFlush",t[t.FiveOfAKind=45]="FiveOfAKind",t}({});Fe.HandRank=tr;var nr=function(){function t(e,n,r){xi(this,t),Xe(this,"uuid",void 0),Xe(this,"rank",void 0),Xe(this,"cards",void 0),this.rank=e,this.cards=n,this.uuid=r||(0,Gi.uuid4)()}return eo(t,[{key:"getCardsString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:de.Card.StringType.Short;return new de.Cards(this.cards).toString(n)}},{key:"toString",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:de.Card.StringType.Short,i=de.Card.StringType.LongValue,o=function(s){return n.cards[s].toString(i)},a=this.getCardsString(r);switch(this.rank){case t.Rank.FiveOfAKind:return"Five of a kind, ".concat(o(0),"s (").concat(a,")");case t.Rank.StraightFlush:return"Straigth flush, ".concat(o(0)," high (").concat(a,")");case t.Rank.FourOfAKind:return"Four of a kind, ".concat(o(0),"s (").concat(a,")");case t.Rank.FullHouse:return"Full house, ".concat(o(0),"s over ").concat(o(3),"s (").concat(a,")");case t.Rank.Flush:return"Flush, ".concat(o(0)," high (").concat(a,")");case t.Rank.Straight:return"Straigth, ".concat(o(0)," high (").concat(a,")");case t.Rank.ThreeOfAKind:return"Three of a kind, ".concat(o(0),"s (").concat(a,")");case t.Rank.TwoPairs:return"Two pairs, ".concat(o(0),"s and ").concat(o(2),"s (").concat(a,")");case t.Rank.Pair:return"Pair, ".concat(o(0),"s (").concat(a,")");case t.Rank.High:return"".concat(o(0).replace(/^\w/,function(l){return l.toUpperCase()})," high (").concat(a,")")}throw new Error("Unsupported rank value")}}],[{key:"fromJSON",value:function(n){var r=n.rank,i=n.cards,o=n.uuid;return new t(r,i.map(de.Card.fromJSON),o)}},{key:"solve",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,i,o;return(i=t.isNumOfAKind(5,n))?o=t.Rank.FiveOfAKind:(i=t.isStraightFlush(n,r))?o=t.Rank.StraightFlush:(i=t.isNumOfAKind(4,n))?o=t.Rank.FourOfAKind:(i=t.isFullHouse(n))?o=t.Rank.FullHouse:(i=t.isFlush(n,r))?o=t.Rank.Flush:(i=t.isStraight(n,r))?o=t.Rank.Straight:(i=t.isNumOfAKind(3,n))?o=t.Rank.ThreeOfAKind:(i=t.isTwoPairs(n))?o=t.Rank.TwoPairs:(i=t.isNumOfAKind(2,n))?o=t.Rank.Pair:(i=[],o=t.Rank.High),i=t.fillWithKickers(i,n),new t(o,i)}},{key:"solveHoldEm",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(i===0)return t.solve([].concat(be(n),be(r)));for(var o=(0,Te.getCombinations)(n,n.length-i),a=(0,Te.getCombinations)(r,Math.min(r.length,i)),l=[],s=0;s<o.length;s++)for(var u=0;u<a.length;u++)l.push(t.solve([].concat(be(o[s]),be(a[u]))));return t.max.apply(t,l)}},{key:"compare",value:function(n,r){var i;if(n.cards.length!==r.cards.length)throw new Error("Comparing hands with different number of cards");if((i=r.rank-n.rank)!==0)return i;for(var o=0;o<n.cards.length;o++)if((i=de.Card.compare(n.cards[o],r.cards[o]))!==0)return i;return 0}},{key:"winners",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=t.max.apply(t,r);return r.filter(function(a){return!t.compare(a,o)})}},{key:"max",value:function(){for(var n=function(l,s){return t.compare(l,s)<0?l:s},r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.reduce(function(a,l){return n(a,l)})}},{key:"fillWithKickers",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;return r=(0,Te.arraySubtraction)(r,n).sort(de.Card.compare),[].concat(be(n),be(r)).slice(0,i)}},{key:"getUniqueValues",value:function(n){return n.map(function(r){return r.value}).filter(Te.uniqueFilter).sort(function(r,i){return i-r})}},{key:"isNumOfAKind",value:function(n,r){for(var i=t.getUniqueValues(r),o,a=function(f){if(o=r.filter(function(c){return c.value==i[f]}),o.length>=n)return{v:o}},l=0;l<i.length;l++){var s=a(l);if(ge(s)==="object")return s.v}return!1}},{key:"isNumOfAKindCombination",value:function(n,r){for(var i=[],o=0;o<n.length;o++){var a=t.isNumOfAKind(n[o],(0,Te.arraySubtraction)(r,i));if(a===!1)return!1;a=a,i.push.apply(i,be(a))}return i}},{key:"isStraightFlush",value:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,i=[],o=function(u){if(i=n.filter(function(c){return c.suit===u}),i.length<r)return"continue";var f=t.isStraight(i,r);if(f)return{v:f}},a=0;a<4;a++){var l=o(a);if(l!=="continue"&&ge(l)==="object")return l.v}return!1}},{key:"isFullHouse",value:function(n){return t.isNumOfAKindCombination([3,2],n)}},{key:"isFlush",value:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,i=function(s){var u=n.filter(function(f){return f.suit==s});if(u.length>=r)return{v:u.sort(de.Card.compare).slice(0,r)}},o=0;o<4;o++){var a=i(o);if(ge(a)==="object")return a.v}return!1}},{key:"isStraight",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,i=t.getUniqueValues(n);if(i.length<r)return!1;i.includes(13)&&i.push(0);for(var o=[i[0]],a=1;a<i.length&&o.length<r;a++)(0,Te.last)(o)-i[a]===1?o.push(i[a]):o=[i[a]];return o.length==r?o.map(function(l){return n.find(function(s){return s.value===(l||13)})}):!1}},{key:"isTwoPairs",value:function(n){return t.isNumOfAKindCombination([2,2],n)}}]),t}();Fe.Hand=nr;Xe(nr,"Rank",tr);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Card",{enumerable:!0,get:function(){return e.Card}}),Object.defineProperty(t,"CardStringType",{enumerable:!0,get:function(){return e.CardStringType}}),Object.defineProperty(t,"Cards",{enumerable:!0,get:function(){return e.Cards}}),Object.defineProperty(t,"Deck",{enumerable:!0,get:function(){return n.Deck}}),Object.defineProperty(t,"Hand",{enumerable:!0,get:function(){return r.Hand}});var e=oe,n=lt,r=Fe})(re);const no=4.5,ro=5,io=3,en=7,oo=5,rr=t=>{switch(t){case"bridge":return{height:en,width:no};case"poker":return{height:en,width:ro};case"small":return{height:oo,width:io}}},Ot="card-appearance",ao={size:"bridge",fourColor:!1},lo=({size:t,colors:e})=>({size:t==="default"?"poker":t,fourColor:e==="four-color"}),ir=t=>{const e=Tt(ao,n=>(De.subscribe(r=>n(t(r))),()=>{}));return br(Ot,e),e},Et=()=>Mn(Ot),so=t=>{const e=Mn(Ot);if(e){const n=gr(De);e.set(t(n))}},St=(t,e,n={})=>r=>{(Array.isArray(t)?t:[t]).includes(r.code)&&e!==void 0&&(n.preventDefault&&r.preventDefault(),e())};function uo(t){let e,n;return{c(){e=xe("svg"),n=xe("path"),p(n,"d",t[1]),p(n,"fill","CurrentColor"),p(e,"viewBox","0 0 16 20"),p(e,"class","svelte-1jimf84"),H(e,"flip",t[0])},m(r,i){O(r,e,i),_(e,n)},p(r,[i]){i&2&&p(n,"d",r[1]),i&1&&H(e,"flip",r[0])},i:q,o:q,d(r){r&&T(e)}}}function fo(t,e,n){let r,{suit:i=null}=e,{flip:o=!1}=e;const a=l=>{switch(l){case"hearts":return"M 8 2 C 9 0 11 0 12 0 C 13 0 16 1 16 6 C 16 8 15.5 10 14 12 L 8 20 L 2 12 C 0.5 10 0 8 0 6 C 0 1 3 0 4 0 C 5 0 7 0 8 2";case"spades":return"M 8 0 L 13 5 C 16 8 16 10 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 10 0 8 3 5 L 8 0";case"diamonds":return"M 8 0 L 16 10 L 8 20 L 0 10 L 8 0";case"clubs":return"M 8 0 C 10 0 12 2 12 4 C 12 6 11 8 8 10 C 9 8 10 7 12 7 C 14 7 16 9 16 12 C 16 14 14 16 12 16 C 11 16 9 16 8 14 L 12 20 L 4 20 L 8 14 C 7 16 5 16 4 16 C 2 16 0 14 0 12 C 0 9 2 7 4 7 C 6 7 7 8 8 10 C 5 8 4 6 4 4 C 4 2 6 0 8 0";default:return null}};return t.$$set=l=>{"suit"in l&&n(2,i=l.suit),"flip"in l&&n(0,o=l.flip)},t.$$.update=()=>{t.$$.dirty&4&&n(1,r=a(i))},[o,r,i]}class or extends X{constructor(e){super(),Z(this,e,fo,uo,G,{suit:2,flip:0})}}function tn(t,e,n){const r=t.slice();return r[5]=e[n],r}function nn(t,e,n){const r=t.slice();return r[8]=e[n],r}function rn(t){let e,n,r;return n=new or({props:{suit:t[0],flip:t[8].toLowerCase()==="d"}}),{c(){e=C("span"),K(n.$$.fragment),p(e,"class","svelte-1sm49dl")},m(i,o){O(i,e,o),j(n,e,null),r=!0},p(i,o){const a={};o&1&&(a.suit=i[0]),o&2&&(a.flip=i[8].toLowerCase()==="d"),n.$set(a)},i(i){r||(b(n.$$.fragment,i),r=!0)},o(i){k(n.$$.fragment,i),r=!1},d(i){i&&T(e),U(n)}}}function on(t){let e,n,r,i,o=ie(t[5].split("")),a=[];for(let s=0;s<o.length;s+=1)a[s]=rn(nn(t,o,s));const l=s=>k(a[s],1,1,()=>{a[s]=null});return{c(){e=C("div");for(let s=0;s<a.length;s+=1)a[s].c();n=R(),p(e,"class",r="row "+t[3](t[5])+" svelte-1sm49dl")},m(s,u){O(s,e,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);_(e,n),i=!0},p(s,u){if(u&7){o=ie(s[5].split(""));let f;for(f=0;f<o.length;f+=1){const c=nn(s,o,f);a[f]?(a[f].p(c,u),b(a[f],1)):(a[f]=rn(c),a[f].c(),b(a[f],1),a[f].m(e,n))}for(Q(),f=o.length;f<a.length;f+=1)l(f);Y()}(!i||u&2&&r!==(r="row "+s[3](s[5])+" svelte-1sm49dl"))&&p(e,"class",r)},i(s){if(!i){for(let u=0;u<o.length;u+=1)b(a[u]);i=!0}},o(s){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)k(a[u]);i=!1},d(s){s&&T(e),Ae(a,s)}}}function co(t){let e,n,r=ie(t[2](t[1])),i=[];for(let a=0;a<r.length;a+=1)i[a]=on(tn(t,r,a));const o=a=>k(i[a],1,1,()=>{i[a]=null});return{c(){e=C("div");for(let a=0;a<i.length;a+=1)i[a].c();p(e,"class","center-pattern svelte-1sm49dl")},m(a,l){O(a,e,l);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null);n=!0},p(a,[l]){if(l&15){r=ie(a[2](a[1]));let s;for(s=0;s<r.length;s+=1){const u=tn(a,r,s);i[s]?(i[s].p(u,l),b(i[s],1)):(i[s]=on(u),i[s].c(),b(i[s],1),i[s].m(e,null))}for(Q(),s=r.length;s<i.length;s+=1)o(s);Y()}},i(a){if(!n){for(let l=0;l<r.length;l+=1)b(i[l]);n=!0}},o(a){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)k(i[l]);n=!1},d(a){a&&T(e),Ae(i,a)}}}function go(t,e,n){let{suit:r}=e,{rank:i}=e;const o={A:["U"],2:["U","D"],3:["U","U","D"],4:["UU","DD"],5:["UU","U","DD"],6:["UU","UU","DD"],7:["UU","u","UU","DD"],8:["UU","UU","DD","DD"],9:["UU","u","UU","DD","DD"],10:["UU","u","UU","DD","d","DD"]},a=s=>o[s]??[],l=s=>s.toUpperCase()===s?"grow":"";return t.$$set=s=>{"suit"in s&&n(0,r=s.suit),"rank"in s&&n(1,i=s.rank)},[r,i,a,l]}class mo extends X{constructor(e){super(),Z(this,e,go,co,G,{suit:0,rank:1})}}function ho(t){let e,n;const r=t[1].default,i=An(r,t,t[0],null);return{c(){e=C("span"),i&&i.c(),p(e,"class","screen-reader-only svelte-3uotpv")},m(o,a){O(o,e,a),i&&i.m(e,null),n=!0},p(o,[a]){i&&i.p&&(!n||a&1)&&Pn(i,r,o,o[0],n?$n(r,o[0],a,null):Fn(o[0]),null)},i(o){n||(b(i,o),n=!0)},o(o){k(i,o),n=!1},d(o){o&&T(e),i&&i.d(o)}}}function vo(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=o=>{"$$scope"in o&&n(0,i=o.$$scope)},[i,r]}class po extends X{constructor(e){super(),Z(this,e,vo,ho,G,{})}}function an(t,e,n){const r=t.slice();return r[16]=e[n],r}function ln(t){let e,n;return e=new po({props:{$$slots:{default:[bo]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const o={};i&524320&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function bo(t){let e;return{c(){e=J(t[5])},m(n,r){O(n,e,r)},p(n,r){r&32&&le(e,n[5])},d(n){n&&T(e)}}}function sn(t){let e,n;return e=new mo({props:{suit:t[7],rank:t[8]}}),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const o={};i&128&&(o.suit=r[7]),i&256&&(o.rank=r[8]),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function un(t){let e,n,r,i,o,a,l,s,u,f,c;l=new or({props:{suit:t[7]}});let d=!t[10]&&sn(t);return{c(){e=C("div"),n=C("div"),r=J(t[8]),o=R(),a=C("div"),K(l.$$.fragment),s=R(),u=C("div"),d&&d.c(),f=R(),p(n,"class",i="rank rank-"+t[8]+" svelte-t2vtqs"),p(a,"class","suit svelte-t2vtqs"),p(e,"aria-hidden","true"),p(e,"class",t[16]+" label svelte-t2vtqs"),p(u,"class","center svelte-t2vtqs"),H(u,"face",t[6])},m(g,m){O(g,e,m),_(e,n),_(n,r),_(e,o),_(e,a),j(l,a,null),O(g,s,m),O(g,u,m),d&&d.m(u,null),_(u,f),c=!0},p(g,m){(!c||m&256)&&le(r,g[8]),(!c||m&256&&i!==(i="rank rank-"+g[8]+" svelte-t2vtqs"))&&p(n,"class",i);const w={};m&128&&(w.suit=g[7]),l.$set(w),g[10]?d&&(Q(),k(d,1,1,()=>{d=null}),Y()):d?(d.p(g,m),m&1024&&b(d,1)):(d=sn(g),d.c(),b(d,1),d.m(u,f)),(!c||m&64)&&H(u,"face",g[6])},i(g){c||(b(l.$$.fragment,g),b(d),c=!0)},o(g){k(l.$$.fragment,g),k(d),c=!1},d(g){g&&(T(e),T(s),T(u)),U(l),d&&d.d()}}}function yo(t){let e,n,r,i,o=t[3]&&ln(t),a=ie(t[13]),l=[];for(let u=0;u<a.length;u+=1)l[u]=un(an(t,a,u));const s=u=>k(l[u],1,1,()=>{l[u]=null});return{c(){e=C("div"),o&&o.c(),n=R();for(let u=0;u<l.length;u+=1)l[u].c();p(e,"class",r="card "+t[7]+" stack-"+t[2]+" svelte-t2vtqs"),H(e,"bridge",t[11]),H(e,"small",t[10]),H(e,"fourColor",t[9]),H(e,"empty",t[0]),H(e,"hidden",t[4]),H(e,"shadow",t[1]),H(e,"visible",t[3])},m(u,f){O(u,e,f),o&&o.m(e,null),_(e,n);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);i=!0},p(u,[f]){if(u[3]?o?(o.p(u,f),f&8&&b(o,1)):(o=ln(u),o.c(),b(o,1),o.m(e,n)):o&&(Q(),k(o,1,1,()=>{o=null}),Y()),f&9664){a=ie(u[13]);let c;for(c=0;c<a.length;c+=1){const d=an(u,a,c);l[c]?(l[c].p(d,f),b(l[c],1)):(l[c]=un(d),l[c].c(),b(l[c],1),l[c].m(e,null))}for(Q(),c=a.length;c<l.length;c+=1)s(c);Y()}(!i||f&132&&r!==(r="card "+u[7]+" stack-"+u[2]+" svelte-t2vtqs"))&&p(e,"class",r),(!i||f&2180)&&H(e,"bridge",u[11]),(!i||f&1156)&&H(e,"small",u[10]),(!i||f&644)&&H(e,"fourColor",u[9]),(!i||f&133)&&H(e,"empty",u[0]),(!i||f&148)&&H(e,"hidden",u[4]),(!i||f&134)&&H(e,"shadow",u[1]),(!i||f&140)&&H(e,"visible",u[3])},i(u){if(!i){b(o);for(let f=0;f<a.length;f+=1)b(l[f]);i=!0}},o(u){k(o),l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);i=!1},d(u){u&&T(e),o&&o.d(),Ae(l,u)}}}function _o(t,e,n){let r,i,o,a,l,s,u,f,c,d;const g=Et();me(t,g,D=>n(15,d=D));let{card:m=null}=e,{empty:w=!1}=e,{shadow:$=!1}=e,{stack:B=void 0}=e;const I=["top","bottom"];return t.$$set=D=>{"card"in D&&n(14,m=D.card),"empty"in D&&n(0,w=D.empty),"shadow"in D&&n(1,$=D.shadow),"stack"in D&&n(2,B=D.stack)},t.$$.update=()=>{t.$$.dirty&32768&&n(11,r=d.size==="bridge"),t.$$.dirty&32768&&n(10,i=d.size==="small"),t.$$.dirty&32768&&n(9,o=d.fourColor),t.$$.dirty&16386&&n(4,a=m===null&&!$),t.$$.dirty&19&&n(3,l=!(w||a||$)),t.$$.dirty&16392&&n(8,s=l&&m.toString(re.Card.StringType.ShortValue).replace("T","10")),t.$$.dirty&16392&&n(7,u=l&&m.toString(re.Card.StringType.LongSuit)),t.$$.dirty&16392&&n(6,f=l&&m.num%13>9),t.$$.dirty&16392&&n(5,c=l&&m.toString(re.Card.StringType.Long))},[w,$,B,l,a,c,f,u,s,o,i,r,g,I,m,d]}class ut extends X{constructor(e){super(),Z(this,e,_o,yo,G,{card:14,empty:0,shadow:1,stack:2})}}function fn(t,e,n){const r=t.slice();return r[19]=e[n].card,r[20]=e[n].shadow,r[21]=e[n].transform,r}function cn(t){let e,n;return e=new ut({props:{card:t[0],empty:t[0]===void 0}}),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const o={};i&1&&(o.card=r[0]),i&1&&(o.empty=r[0]===void 0),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function dn(t){let e,n,r,i;return n=new ut({props:{card:t[19],shadow:t[20]}}),{c(){e=C("div"),K(n.$$.fragment),r=R(),p(e,"class","shadow-container svelte-1ns87h6"),Oe(e,"transform",t[21])},m(o,a){O(o,e,a),j(n,e,null),_(e,r),i=!0},p(o,a){const l={};a&8&&(l.card=o[19]),a&8&&(l.shadow=o[20]),n.$set(l),(!i||a&8)&&Oe(e,"transform",o[21])},i(o){i||(b(n.$$.fragment,o),i=!0)},o(o){k(n.$$.fragment,o),i=!1},d(o){o&&T(e),U(n)}}}function wo(t){let e,n,r,i,o,a,l=!t[1]&&cn(t),s=ie(t[3]),u=[];for(let c=0;c<s.length;c+=1)u[c]=dn(fn(t,s,c));const f=c=>k(u[c],1,1,()=>{u[c]=null});return{c(){e=C("div"),n=C("div"),l&&l.c(),r=R();for(let c=0;c<u.length;c+=1)u[c].c();p(n,"aria-atomic","true"),p(n,"aria-live","polite"),p(e,"aria-label",t[2]),p(e,"aria-disabled",t[1]),p(e,"class","deck svelte-1ns87h6"),p(e,"role","button"),p(e,"tabindex","0"),H(e,"bridge",t[5]),H(e,"small",t[4]),H(e,"shuffling",t[1])},m(c,d){O(c,e,d),_(e,n),l&&l.m(n,null),_(n,r);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(n,null);i=!0,o||(a=[ne(e,"keydown",St(["Space","Enter"],t[7],{preventDefault:!0})),ne(e,"click",t[7])],o=!0)},p(c,[d]){if(c[1]?l&&(Q(),k(l,1,1,()=>{l=null}),Y()):l?(l.p(c,d),d&2&&b(l,1)):(l=cn(c),l.c(),b(l,1),l.m(n,r)),d&8){s=ie(c[3]);let g;for(g=0;g<s.length;g+=1){const m=fn(c,s,g);u[g]?(u[g].p(m,d),b(u[g],1)):(u[g]=dn(m),u[g].c(),b(u[g],1),u[g].m(n,null))}for(Q(),g=s.length;g<u.length;g+=1)f(g);Y()}(!i||d&4)&&p(e,"aria-label",c[2]),(!i||d&2)&&p(e,"aria-disabled",c[1]),(!i||d&32)&&H(e,"bridge",c[5]),(!i||d&16)&&H(e,"small",c[4]),(!i||d&2)&&H(e,"shuffling",c[1])},i(c){if(!i){b(l);for(let d=0;d<s.length;d+=1)b(u[d]);i=!0}},o(c){k(l),u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)k(u[d]);i=!1},d(c){c&&T(e),l&&l.d(),Ae(u,c),o=!1,ve(a)}}}function So(t,e,n,r){const i=t/r*e,o=.5*i/(n*52),a=1*i/(n*52);return`translate(${o}em , ${a}em)`}function ko(t,e,n){let r,i,o,a,l,s;const u=Et();me(t,u,F=>n(16,s=F));let{numCards:f=52}=e,{numDecks:c=1}=e,{topCard:d=null}=e,{numShadows:g=10}=e,{shuffleAnimationSteps:m=4}=e,{shuffleAnimationMaxDistanceEm:w=.8}=e,{shuffleAnimationMaxRotateDeg:$=7}=e,{onClick:B=()=>{}}=e,I=0;function D(F,V){const L=h=>[1,V+2].includes(F)?0:(Math.random()*2-1)*h,A=L(w),z=L(w),v=L($);return`translate(${A}em, ${z}em) rotate(${v}deg)`}function y(){I>0&&setTimeout(()=>{n(15,I-=1),y()},250)}function P(){if(!a)return B()}return t.$$set=F=>{"numCards"in F&&n(8,f=F.numCards),"numDecks"in F&&n(9,c=F.numDecks),"topCard"in F&&n(0,d=F.topCard),"numShadows"in F&&n(10,g=F.numShadows),"shuffleAnimationSteps"in F&&n(11,m=F.shuffleAnimationSteps),"shuffleAnimationMaxDistanceEm"in F&&n(12,w=F.shuffleAnimationMaxDistanceEm),"shuffleAnimationMaxRotateDeg"in F&&n(13,$=F.shuffleAnimationMaxRotateDeg),"onClick"in F&&n(14,B=F.onClick)},t.$$.update=()=>{t.$$.dirty&65536&&n(5,r=(s==null?void 0:s.size)==="bridge"),t.$$.dirty&65536&&n(4,i=(s==null?void 0:s.size)==="small"),t.$$.dirty&2817&&d===null&&f===52*c&&m>0&&(n(15,I=m+2),y()),t.$$.dirty&32768&&n(1,a=I>0),t.$$.dirty&36611&&n(3,o=d===void 0?[]:a?[...Array(g)].map(()=>({card:null,shadow:!1,transform:D(I,m)})):[...Array(g)].map((F,V)=>({card:void 0,shadow:!0,transform:So(V,f,c,g)}))),t.$$.dirty&1&&n(2,l=d===void 0?"Shuffle the deck":"Draw a card")},[d,a,l,o,i,r,u,P,f,c,g,m,w,$,B,I,s]}class Co extends X{constructor(e){super(),Z(this,e,ko,wo,G,{numCards:8,numDecks:9,topCard:0,numShadows:10,shuffleAnimationSteps:11,shuffleAnimationMaxDistanceEm:12,shuffleAnimationMaxRotateDeg:13,onClick:14})}}function To(t){let e,n,r;return n=new Co({props:{onClick:t[2],topCard:t[1],numCards:t[0]}}),{c(){e=C("main"),K(n.$$.fragment),p(e,"class","svelte-1tag1lj")},m(i,o){O(i,e,o),j(n,e,null),r=!0},p(i,[o]){const a={};o&2&&(a.topCard=i[1]),o&1&&(a.numCards=i[0]),n.$set(a)},i(i){r||(b(n.$$.fragment,i),r=!0)},o(i){k(n.$$.fragment,i),r=!1},d(i){i&&T(e),U(n)}}}function No(t,e,n){ir(lo);let r=new re.Deck,i=r.cardsRemaining,o=null;function a(){o!==void 0?n(1,o=r.pop()):(r=new re.Deck,n(1,o=null)),n(0,i=r.cardsRemaining)}const l=s=>{s.stopPropagation(),r=new re.Deck,n(1,o=null),n(0,i=r.cardsRemaining)};return Ct(()=>{$e.update(s=>({...s,shuffle:l}))}),Ln(()=>{$e.update(s=>({...s,shuffle:void 0}))}),[i,o,a]}class Oo extends X{constructor(e){super(),Z(this,e,No,To,G,{})}}const it=(t,e)=>rr(e).width+(t-1)*1.125,Eo=(t,e,n)=>t.length===0?"empty":e?`closed${n==="rank"?`, ${t[0].toString(re.CardStringType.LongValue)}s`:""}`:t.toString(re.CardStringType.Long),Ao=(t,e,n,r,i=!1)=>{const o=Eo(new re.Cards(e),r,i),a=n>0?` ${n} cards selected: ${new re.Cards(e.slice(e.length-n)).toString(re.CardStringType.Long)}`:"";return`${t}: ${o}.${a}`},Do=(t,e,n)=>{const r={sourceStack:e,cards:n};t.dataTransfer.setData("application/json",JSON.stringify(r)),t.dataTransfer.effectAllowed="move"},$o=t=>{const{sourceStack:e,cards:n}=JSON.parse(t.dataTransfer.getData("application/json"));return{sourceStack:e,cards:n.map(re.Card.fromJSON)}};function Po(t){let e,n;return e=new ut({props:{card:t[11]?null:t[0][0],stack:"left"}}),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const o={};i&2049&&(o.card=r[11]?null:r[0][0]),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function Fo(t){let e,n;return e=new ut({props:{empty:!0}}),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p:q,i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function gn(t){let e,n,r;return n=new ar({props:{cards:t[0].slice(1),capacity:t[1]-1,nested:!0,closed:t[2],index:t[3],isDraggableFn:t[4],selectedCardsN:t[5]}}),{c(){e=C("div"),K(n.$$.fragment),p(e,"class","nested svelte-o50ay1")},m(i,o){O(i,e,o),j(n,e,null),r=!0},p(i,o){const a={};o&1&&(a.cards=i[0].slice(1)),o&2&&(a.capacity=i[1]-1),o&4&&(a.closed=i[2]),o&8&&(a.index=i[3]),o&16&&(a.isDraggableFn=i[4]),o&32&&(a.selectedCardsN=i[5]),n.$set(a)},i(i){r||(b(n.$$.fragment,i),r=!0)},o(i){k(n.$$.fragment,i),r=!1},d(i){i&&T(e),U(n)}}}function Lo(t){let e,n,r,i,o,a,l,s,u,f;const c=[Fo,Po],d=[];function g(w,$){return w[0].length===0?0:1}r=g(t),i=d[r]=c[r](t);let m=t[0].length>1&&gn(t);return{c(){e=C("div"),n=C("div"),i.c(),o=R(),m&&m.c(),p(n,"aria-hidden",a=t[6]?void 0:"true"),p(e,"aria-label",t[7]),p(e,"class","stack svelte-o50ay1"),p(e,"style",t[14]),p(e,"draggable",t[13]),p(e,"role","button"),p(e,"tabindex",l=t[6]?void 0:0),H(e,"selected",t[12])},m(w,$){O(w,e,$),_(e,n),d[r].m(n,null),_(n,o),m&&m.m(n,null),s=!0,u||(f=[ne(e,"dblclick",t[19]),ne(e,"dragstart",function(){ue(t[10])&&t[10].apply(this,arguments)}),ne(e,"dragover",function(){ue(t[9])&&t[9].apply(this,arguments)}),ne(e,"drop",t[20]),ne(e,"click",function(){ue(t[8])&&t[8].apply(this,arguments)}),ne(e,"keydown",function(){ue(St(["Enter","Space"],t[8],{preventDefault:!0}))&&St(["Enter","Space"],t[8],{preventDefault:!0}).apply(this,arguments)})],u=!0)},p(w,[$]){t=w;let B=r;r=g(t),r===B?d[r].p(t,$):(Q(),k(d[B],1,1,()=>{d[B]=null}),Y(),i=d[r],i?i.p(t,$):(i=d[r]=c[r](t),i.c()),b(i,1),i.m(n,o)),t[0].length>1?m?(m.p(t,$),$&1&&b(m,1)):(m=gn(t),m.c(),b(m,1),m.m(n,null)):m&&(Q(),k(m,1,1,()=>{m=null}),Y()),(!s||$&64&&a!==(a=t[6]?void 0:"true"))&&p(n,"aria-hidden",a),(!s||$&128)&&p(e,"aria-label",t[7]),(!s||$&16384)&&p(e,"style",t[14]),(!s||$&8192)&&p(e,"draggable",t[13]),(!s||$&64&&l!==(l=t[6]?void 0:0))&&p(e,"tabindex",l),(!s||$&4096)&&H(e,"selected",t[12])},i(w){s||(b(i),b(m),s=!0)},o(w){k(i),k(m),s=!1},d(w){w&&T(e),d[r].d(),m&&m.d(),u=!1,ve(f)}}}function Mo(t,e,n){let r,i,o,a,l,s,u,f,c,d;const g=Et();me(t,g,A=>n(18,d=A));let{cards:m=[]}=e,{capacity:w=4}=e,{closed:$=!1}=e,{index:B=0}=e,{isDraggableFn:I=()=>!1}=e,{selectedCardsN:D=0}=e,{labelOptions:y={title:"Stack"}}=e,{nested:P=!1}=e;const F=ot();function V(A){ht.call(this,t,A)}function L(A){ht.call(this,t,A)}return t.$$set=A=>{"cards"in A&&n(0,m=A.cards),"capacity"in A&&n(1,w=A.capacity),"closed"in A&&n(2,$=A.closed),"index"in A&&n(3,B=A.index),"isDraggableFn"in A&&n(4,I=A.isDraggableFn),"selectedCardsN"in A&&n(5,D=A.selectedCardsN),"labelOptions"in A&&n(16,y=A.labelOptions),"nested"in A&&n(6,P=A.nested)},t.$$.update=()=>{t.$$.dirty&262144&&n(17,r=d.size),t.$$.dirty&131074&&n(14,i=`width: ${it(w,r)}em`),t.$$.dirty&21&&n(13,o=!$&&I(m)),t.$$.dirty&33&&n(12,a=D>0&&D===m.length),t.$$.dirty&5&&n(11,l=$&&m.length===1),t.$$.dirty&9&&n(10,s=A=>{A.stopPropagation(),Do(A,B,m)}),t.$$.dirty&72&&n(8,f=()=>{P||F("select",{index:B})}),t.$$.dirty&65637&&n(7,c=P?void 0:Ao(y.title,m,D,$,y.closed))},n(9,u=A=>{A.preventDefault()}),[m,w,$,B,I,D,P,c,f,u,s,l,a,o,i,g,y,r,d,V,L]}class ar extends X{constructor(e){super(),Z(this,e,Mo,Lo,G,{cards:0,capacity:1,closed:2,index:3,isDraggableFn:4,selectedCardsN:5,labelOptions:16,nested:6})}}const lr=(t,e)=>{const n=t/e;return n<3/4?[3,5]:n<4/3?[4,4]:[5,3]},mn=(t,e)=>{const[n,r]=lr(t,e);return{length:n*r-15}},Io=(t,e,n)=>{const r=it(4,t)*e+(t!=="small"?.666:.333)*e*2,i=rr(t).height*n+(t!=="small"?.5:.25)*n*2;return[r,i]},Ro=(t,e,n,r)=>{const i=n>600?n:r,o=Math.min(e,i*(16/9)),[a,l]=lr(e,r),[s,u]=Io(t,a,l),f=o*.95/s,c=i*.95/u;return{fontSize:Math.min(f,c),columns:a,rows:l,tableWidthEm:s,tableHeightEm:u}},hn=()=>{const t=new re.Deck;return[...Array(13)].map(()=>t.popN(4)).concat([[],[]])},At=t=>{const[e,...n]=t;return n.every(r=>r.value===e.value)},jo=t=>t.length===0?!1:t.length===1?!0:At(t),Dt=(t,e)=>t.length+e.length>4?!1:e.length===0||e[e.length-1].value===t[0].value,$t=(t,e,n,r)=>{const i=t.map(o=>[...o]);if(!Dt(r,i[n]))throw new Error(`Can not move cards ${r.map(o=>o.toString(Zn.ShortEmoji))} from pile ${e} to pile ${n}`);return i[e]=i[e].slice(0,i[e].length-r.length),i[n]=[...i[n],...r],i},Pt=t=>t.length===1||At(t)?t:Pt(t.slice(1)),Uo=(t,e)=>{if(t[e].length===0)throw new Error("Cannot move cards from an empty pile.");if(Ft(t[e]))throw new Error("Cannot move cards from a completed pile.");const n=Pt(t[e]),r=t.reduce((a,l,s)=>s!==e&&Dt(n,l)?[...a,s]:a,[]);if(r.length===0)throw new Error(`Cannot move cards from pile ${e} to any other pile`);const i=r.filter(a=>t[a].length>0),o=i.length>0?i[0]:r[0];return $t(t,e,o,n)},Ko=(t,e)=>{const n=t[e].slice(-1);return n.length===0?[[],n]:[t.reduce((i,o,a)=>a!==e&&Dt(n,o)?[...i,a]:i,[]),n]},sr=t=>t.reduce((e,n,r)=>{const[i,o]=Ko(t,r);return i.length===0?e:[...e,[r,i,o]]},[]),zo=(t,e)=>{if(t[0]!==e[0]||t[1].length!==e[1].length)return!1;for(let n=0;n<t[1].length;n++)if(t[1][n]!==e[1][n])return!1;return new bt(t[2]).toString()===new bt(e[2]).toString()},Bo=t=>(e,n,r)=>{var d;const[i,o,a]=e,l=[...a];if(o.length>1)return[!1,[]];const s=o[0],u=$t(t,i,s,a),f=sr(u),c=r.filter(([g])=>g!==s).map(g=>g[0]===i?[s,[i],a]:g).sort((g,m)=>g[0]-m[0]);if(f.length-c.length===1){const g=u[i].slice(-2);if(((d=u[s][0])==null?void 0:d.value)!==a[0].value&&g.length===2&&g.every(m=>m.value===a[0].value))c.push([i,o,[g[1]]]),c.sort((m,w)=>m[0]-w[0]),l.push(g[1]);else return[!1,[]]}return f.length!==c.length?[!1,[]]:[c.every((g,m)=>zo(g,f[m])),l]},Ho=t=>{const e=sr(t);if(e.length===0)return["dead-end",[]];const n=e.map(Bo(t));return n.every(([r])=>r)&&n.length>0?["infinite-loop",n.reduce((i,o)=>[...i,...o[1]],[])]:[!1,[]]},Ft=t=>t.length===4&&At(t),Vo=t=>t.every(e=>Ft(e)||e.length===0),qo=t=>t.reduce((e,n,r)=>Ft(n)?[...e,r]:e,[]),je=t=>({type:t,timestamp:Date.now()}),Wo=t=>{const e={};return t.forEach(({type:n})=>e[n]=(e[n]??0)+1),e},vn=t=>t.reduce((e,n)=>e+n,0),Jo=t=>{const e=t.filter(i=>i.type==="start").map(i=>i.timestamp),n=t.filter(i=>i.type==="stop").map(i=>i.timestamp);if(e.length===0)return[null,null];const r=(n[n.length-1]??Date.now())-e[0];return e.length!==n.length?[null,r]:[vn(n)-vn(e),r]},Qe=(t,e)=>t>0?`${t} ${e}`:"",pn=t=>{if(t<1e3)return Qe(t,"ms");const e=Math.floor(t/36e5),n=Math.floor(t/6e4-e*60),r=Math.floor(t/1e3-n*60-e*3600);return[Qe(e,"h"),Qe(n,"min"),Qe(r,"s")].join(" ").trim()};function Go(t){let e,n,r,i,o,a,l,s=pn(t[0])+"",u,f,c,d,g,m,w=(t[1].move??0)-(t[1].undo??0)+"",$,B,I,D,y,P,F=(t[1].move??0)+(t[1].undo??0)+"",V,L,A,z,v,h,S=(t[1].undo??0)+"",M;return{c(){e=C("p"),e.innerHTML=`Here are statistics about the completed game. Undo and undone moves are
  excluded from <i>Significant moves</i> but included in <i>Total moves</i>.`,n=R(),r=C("table"),i=C("tr"),o=C("th"),o.textContent="Elapsed time:",a=R(),l=C("td"),u=J(s),f=R(),c=C("tr"),d=C("th"),d.textContent="Significant moves:",g=R(),m=C("td"),$=J(w),B=R(),I=C("tr"),D=C("th"),D.textContent="Total moves:",y=R(),P=C("td"),V=J(F),L=R(),A=C("tr"),z=C("th"),z.textContent="Undone moves:",v=R(),h=C("td"),M=J(S),p(o,"class","svelte-5tdcck"),p(l,"class","svelte-5tdcck"),p(d,"class","svelte-5tdcck"),p(m,"class","svelte-5tdcck"),p(D,"class","svelte-5tdcck"),p(P,"class","svelte-5tdcck"),p(z,"class","svelte-5tdcck"),p(h,"class","svelte-5tdcck"),p(r,"class","svelte-5tdcck")},m(N,E){O(N,e,E),O(N,n,E),O(N,r,E),_(r,i),_(i,o),_(i,a),_(i,l),_(l,u),_(r,f),_(r,c),_(c,d),_(c,g),_(c,m),_(m,$),_(r,B),_(r,I),_(I,D),_(I,y),_(I,P),_(P,V),_(r,L),_(r,A),_(A,z),_(A,v),_(A,h),_(h,M)},p(N,[E]){E&1&&s!==(s=pn(N[0])+"")&&le(u,s),E&2&&w!==(w=(N[1].move??0)-(N[1].undo??0)+"")&&le($,w),E&2&&F!==(F=(N[1].move??0)+(N[1].undo??0)+"")&&le(V,F),E&2&&S!==(S=(N[1].undo??0)+"")&&le(M,S)},i:q,o:q,d(N){N&&(T(e),T(n),T(r))}}}function Qo(t,e,n){let r,i,o,{events:a}=e;return t.$$set=l=>{"events"in l&&n(2,a=l.events)},t.$$.update=()=>{t.$$.dirty&4&&n(1,r=Wo(a)),t.$$.dirty&4&&n(0,[i,o]=Jo(a),o)},[o,r,a]}class Yo extends X{constructor(e){super(),Z(this,e,Qo,Go,G,{events:2})}}function bn(t){let e,n;return e=new at({props:{title:"Completed",$$slots:{default:[Zo]},$$scope:{ctx:t}}}),e.$on("close",t[6]),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const o={};i&129&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function Zo(t){let e,n,r,i,o;return e=new Yo({props:{events:t[0]}}),i=new he({props:{icon:"Shuffle",label:"Shuffle",onClick:t[5]}}),{c(){K(e.$$.fragment),n=R(),r=C("div"),K(i.$$.fragment),p(r,"class","actions svelte-16kom67")},m(a,l){j(e,a,l),O(a,n,l),O(a,r,l),j(i,r,null),o=!0},p(a,l){const s={};l&1&&(s.events=a[0]),e.$set(s)},i(a){o||(b(e.$$.fragment,a),b(i.$$.fragment,a),o=!0)},o(a){k(e.$$.fragment,a),k(i.$$.fragment,a),o=!1},d(a){a&&(T(n),T(r)),U(e,a),U(i)}}}function Xo(t){let e,n,r=t[2]&&t[1]&&bn(t);return{c(){r&&r.c(),e=kt()},m(i,o){r&&r.m(i,o),O(i,e,o),n=!0},p(i,[o]){i[2]&&i[1]?r?(r.p(i,o),o&6&&b(r,1)):(r=bn(i),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(Q(),k(r,1,1,()=>{r=null}),Y())},i(i){n||(b(r),n=!0)},o(i){k(r),n=!1},d(i){i&&T(e),r&&r.d(i)}}}function xo(t,e,n){let r,{events:i}=e,{piles:o}=e,a=!0;const l=ot(),s=()=>l("shuffle"),u=()=>{n(1,a=!1)};return t.$$set=f=>{"events"in f&&n(0,i=f.events),"piles"in f&&n(4,o=f.piles)},t.$$.update=()=>{t.$$.dirty&16&&n(2,r=Vo(o)),t.$$.dirty&1&&n(1,a=!0)},[i,a,r,l,o,s,u]}class ea extends X{constructor(e){super(),Z(this,e,xo,Xo,G,{events:0,piles:4})}}const ta=(t,e=re.CardStringType.Long)=>{const n=t.map(i=>i.toString(e)),r=[n.slice(0,-1).join(", "),...n.slice(-1)].filter(i=>i).join(" and ");return r.charAt(0).toUpperCase()+r.slice(1)};function yn(t){let e,n;return e=new at({props:{title:"Dead end",$$slots:{default:[na]},$$scope:{ctx:t}}}),e.$on("close",t[8]),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,i){const o={};i&518&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function _n(t){let e;return{c(){e=C("p"),e.textContent="No more possible moves. Undo the last move or start a new game."},m(n,r){O(n,e,r)},d(n){n&&T(e)}}}function wn(t){let e,n,r;return{c(){e=C("p"),n=J(t[1]),r=J(` can be moved back and forth between two piles. There are no
        other possible moves. Undo the last move or start a new game.`)},m(i,o){O(i,e,o),_(e,n),_(e,r)},p(i,o){o&2&&le(n,i[1])},d(i){i&&T(e)}}}function na(t){let e,n,r,i,o,a,l,s=t[2]==="dead-end"&&_n(),u=t[2]==="infinite-loop"&&wn(t);return i=new he({props:{icon:"Shuffle",label:"Shuffle",onClick:t[6]}}),a=new he({props:{icon:"Undo",label:"Undo",onClick:t[7]}}),{c(){s&&s.c(),e=R(),u&&u.c(),n=R(),r=C("div"),K(i.$$.fragment),o=R(),K(a.$$.fragment),p(r,"class","actions svelte-16kom67")},m(f,c){s&&s.m(f,c),O(f,e,c),u&&u.m(f,c),O(f,n,c),O(f,r,c),j(i,r,null),_(r,o),j(a,r,null),l=!0},p(f,c){f[2]==="dead-end"?s||(s=_n(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),f[2]==="infinite-loop"?u?u.p(f,c):(u=wn(f),u.c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null)},i(f){l||(b(i.$$.fragment,f),b(a.$$.fragment,f),l=!0)},o(f){k(i.$$.fragment,f),k(a.$$.fragment,f),l=!1},d(f){f&&(T(e),T(n),T(r)),s&&s.d(f),u&&u.d(f),U(i),U(a)}}}function ra(t){let e,n,r=t[2]&&t[0]&&yn(t);return{c(){r&&r.c(),e=kt()},m(i,o){r&&r.m(i,o),O(i,e,o),n=!0},p(i,[o]){i[2]&&i[0]?r?(r.p(i,o),o&5&&b(r,1)):(r=yn(i),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(Q(),k(r,1,1,()=>{r=null}),Y())},i(i){n||(b(r),n=!0)},o(i){k(r),n=!1},d(i){i&&T(e),r&&r.d(i)}}}function ia(t,e,n){let r,i,o,{piles:a}=e,l=!0;const s=ot(),u=()=>s("shuffle"),f=()=>s("undo"),c=()=>{n(0,l=!1)};return t.$$set=d=>{"piles"in d&&n(4,a=d.piles)},t.$$.update=()=>{t.$$.dirty&16&&n(2,[r,i]=Ho(a),r,(n(5,i),n(4,a))),t.$$.dirty&32&&n(1,o=ta(i)),t.$$.dirty&16&&n(0,l=!0)},[l,o,r,s,a,i,u,f,c]}class oa extends X{constructor(e){super(),Z(this,e,ia,ra,G,{piles:4})}}function aa(t){let e,n,r,i,o,a,l,s,u,f,c;return{c(){e=C("p"),e.textContent=`The goal of the pileon solitaire is to rearrange a deck of cards into piles
    of equal ranks from thirteen random piles of four using fifteen piles.`,n=R(),r=C("h3"),r.textContent="Rules",i=R(),o=C("ul"),o.innerHTML=`<li>Each pile can contain up to four cards.</li> <li>Cards can be moved from top of the pile into a pile where the top card is
      of the same rank as the card that is moved.</li> <li>Cards of any rank can be moved into an empty pile.</li> <li>Multiple cards with the same rank can be moved at once.</li> <li>Pile is complete when it contains all four cards with the same rank.</li>`,a=R(),l=C("h3"),l.textContent="Moving cards",s=R(),u=C("ol"),u.innerHTML=`<li>Select the source pile by clicking a pile. Cards to be moved are
      highlighted. Click the source pile again to reduce the amount of selected
      cards.</li> <li>Move cards by clicking the target pile. If the move is valid, the cards
      are moved from the source pile into the target pile.</li>`,f=R(),c=C("p"),c.textContent=`If your device supports drag-and-drop, you can also drag the cards you want
    to move from the source pile into the target pile. Double-clicking the
    source pile automatically moves cards from the pile to an available target
    pile.`},m(d,g){O(d,e,g),O(d,n,g),O(d,r,g),O(d,i,g),O(d,o,g),O(d,a,g),O(d,l,g),O(d,s,g),O(d,u,g),O(d,f,g),O(d,c,g)},p:q,d(d){d&&(T(e),T(n),T(r),T(i),T(o),T(a),T(l),T(s),T(u),T(f),T(c))}}}function la(t){let e,n;return e=new at({props:{title:"How to play?",$$slots:{default:[aa]},$$scope:{ctx:t}}}),e.$on("close",t[0]),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p(r,[i]){const o={};i&2&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function sa(t){function e(n){ht.call(this,t,n)}return[e]}class ua extends X{constructor(e){super(),Z(this,e,sa,la,G,{})}}function Sn(t,e,n){const r=t.slice();return r[25]=e[n],r}function kn(t,e,n){const r=t.slice();return r[28]=e[n],r[30]=n,r}function Cn(t){let e,n,r;return n=new ar({props:{cards:t[28],closed:t[10].includes(t[30]),selectedCardsN:t[9]===t[30]?t[8].length:0,labelOptions:{title:`Stack ${t[30]+1}`,closed:"rank"},index:t[30],isDraggableFn:jo}}),n.$on("drop",t[15](t[30])),n.$on("dblclick",t[16](t[30])),n.$on("select",t[14]),{c(){e=C("div"),K(n.$$.fragment),p(e,"class","pile svelte-4p00up")},m(i,o){O(i,e,o),j(n,e,null),r=!0},p(i,o){const a={};o&16&&(a.cards=i[28]),o&1024&&(a.closed=i[10].includes(i[30])),o&768&&(a.selectedCardsN=i[9]===i[30]?i[8].length:0),n.$set(a)},i(i){r||(b(n.$$.fragment,i),r=!0)},o(i){k(n.$$.fragment,i),r=!1},d(i){i&&T(e),U(n)}}}function Tn(t){let e,n;return{c(){e=C("div"),p(e,"class","pile svelte-4p00up"),p(e,"style",n=`min-width: ${it(4,t[3])}em`)},m(r,i){O(r,e,i)},p(r,i){i&8&&n!==(n=`min-width: ${it(4,r[3])}em`)&&p(e,"style",n)},d(r){r&&T(e)}}}function Nn(t){let e,n;return e=new ua({}),e.$on("close",t[22]),{c(){K(e.$$.fragment)},m(r,i){j(e,r,i),n=!0},p:q,i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){U(e,r)}}}function fa(t){let e,n,r,i=`${t[7].fontSize}px`,o=`${t[7].tableWidthEm*1.25}em`,a,l,s,u,f,c,d,g;Be(t[20]);let m=ie(t[4]),w=[];for(let y=0;y<m.length;y+=1)w[y]=Cn(kn(t,m,y));const $=y=>k(w[y],1,1,()=>{w[y]=null});let B=ie(mn(t[0],t[2])),I=[];for(let y=0;y<B.length;y+=1)I[y]=Tn(Sn(t,B,y));let D=t[6]&&Nn(t);return s=new ea({props:{events:t[5],piles:t[4]}}),s.$on("shuffle",t[12]),f=new oa({props:{piles:t[4]}}),f.$on("shuffle",t[12]),f.$on("undo",t[13]),{c(){e=C("main");for(let y=0;y<w.length;y+=1)w[y].c();n=R();for(let y=0;y<I.length;y+=1)I[y].c();a=R(),D&&D.c(),l=R(),K(s.$$.fragment),u=R(),K(f.$$.fragment),p(e,"class","pileon svelte-4p00up"),Be(()=>t[21].call(e)),Oe(e,"font-size",i),Oe(e,"width",o)},m(y,P){O(y,e,P);for(let F=0;F<w.length;F+=1)w[F]&&w[F].m(e,null);_(e,n);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(e,null);r=vr(e,t[21].bind(e)),O(y,a,P),D&&D.m(y,P),O(y,l,P),j(s,y,P),O(y,u,P),j(f,y,P),c=!0,d||(g=ne(window,"resize",t[20]),d=!0)},p(y,[P]){if(P&116496){m=ie(y[4]);let L;for(L=0;L<m.length;L+=1){const A=kn(y,m,L);w[L]?(w[L].p(A,P),b(w[L],1)):(w[L]=Cn(A),w[L].c(),b(w[L],1),w[L].m(e,n))}for(Q(),L=m.length;L<w.length;L+=1)$(L);Y()}if(P&13){B=ie(mn(y[0],y[2]));let L;for(L=0;L<B.length;L+=1){const A=Sn(y,B,L);I[L]?I[L].p(A,P):(I[L]=Tn(A),I[L].c(),I[L].m(e,null))}for(;L<I.length;L+=1)I[L].d(1);I.length=B.length}P&128&&i!==(i=`${y[7].fontSize}px`)&&Oe(e,"font-size",i),P&128&&o!==(o=`${y[7].tableWidthEm*1.25}em`)&&Oe(e,"width",o),y[6]?D?(D.p(y,P),P&64&&b(D,1)):(D=Nn(y),D.c(),b(D,1),D.m(l.parentNode,l)):D&&(Q(),k(D,1,1,()=>{D=null}),Y());const F={};P&32&&(F.events=y[5]),P&16&&(F.piles=y[4]),s.$set(F);const V={};P&16&&(V.piles=y[4]),f.$set(V)},i(y){if(!c){for(let P=0;P<m.length;P+=1)b(w[P]);b(D),b(s.$$.fragment,y),b(f.$$.fragment,y),c=!0}},o(y){w=w.filter(Boolean);for(let P=0;P<w.length;P+=1)k(w[P]);k(D),k(s.$$.fragment,y),k(f.$$.fragment,y),c=!1},d(y){y&&(T(e),T(a),T(l),T(u)),Ae(w,y),Ae(I,y),r(),D&&D.d(y),U(s,y),U(f,y),d=!1,g()}}}function ca(t,e,n){let r,i,o,a,l,s,u,f,c,d,g=ir(h=>({size:h.size==="default"?"bridge":h.size,fourColor:h.colors==="four-color"}));me(t,g,h=>n(19,u=h));let m=[hn()],w=[je("start")],$=!1;const B=h=>{h.stopPropagation(),n(6,$=!0)},I=h=>{h.stopPropagation(),n(18,y=[void 0,[]]),n(17,m=[hn()]),n(5,w=[je("start")])},D=h=>{h.stopPropagation(),m.length>1&&(n(18,y=[void 0,[]]),n(17,m=m.slice(0,m.length-1)),n(5,w=[...w,je("undo")]))};let y=[void 0,[]];const P=(h,S,M)=>{try{n(18,y=[void 0,[]]);const N=$t(m[m.length-1],h,S,M);n(17,m=[...m,N]),n(5,w=[...w,je("move")])}catch{}},F=h=>{const[S,M]=y,N=h.detail.index;i.includes(N)||(S===void 0||M.length===0?n(18,y=[N,Pt(r[N])]):S===N?n(18,y=[N,M.slice(1)]):S!==N&&(P(S,N,M),n(18,y=[void 0,[]])))},V=h=>S=>{S.preventDefault();const{sourceStack:M,cards:N}=$o(S);M!==h&&P(M,h,N)},L=h=>S=>{S.preventDefault();try{n(18,y=[void 0,[]]);const M=Uo(m[m.length-1],h);n(17,m=[...m,M]),n(5,w=[...w,je("move")])}catch{}};Ct(()=>{$e.update(h=>({...h,help:B,shuffle:I,undo:D}))}),Ln(()=>{$e.update(h=>({...h,help:void 0,shuffle:void 0,undo:void 0}))});function A(){n(2,d=window.innerHeight)}function z(){c=this.clientHeight,f=this.clientWidth,n(1,c),n(0,f)}const v=()=>{n(6,$=!1)};return t.$$.update=()=>{if(t.$$.dirty&5){const h=f<800||d<500?"small":"bridge";so(S=>({size:S.size==="default"?h:S.size,fourColor:S.colors==="four-color"}))}t.$$.dirty&131072&&n(4,r=m[m.length-1]),t.$$.dirty&16&&n(10,i=qo(r)),t.$$.dirty&262144&&n(9,o=y[0]),t.$$.dirty&262144&&n(8,a=y[1]),t.$$.dirty&524288&&n(3,l=u.size),t.$$.dirty&15&&n(7,s=Ro(l,f,c,d))},[f,c,d,l,r,w,$,s,a,o,i,g,I,D,F,V,L,m,y,u,A,z,v]}class da extends X{constructor(e){super(),Z(this,e,ca,fa,G,{})}}function ga(t){let e,n,r,i,o,a,l,s,u;e=new gi({});var f=t[0];function c(d,g){return{}}return f&&(r=It(f,c())),a=new Er({}),{c(){K(e.$$.fragment),n=R(),r&&K(r.$$.fragment),i=R(),o=R(),K(a.$$.fragment)},m(d,g){j(e,d,g),O(d,n,g),r&&j(r,d,g),O(d,i,g),O(d,o,g),j(a,d,g),l=!0,s||(u=ne(document.body,"keydown",t[1]),s=!0)},p(d,[g]){if(g&1&&f!==(f=d[0])){if(r){Q();const m=r;k(m.$$.fragment,1,0,()=>{U(m,1)}),Y()}f?(r=It(f,c()),K(r.$$.fragment),b(r.$$.fragment,1),j(r,i.parentNode,i)):r=null}},i(d){l||(b(e.$$.fragment,d),r&&b(r.$$.fragment,d),b(a.$$.fragment,d),l=!0)},o(d){k(e.$$.fragment,d),r&&k(r.$$.fragment,d),k(a.$$.fragment,d),l=!1},d(d){d&&(T(n),T(i),T(o)),U(e,d),r&&U(r,d),U(a,d),s=!1,u()}}}function ma(t,e,n){let r,i,o;me(t,$e,l=>n(3,i=l)),me(t,De,l=>n(2,o=l));const a=l=>{l.key==="z"&&(l.ctrlKey||l.metaKey)&&i.undo!==void 0&&i.undo(l),l.key==="F1"&&i.help!==void 0&&i.help(l)};return t.$$.update=()=>{t.$$.dirty&4&&n(0,r=o.game==="deck"?Oo:da)},[r,a,o]}class ha extends X{constructor(e){super(),Z(this,e,ma,ga,G,{})}}new ha({target:document.body});
